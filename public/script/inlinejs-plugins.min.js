(()=>{"use strict";var t={627:(t,e,n)=>{n.r(e),n.d(e,{AlertMagicHandler:()=>s,AlertMagicHandlerCompact:()=>c,AlertMagicName:()=>i});const i="alert";var o=n(992);let r="",a=null;const l=function(){const t=()=>r?(0,o.GetGlobal)().GetConcept(r):null;let e={setConceptName:t=>r=t,setHandler:t=>a=t,notify:e=>{var n;return null===(n=a||t())||void 0===n?void 0:n.Notify(function(t){return(0,o.IsObject)(t)?(t.icon=t.icon||(t.error?"error":t.type||t.code||"success"),t.text=t.text||t.message,t.toast=!!t.toast||!!t.asToast,t.position=t.position||(t.toast?"top-end":"center"),t.timer=t.timer||("number"==typeof t.duration?t.duration:!1===t.duration?void 0:5e3)):t={icon:"info",title:"Information",text:t,position:"center"},t}(e))},confirm:e=>{var n;return null===(n=a||t())||void 0===n?void 0:n.Confirm(function(t){return(0,o.IsObject)(t)?(t.icon=t.icon||"warning",t.title=t.title||"Please confirm your action",t.text=t.text||t.message,t.confirmButtonText=t.confirmButtonText||"Yes, continue",t.position=t.position||"center",t.toast=!1,t.timer=void 0):t={icon:"warning",title:"Please confirm your action",text:t,confirmButtonText:"Yes, continue",position:"center"},t}(e))},prompt:e=>{var n;return null===(n=a||t())||void 0===n?void 0:n.Prompt(function(t){return(0,o.IsObject)(t)?(t.icon=t.icon||"info",t.title=t.title||"Please enter details below",t.text=t.text||t.message,t.confirmButtonText=t.confirmButtonText||"Submit",t.position=t.position||"center",t.input=t.input||t.type||"text",t.toast=!1,t.timer=void 0):t={icon:"info",title:"Please enter details below",text:t,confirmButtonText:"Submit",position:"center",input:"text"},t}(e))}};return(0,o.CreateReadonlyProxy)(e)}(),s=(0,o.CreateMagicHandlerCallback)(i,(()=>l));function c(){(0,o.AddMagicHandler)(s)}},203:(t,e,n)=>{n.r(e),n.d(e,{AddAnimationActor:()=>Nt,AddAnimationEase:()=>r,AnimateDirectiveHandler:()=>rn,AnimateDirectiveHandlerCompact:()=>an,AnimationActorCollection:()=>en,AnimationConcept:()=>fn,AnimationCreatorCollection:()=>nn,AnimationEaseCollection:()=>on,AnimationMagicHandler:()=>hn,AnimationMagicHandlerCompact:()=>mn,ApplyRange:()=>ve,ApplyRangeAndTransform:()=>ye,ApplyTransform:()=>ge,BackAnimationEase:()=>l,BackAnimationEaseCompact:()=>s,BackInAnimationEase:()=>c,BackInAnimationEaseCompact:()=>u,BackInOutAnimationEase:()=>h,BackInOutAnimationEaseCompact:()=>m,BackOutAnimationEase:()=>d,BackOutAnimationEaseCompact:()=>p,BezierAnimationEaseCreator:()=>Be,BounceAnimationEase:()=>g,BounceAnimationEaseCompact:()=>_,BounceInAnimationEase:()=>y,BounceInAnimationEaseCompact:()=>b,BounceInOutAnimationEase:()=>E,BounceInOutAnimationEaseCompact:()=>x,BounceOutAnimationEase:()=>C,BounceOutAnimationEaseCompact:()=>A,CallAnimationActor:()=>Lt,CallAnimationEase:()=>k,CircleAnimationEase:()=>G,CircleAnimationEaseCompact:()=>I,CircleInAnimationEase:()=>O,CircleInAnimationEaseCompact:()=>w,CircleInOutAnimationEase:()=>M,CircleInOutAnimationEaseCompact:()=>$,CircleOutAnimationEase:()=>S,CircleOutAnimationEaseCompact:()=>P,CreateAnimationActorCallback:()=>zt,CreateAnimationEaseCallback:()=>a,CreateBezierAnimationEaseCallback:()=>f,CreateRotateAnimationActor:()=>Yt,CreateRotateAnimationCallback:()=>Zt,CreateScaleAnimationActor:()=>le,CreateScaleAnimationCallback:()=>ae,CreateSceneAnimationActor:()=>fe,CreateSceneAnimationCallback:()=>me,CreateTranslateAnimationActor:()=>Pe,CreateTranslateAnimationCallback:()=>Se,CubicAnimationEase:()=>T,CubicAnimationEaseCompact:()=>F,CubicInAnimationEase:()=>R,CubicInAnimationEaseCompact:()=>D,CubicInOutAnimationEase:()=>B,CubicInOutAnimationEaseCompact:()=>N,CubicOutAnimationEase:()=>H,CubicOutAnimationEaseCompact:()=>j,DefaultAnimationActor:()=>Ut,DefaultAnimationActorCompact:()=>Wt,DefaultAnimationEase:()=>L,DefaultAnimationEaseCompact:()=>z,DefaultRotateAnimationActorFactor:()=>Xt,DefaultRotateAnimationActorUnit:()=>Vt,DefaultTranslateAnimationActorFactor:()=>Oe,DefaultTranslateAnimationActorUnit:()=>we,ElasticAnimationEase:()=>q,ElasticAnimationEaseCompact:()=>J,ElasticInAnimationEase:()=>U,ElasticInAnimationEaseCompact:()=>W,ElasticInOutAnimationEase:()=>X,ElasticInOutAnimationEaseCompact:()=>V,ElasticOutAnimationEase:()=>Q,ElasticOutAnimationEaseCompact:()=>K,ExponentialAnimationEase:()=>Z,ExponentialAnimationEaseCompact:()=>Y,ExponentialInAnimationEase:()=>tt,ExponentialInAnimationEaseCompact:()=>et,ExponentialInOutAnimationEase:()=>ot,ExponentialInOutAnimationEaseCompact:()=>rt,ExponentialOutAnimationEase:()=>nt,ExponentialOutAnimationEaseCompact:()=>it,FindTransitionData:()=>o,FlipAnimationActor:()=>te,FlipAnimationActorCompact:()=>ee,FormatValue:()=>_e,HeartbeatAnimationActor:()=>be,HeartbeatAnimationActorCompact:()=>Ce,HeightAnimationActor:()=>se,HeightAnimationActorCompact:()=>ce,InvertAnimationEase:()=>at,JelloAnimationCreator:()=>Ne,LinearAnimationEase:()=>lt,LinearAnimationEaseCompact:()=>st,NullAnimationActor:()=>Qt,NullAnimationActorCompact:()=>Kt,OpacityAnimationActor:()=>qt,OpacityAnimationActorCompact:()=>Jt,PulseAnimationActor:()=>Ae,PulseAnimationActorCompact:()=>Ee,QuadraticAnimationEase:()=>ct,QuadraticAnimationEaseCompact:()=>ut,QuadraticInAnimationEase:()=>dt,QuadraticInAnimationEaseCompact:()=>pt,QuadraticInOutAnimationEase:()=>ft,QuadraticInOutAnimationEaseCompact:()=>vt,QuadraticOutAnimationEase:()=>ht,QuadraticOutAnimationEaseCompact:()=>mt,QuartAnimationEase:()=>gt,QuartAnimationEaseCompact:()=>_t,QuartInAnimationEase:()=>yt,QuartInAnimationEaseCompact:()=>bt,QuartInOutAnimationEase:()=>Et,QuartInOutAnimationEaseCompact:()=>xt,QuartOutAnimationEase:()=>Ct,QuartOutAnimationEaseCompact:()=>At,QuintAnimationEase:()=>kt,QuintAnimationEaseCompact:()=>Gt,QuintInAnimationEase:()=>It,QuintInAnimationEaseCompact:()=>Ot,QuintInOutAnimationEase:()=>Pt,QuintInOutAnimationEaseCompact:()=>Mt,QuintOutAnimationEase:()=>wt,QuintOutAnimationEaseCompact:()=>St,RotateAnimationCreator:()=>ze,RubberbandAnimationCreator:()=>qe,ScaleAnimationCreator:()=>We,SceneAnimationCreator:()=>Qe,ShakeAnimationActor:()=>xe,ShakeAnimationActorCompact:()=>ke,ShakeAnimationCreator:()=>Ke,SineAnimationEase:()=>$t,SineAnimationEaseCompact:()=>Tt,SineInAnimationEase:()=>Ft,SineInAnimationEaseCompact:()=>Rt,SineInOutAnimationEase:()=>jt,SineInOutAnimationEaseCompact:()=>Bt,SineOutAnimationEase:()=>Dt,SineOutAnimationEaseCompact:()=>Ht,SlideDownAnimationActor:()=>Me,SlideDownAnimationActorCompact:()=>$e,SlideLeftAnimationActor:()=>Te,SlideLeftAnimationActorCompact:()=>Fe,SlideRightAnimationActor:()=>Re,SlideRightAnimationActorCompact:()=>De,SlideUpAnimationActor:()=>He,SlideUpAnimationActorCompact:()=>je,SpinAnimationActor:()=>ne,SpinAnimationActorCompact:()=>ie,SwingAnimationCreator:()=>Xe,TadaAnimationCreator:()=>Ve,TossAnimationActor:()=>oe,TossAnimationActorCompact:()=>re,TransitionDirectiveHandler:()=>sn,TransitionDirectiveHandlerCompact:()=>cn,TranslateAnimationCreator:()=>Ye,VibrateAnimationActor:()=>Ge,VibrateAnimationActorCompact:()=>Ie,VibrateAnimationCreator:()=>tn,WidthAnimationActor:()=>ue,WidthAnimationActorCompact:()=>de,ZoomAnimationActor:()=>pe,ZoomAnimationActorCompact:()=>he});var i=n(992);function o({componentId:t,component:e,contextElement:n}){var o,r;let a=null===(r=null===(o=e||(0,i.FindComponentById)(t))||void 0===o?void 0:o.FindElementScope(n))||void 0===r?void 0:r.GetData("transition");return!a||(0,i.GetGlobal)().IsNothing(a)?null:a}function r(t){var e,n;let o="",r=null;(0,i.IsObject)(t)?(({name:o,callback:r}=t),o&&r&&(null===(e=(0,i.GetGlobal)().GetConcept("animation"))||void 0===e||e.GetEaseCollection().Add(r,o))):null===(n=(0,i.GetGlobal)().GetConcept("animation"))||void 0===n||n.GetEaseCollection().Add(t)}function a(t,e){return{name:t,callback:e}}const l=a("back",(({fraction:t})=>1-(t=1-t)*t*(2.70158*t-1.70158)));function s(){r(l)}const c=a("backIn",(({fraction:t})=>2.70158*t*t*t-1.70158*t*t));function u(){r(c)}const d={name:`${l.name}Out`,callback:l.callback};function p(){r(d)}const h=a("backInOut",(({fraction:t})=>{const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2}));function m(){r(h)}function f(t){let e=t.map((t=>"number"!=typeof t?parseInt((0,i.ToString)(t)):t));return a(`bezier.${t.join(".")}`,(({fraction:t})=>{if(1==t)return t;let[n,i,o,r]=e.map((t=>.001*t)),a=3*(i-n),l=3*(o-i)-a,s=r-n-a-l;return a*Math.pow(t,3)+l*Math.pow(t,2)+s*t}))}var v=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n};const g=a("bounce",(({fraction:t})=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375));function _(){r(g)}const y=a("bounceIn",(t=>{var{fraction:e}=t,n=v(t,["fraction"]);return 1-g.callback(Object.assign({fraction:1-e},n))}));function b(){r(y)}const C={name:`${g.name}Out`,callback:g.callback};function A(){r(C)}const E=a("bounceInOut",(t=>{var{fraction:e}=t,n=v(t,["fraction"]);return e<.5?(1-y.callback(Object.assign({fraction:1-2*e},n)))/2:(1+g.callback(Object.assign({fraction:2*e-1},n)))/2}));function x(){r(E)}function k(t,e){return(0,i.IsObject)(t)?t.callback(e):"function"==typeof t?t(e):t.Handle(e)}const G=a("circle",(({fraction:t})=>Math.sqrt(1-Math.pow(t-1,2))));function I(){r(G)}const O=a("circleIn",(({fraction:t})=>1-Math.sqrt(1-Math.pow(t,2))));function w(){r(O)}const S={name:`${G.name}Out`,callback:G.callback};function P(){r(S)}const M=a("circleInOut",(({fraction:t})=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2));function $(){r(M)}const T=a("cubic",(({fraction:t})=>1-Math.pow(1-t,3)));function F(){r(T)}const R=a("cubicIn",(({fraction:t})=>Math.pow(t,3)));function D(){r(R)}const H={name:`${T.name}Out`,callback:T.callback};function j(){r(H)}const B=a("cubicInOut",(({fraction:t})=>t<.5?4*Math.pow(t,3):1-Math.pow(-2*t+2,3)/2));function N(){r(B)}const L=a("default",(({fraction:t})=>1!=t?-1*Math.cos(t*(Math.PI/2))+1:1));function z(){r(L)}const q=a("elastic",(({fraction:t})=>0==t||1==t?t:Math.pow(2,-10*t)*Math.sin((10*t-.75)*(2*Math.PI/3))+1));function J(){r(q)}const U=a("elasticIn",(({fraction:t})=>0==t?0:1==t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*(2*Math.PI/3))));function W(){r(U)}const Q={name:`${q.name}Out`,callback:q.callback};function K(){r(Q)}const X=a("elasticInOut",(({fraction:t})=>{if(0==t||1==t)return t;const e=2*Math.PI/4.5;return t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1}));function V(){r(X)}const Z=a("exponential",(({fraction:t})=>1==t?t:1-Math.pow(2,-10*t)));function Y(){r(Z)}const tt=a("exponentialIn",(({fraction:t})=>0==t?0:Math.pow(2,10*t-10)));function et(){r(tt)}const nt={name:`${Z.name}Out`,callback:Z.callback};function it(){r(nt)}const ot=a("exponentialInOut",(({fraction:t})=>1==t?t:1-Math.pow(2,-10*t)));function rt(){r(ot)}function at(t,e){return 1-k(t,e)}const lt=a("linear",(({fraction:t})=>t));function st(){r(lt)}const ct=a("quadratic",(({fraction:t})=>1-Math.pow(1-t,2)));function ut(){r(ct)}const dt=a("quadraticIn",(({fraction:t})=>Math.pow(t,2)));function pt(){r(dt)}const ht={name:`${ct.name}Out`,callback:ct.callback};function mt(){r(ht)}const ft=a("quadraticInOut",(({fraction:t})=>t<.5?2*Math.pow(t,2):1-Math.pow(-2*t+2,2)/2));function vt(){r(ft)}const gt=a("quart",(({fraction:t})=>1-Math.pow(1-t,4)));function _t(){r(gt)}const yt=a("quartIn",(({fraction:t})=>Math.pow(1-t,4)));function bt(){r(yt)}const Ct={name:`${gt.name}Out`,callback:gt.callback};function At(){r(Ct)}const Et=a("quartInOut",(({fraction:t})=>t<.5?8*Math.pow(t,4):1-Math.pow(-2*t+2,4)/2));function xt(){r(Et)}const kt=a("quint",(({fraction:t})=>1-Math.pow(1-t,5)));function Gt(){r(kt)}const It=a("quintIn",(({fraction:t})=>Math.pow(1-t,5)));function Ot(){r(It)}const wt={name:`${kt.name}Out`,callback:kt.callback};function St(){r(wt)}const Pt=a("quintInOut",(({fraction:t})=>t<.5?16*Math.pow(t,5):1-Math.pow(-2*t+2,5)/2));function Mt(){r(Pt)}const $t=a("sine",(({fraction:t})=>Math.sin(t*Math.PI/2)));function Tt(){r($t)}const Ft=a("sineIn",(({fraction:t})=>1-Math.cos(t*Math.PI/2)));function Rt(){r(Ft)}const Dt={name:`${$t.name}Out`,callback:$t.callback};function Ht(){r(Dt)}const jt=a("sineInOut",(({fraction:t})=>-(Math.cos(Math.PI*t)-1)/2));function Bt(){r(jt)}function Nt(t){var e,n;let o="",r=null;(0,i.IsObject)(t)?(({name:o,callback:r}=t),o&&r&&(null===(e=(0,i.GetGlobal)().GetConcept("animation"))||void 0===e||e.GetActorCollection().Add(r,o))):null===(n=(0,i.GetGlobal)().GetConcept("animation"))||void 0===n||n.GetActorCollection().Add(t)}function Lt(t,e){return(0,i.IsObject)(t)?t.callback(e):"function"==typeof t?t(e):t.Handle(e)}function zt(t,e){return{name:t,callback:e}}const qt=zt("opacity",(({fraction:t,target:e,stage:n})=>{"end"===n?e.style.removeProperty("opacity"):e.style.opacity=t.toString()}));function Jt(){Nt(qt)}const Ut={name:"default",callback:qt.callback};function Wt(){Nt(Ut)}const Qt=zt("null",(()=>{}));function Kt(){Nt(Qt)}const Xt=360,Vt="deg";function Zt({axis:t="z",origin:e,factor:n,unit:i}={}){let o=t=>"center"!==t?"end"===t?"100%":"0%":"50%",r=`${o((null==e?void 0:e.x)||"center")} ${o((null==e?void 0:e.y)||"center")}`,a=n||Xt,l=i||Vt;return({fraction:e,target:n,stage:i})=>{"start"===i&&(n.style.transformOrigin=r);let o=a<0?a+-a*e:a-a*e,s="x"===t||"all"===t?1:0,c="y"===t||"all"===t?1:0,u=t&&"z"!==t&&"all"!==t?0:1;n.style.transform=n.style.transform.replace(/[ ]*rotate([XYZ]|3d)?\(.+?\)/g,""),n.style.transform+=` rotate3d(${s},${c},${u},${o}${l})`}}function Yt(t){var{name:e}=t;return zt(e,Zt(function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["name"])))}const te=Yt({name:"flip",axis:"y"});function ee(){Nt(te)}const ne=Yt({name:"spin",axis:"z"});function ie(){Nt(ne)}const oe=Yt({name:"toss",axis:"x"});function re(){Nt(oe)}function ae({axis:t,origin:e,factor:n}={}){let i=t=>"center"!==t?"end"===t?"100%":"0%":"50%",o=`${i((null==e?void 0:e.x)||"center")} ${i((null==e?void 0:e.y)||"center")}`,r=n&&n>0?n:1;return({fraction:e,target:n,stage:i})=>{"start"===i&&(n.style.transformOrigin=o),e=1!=r?r<1?1-r*(1-e):r-1-(r-1)*e+1:e;let a="x"!==t?"y"===t?`scaleY(${e})`:`scale(${e}, ${e})`:`scaleX(${e})`;n.style.transform=n.style.transform.replace(/[ ]*scale[XY]?\(.+?\)/g,""),n.style.transform+=` ${a}`}}function le(t){var{name:e}=t;return zt(e,ae(function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["name"])))}const se=le({name:"height",axis:"y",origin:{x:"center",y:"start"}});function ce(){Nt(se)}const ue=le({name:"width",axis:"x",origin:{x:"start",y:"center"}});function de(){Nt(ue)}const pe=le({name:"zoom",axis:"both",origin:{x:"center",y:"center"}});function he(){Nt(pe)}function me({frames:t,origin:{x:e="center",y:n="center"}={}}){let i=t.reduce(((t,{actor:e,checkpoint:n})=>(Array.isArray(n)?t.push(...n.map((t=>({actor:e,checkpoint:t})))):t.push({actor:e,checkpoint:n}),t)),new Array).sort(((t,e)=>t.checkpoint<=e.checkpoint?t.checkpoint<e.checkpoint?-1:0:1)),o=t=>t<i.length?i[t].checkpoint:null,r=i.map((({actor:t,checkpoint:e},n)=>({actor:t,range:{from:e,to:o(n+1)}}))),a=t=>"center"!==t?"end"===t?"100%":"0%":"50%",l=`${a(e)} ${a(n)}`,s=(t,e)=>t.range.from<=e&&(null===t.range.to||e<t.range.to),c=null;return({fraction:t,target:e,stage:n})=>{"start"===n&&(c=null,l&&(e.style.transformOrigin=l));let i=100*t;if(c&&s(c,i)||(c=(t=>r.find((e=>s(e,t))))(i)||null),c){let t=(c.range.to||100)-c.range.from;o=c.actor,a={fraction:0==t?0:(i-c.range.from)/t,target:e,stage:n},"function"==typeof o?o(a):o.Handle(a)}var o,a}}function fe(t){var{name:e}=t;return zt(e,me(function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["name"])))}function ve(t,e,n){return(n-e)*t+e}function ge(t,e,n){t.style.transform=t.style.transform.replace(new RegExp(`[ ]*${e}([XYZ]|3d)?\\(.+?\\)`,"g"),""),t.style.transform+=n?` ${e}(${n})`:` ${e}`}function _e(t,e){return e&&e>1?Array.from({length:e}).map((e=>t)).join(","):t}function ye(t,e,n,i,o,r,a){ge(t,e,_e(`${ve(n,i,o)}${r||""}`,a))}const be=fe({name:"heartbeat",frames:[{checkpoint:0,actor:({target:t,fraction:e})=>ye(t,"scale",e,1,1,"",2)},{checkpoint:[1,28],actor:({target:t,fraction:e})=>ye(t,"scale",e,1,1.26,"",2)},{checkpoint:[14,42],actor:({target:t,fraction:e})=>ye(t,"scale",e,1.26,1,"",2)},{checkpoint:70,actor:({target:t,fraction:e})=>ye(t,"scale",e,1,1,"",2)}]});function Ce(){Nt(be)}const Ae=fe({name:"pulse",frames:[{checkpoint:0,actor:({target:t,fraction:e})=>ye(t,"scale",e,1,1,"",2)},{checkpoint:1,actor:({target:t,fraction:e})=>ye(t,"scale",e,1,1.26,"",2)},{checkpoint:50,actor:({target:t,fraction:e})=>ye(t,"scale",e,1.26,1,"",2)},{checkpoint:100,actor:({target:t,fraction:e})=>ye(t,"scale",e,1,1,"",2)}]});function Ee(){Nt(Ae)}const xe=fe({name:"shake",frames:[{checkpoint:0,actor:({target:t,fraction:e})=>ye(t,"translateX",e,0,0,"px")},{checkpoint:1,actor:({target:t,fraction:e})=>ye(t,"translateX",e,0,10,"px")},{checkpoint:[10,30,50,70],actor:({target:t,fraction:e})=>ye(t,"translateX",e,-10,10,"px")},{checkpoint:[20,40,60,80],actor:({target:t,fraction:e})=>ye(t,"translateX",e,10,-10,"px")},{checkpoint:90,actor:({target:t,fraction:e})=>ye(t,"translateX",e,-10,0,"px")},{checkpoint:100,actor:({target:t,fraction:e})=>ye(t,"translateX",e,0,0,"px")}]});function ke(){Nt(xe)}const Ge=fe({name:"vibrate",frames:[{checkpoint:0,actor:({target:t,fraction:e})=>ye(t,"rotateZ",e,0,0,"deg")},{checkpoint:1,actor:({target:t,fraction:e})=>ye(t,"rotateZ",e,0,4,"deg")},{checkpoint:[10,30,50,70],actor:({target:t,fraction:e})=>ye(t,"rotateZ",e,-4,4,"deg")},{checkpoint:[20,40,60,80],actor:({target:t,fraction:e})=>ye(t,"rotateZ",e,4,-4,"deg")},{checkpoint:90,actor:({target:t,fraction:e})=>ye(t,"rotateZ",e,-4,0,"deg")},{checkpoint:100,actor:({target:t,fraction:e})=>ye(t,"rotateZ",e,0,0,"deg")}]});function Ie(){Nt(Ge)}const Oe=9999,we="px";function Se({axis:t,factor:e,unit:n}={}){let i=e||Oe,o=n||we;return({fraction:e,target:n})=>{let r=i<0?i+-i*e:i-i*e,a="x"!==t?"y"===t?`translateY(${r}${o})`:`translate(${r}${o}, ${r}${o})`:`translateX(${r}${o})`;n.style.transform=n.style.transform.replace(/[ ]*translate[XY]?\(.+?\)/g,""),n.style.transform+=` ${a}`}}function Pe(t){var{name:e}=t;return zt(e,Se(function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["name"])))}const Me=Pe({name:"slideDown",axis:"y",factor:-Oe});function $e(){Nt(Me)}const Te=Pe({name:"slideLeft",axis:"x"});function Fe(){Nt(Te)}const Re=Pe({name:"slideRight",axis:"x",factor:-Oe});function De(){Nt(Re)}const He=Pe({name:"slideUp",axis:"y"});function je(){Nt(He)}function Be(t){return({fraction:e})=>{if(1==e)return e;let[n,i,o,r]=t.map((t=>.001*t)),a=3*(i-n),l=3*(o-i)-a,s=r-n-a-l;return a*Math.pow(e,3)+l*Math.pow(e,2)+s*e}}function Ne({factor:t=12.6,divisor:e=2,unit:n="deg"}={}){return me({frames:[{checkpoint:0,actor:({target:i,fraction:o})=>Le(i,o,t,e,0,n)},{checkpoint:11.1,actor:({target:i,fraction:o})=>Le(i,o,t,e,1,n)},{checkpoint:22.2,actor:({target:i,fraction:o})=>Le(i,o,t,e,2,n)},{checkpoint:33.3,actor:({target:i,fraction:o})=>Le(i,o,t,e,3,n)},{checkpoint:44.4,actor:({target:i,fraction:o})=>Le(i,o,t,e,4,n)},{checkpoint:55.5,actor:({target:i,fraction:o})=>Le(i,o,t,e,5,n)},{checkpoint:66.6,actor:({target:i,fraction:o})=>Le(i,o,t,e,6,n)},{checkpoint:77.7,actor:({target:i,fraction:o})=>Le(i,o,t,e,7,n)},{checkpoint:88.8,actor:({target:i,fraction:o})=>Le(i,o,t,e,8,n)},{checkpoint:100,actor:({target:i,fraction:o})=>Le(i,o,t,e,0,n)}]})}function Le(t,e,n,i,o,r){let[a,l]=function(t,e,n){let i=n<2?0:t/Math.pow(e,n-1),o=n<1?0:t/Math.pow(e,n);return n%2==0?i=-i:o=-o,[i,o]}(n,i,o);ye(t,"skew",e,a,l,r,2)}function ze(t={}){return Zt(t)}function qe({factor:t=1.26,multiplier:e=.1}={}){return me({frames:[{checkpoint:0,actor:({target:n,fraction:i})=>Je(n,i,t,e,null,1,null,1)},{checkpoint:1,actor:({target:n,fraction:i})=>Je(n,i,t,e,-2,0,-2,5)},{checkpoint:30,actor:({target:n,fraction:i})=>Je(n,i,t,e,0,5,5,0)},{checkpoint:40,actor:({target:n,fraction:i})=>Je(n,i,t,e,5,1,0,4)},{checkpoint:50,actor:({target:n,fraction:i})=>Je(n,i,t,e,1,3,4,2)},{checkpoint:65,actor:({target:n,fraction:i})=>Je(n,i,t,e,3,2,2,3)},{checkpoint:75,actor:({target:n,fraction:i})=>Je(n,i,t,e,2,-2,3,-2)},{checkpoint:100,actor:({target:n,fraction:i})=>Je(n,i,t,e,null,1,null,1)}]})}function Je(t,e,n,i,o,r,a,l){ge(t,"scale",`${null===o?r:ve(e,Ue(n,i,o),Ue(n,i,r))},${null===a?l:ve(e,Ue(n,i,a),Ue(n,i,l))}`)}function Ue(t,e,n){return 0<=n?t-e*n:-(n+1)}function We(t={}){return ae(t)}function Qe(t){return me(t)}function Ke({displacement:t=10,unit:e="px"}={}){return me({frames:[{checkpoint:0,actor:({target:t,fraction:n})=>ye(t,"translateX",n,0,0,e)},{checkpoint:1,actor:({target:n,fraction:i})=>ye(n,"translateX",i,0,t,e)},{checkpoint:[10,30,50,70],actor:({target:n,fraction:i})=>ye(n,"translateX",i,-t,t,e)},{checkpoint:[20,40,60,80],actor:({target:n,fraction:i})=>ye(n,"translateX",i,t,-t,e)},{checkpoint:90,actor:({target:n,fraction:i})=>ye(n,"translateX",i,-t,0,e)},{checkpoint:100,actor:({target:t,fraction:n})=>ye(t,"translateX",n,0,0,e)}]})}function Xe({displacement:t=5,unit:e="deg",origin:{x:n="start",y:i="start"}={}}={}){return me({origin:{x:n,y:i},frames:[{checkpoint:0,actor:({target:t,fraction:n})=>ye(t,"rotate",n,0,0,e)},{checkpoint:1,actor:({target:n,fraction:i})=>ye(n,"rotate",i,0*t,3*t,e)},{checkpoint:20,actor:({target:n,fraction:i})=>ye(n,"rotate",i,3*t,-2*t,e)},{checkpoint:40,actor:({target:n,fraction:i})=>ye(n,"rotate",i,-2*t,1*t,e)},{checkpoint:60,actor:({target:n,fraction:i})=>ye(n,"rotate",i,1*t,-1*t,e)},{checkpoint:80,actor:({target:n,fraction:i})=>ye(n,"rotate",i,-1*t,0*t,e)},{checkpoint:100,actor:({target:t,fraction:n})=>ye(t,"rotate",n,0,0,e)}]})}function Ve({displacement:t=3,fromFactor:e=.9,toFactor:n=1.17,unit:i="deg"}={}){return me({frames:[{checkpoint:0,actor:({target:t,fraction:e})=>Ze(t,e,0,0,null,1,i)},{checkpoint:1,actor:({target:n,fraction:o})=>Ze(n,o,0,t,1,e,i,!0)},{checkpoint:10,actor:()=>{}},{checkpoint:20,actor:({target:o,fraction:r})=>Ze(o,r,-t,t,e,n,i)},{checkpoint:30,actor:()=>{}},{checkpoint:[40,60,80],actor:({target:e,fraction:o})=>Ze(e,o,-t,t,null,n,i)},{checkpoint:[50,70],actor:({target:e,fraction:o})=>Ze(e,o,t,-t,null,n,i)},{checkpoint:90,actor:({target:e,fraction:o})=>Ze(e,o,t,0,n,1,i)},{checkpoint:100,actor:({target:t,fraction:e})=>Ze(t,e,0,0,null,1,i)}]})}function Ze(t,e,n,i,o,r,a,l=!1){let s=null===o?r:ve(e,o,r),c=ve(e,n,i),u=l?ve(e,0,1):1;t.style.transform=t.style.transform.replace(/[ ]*rotate([XYZ]|3d)?\(.+?\)/,""),t.style.transform+=` rotate3d(0,0,${u},${c}${a})`,ge(t,"scale",`${s},${s}`)}function Ye(t={}){return Se(t)}function tn({displacement:t=4,unit:e="deg"}={}){return me({frames:[{checkpoint:0,actor:({target:t,fraction:n})=>ye(t,"rotate",n,0,0,e)},{checkpoint:1,actor:({target:n,fraction:i})=>ye(n,"rotate",i,0,t,e)},{checkpoint:[10,30,50,70],actor:({target:n,fraction:i})=>ye(n,"rotate",i,-t,t,e)},{checkpoint:[20,40,60,80],actor:({target:n,fraction:i})=>ye(n,"rotate",i,t,-t,e)},{checkpoint:90,actor:({target:n,fraction:i})=>ye(n,"rotate",i,-t,0,e)},{checkpoint:100,actor:({target:t,fraction:n})=>ye(t,"rotate",n,0,0,e)}]})}class en{constructor(){this.handlers_={}}Add(t,e){"function"!=typeof t?this.handlers_[t.GetName()]=t:e&&(this.handlers_[e]=t)}Remove(t){delete this.handlers_[t]}Find(t){if(this.handlers_.hasOwnProperty(t)){let e=this.handlers_[t];return"function"==typeof e?e:t=>e.Handle(t)}return null}}class nn{constructor(){this.list_={}}Add(t,e){this.list_[t]=e}Remove(t){delete this.list_[t]}Find(t){return this.list_.hasOwnProperty(t)?this.list_[t]:null}}class on{constructor(){this.handlers_={}}Add(t,e){"function"!=typeof t?this.handlers_[t.GetName()]=t:e&&(this.handlers_[e]=t)}Remove(t){delete this.handlers_[t]}Find(t){if(this.handlers_.hasOwnProperty(t)){let e=this.handlers_[t];return"function"==typeof e?e:t=>e.Handle(t)}return null}}const rn=(0,i.CreateDirectiveHandlerCallback)("animate",(t=>{var e,n,r,a,l,s,c,u,{componentId:d,contextElement:p,argKey:h,argOptions:m}=t,f=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["componentId","contextElement","argKey","argOptions"]);let v=m.includes("alternate"),g=m.includes("normal"),_="inner"===h;m=m.filter((t=>"normal"!==t));let y=0,b=()=>{let t=(t,e,n)=>{let o=++y;s=(0,i.WaitTransition)({componentId:d,contextElement:p,target:e,reverse:t,callback:t=>{o==y&&(s=null,t?n&&n():(_?Array.from(p.children):[p]).forEach((t=>{t.style.removeProperty("transform")})))}})},e=0,n=i=>{e<p.children.length?t(i,p.children[e++],(()=>n(i))):a(v?!i:i)},r=i=>{var r;y+=1,_?(e=0,n(i)):t(i,null===(r=o({componentId:d,contextElement:p}))||void 0===r?void 0:r.target,(()=>a(v?!i:i)))},a=t=>{var e,n;let o=(0,i.ResolveTransition)((null===(n=null===(e=(0,i.FindComponentById)(d))||void 0===e?void 0:e.FindElementScope(p))||void 0===n?void 0:n.GetData("transition"))||null,t);if(o&&o.repeats){let e=++y;o.repeats>0&&(o.repeats-=1),setTimeout((()=>{e==y&&(p.dispatchEvent(new CustomEvent("animate.repeat")),r(t))}),o.delay||i.DefaultTransitionDelay)}},l=!1,s=null;(0,i.LazyCheck)(Object.assign(Object.assign({componentId:d,contextElement:p,argKey:h,argOptions:m},f),{callback:t=>{!!t!==l&&(s&&(s(),(_?Array.from(p.children):[p]).forEach((t=>{t.style.removeProperty("transform"),t.style.removeProperty("opacity")}))),g&&!t||r(!t),l=!!t)}}))};_?null===(n=null===(e=(0,i.FindComponentById)(d))||void 0===e?void 0:e.FindElementScope(p))||void 0===n||n.AddPostProcessCallback(b):b();let C=null===(a=null===(r=(0,i.FindComponentById)(d))||void 0===r?void 0:r.FindElementScope(p))||void 0===a?void 0:a.GetData("transition");C&&!(0,i.GetGlobal)().IsNothing(C)||null===(s=null===(l=(0,i.FindComponentById)(d))||void 0===l?void 0:l.FindElementScope(p))||void 0===s||s.SetData("transition",{actor:null,ease:null,duration:i.DefaultTransitionDuration,repeats:i.DefaultTransitionRepeats,delay:i.DefaultTransitionDelay,allowed:m.includes("normal")?"normal":m.includes("reversed")?"reversed":"both"}),null===(u=null===(c=(0,i.FindComponentById)(d))||void 0===c?void 0:c.FindElementScope(p))||void 0===u||u.AddUninitCallback((()=>y+=1))}));function an(){(0,i.AddDirectiveHandler)(rn)}function ln({data:t,key:e,defaultValue:n,componentId:o,contextElement:r,expression:a,isDuration:l}){if((0,i.GetGlobal)().IsNothing(t))return;let s=(0,i.EvaluateLater)({componentId:o,contextElement:r,expression:a,disableFunctionCall:!0}),c=o=>{t[e]=l&&"string"==typeof o?(0,i.ExtractDuration)(o)||n:"number"==typeof o&&o||n};(0,i.UseEffect)({componentId:o,contextElement:r,callback:()=>s(c)})}const sn=(0,i.CreateDirectiveHandlerCallback)("transition",(t=>{var{componentId:e,component:n,contextElement:r,expression:a,argKey:l,argOptions:s}=t,c=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["componentId","component","contextElement","expression","argKey","argOptions"]);if((0,i.BindEvent)({contextElement:r,expression:a,component:n||e,key:"transition",event:l,defaultEvent:"enter",eventWhitelist:["leave","canceled"],options:s,optionBlacklist:["window","document","outside"]}))return;let u=function({componentId:t,component:e,contextElement:n,argOptions:r}){var a,l;let s=o({componentId:t,component:e,contextElement:n});return s||(s={actor:null,ease:null,duration:i.DefaultTransitionDuration,repeats:i.DefaultTransitionRepeats,delay:i.DefaultTransitionDelay,allowed:r.includes("normal")?"normal":r.includes("reversed")?"reversed":"both"},null===(l=null===(a=e||(0,i.FindComponentById)(t))||void 0===a?void 0:a.FindElementScope(n))||void 0===l||l.SetData("transition",s)),s}(Object.assign({componentId:e,component:n,contextElement:r,expression:a,argKey:l,argOptions:s},c));if("actor"!==l||(0,i.GetGlobal)().IsNothing(u))if("ease"!==l||(0,i.GetGlobal)().IsNothing(u))if("target"===l){let t=(0,i.EvaluateLater)({componentId:e,contextElement:r,expression:a});(0,i.UseEffect)({componentId:e,contextElement:r,callback:()=>t((t=>u.target=t instanceof HTMLElement?t:void 0))})}else"duration"===l?ln({data:u,componentId:e,contextElement:r,expression:a,key:l,defaultValue:300,isDuration:!0}):"repeats"===l||"delay"===l?ln({data:u,componentId:e,contextElement:r,expression:a,key:l,defaultValue:0,isDuration:"delay"===l}):(0,i.EvaluateLater)({componentId:e,contextElement:r,expression:a})((t=>{(0,i.IsObject)(t)&&Object.entries(t).forEach((([t,e])=>u[t]=e))}));else{let t=(0,i.EvaluateLater)({componentId:e,contextElement:r,expression:a,disableFunctionCall:!0}),n=t=>{var e;u.ease="string"==typeof t?(null===(e=(0,i.GetGlobal)().GetConcept("animation"))||void 0===e?void 0:e.GetEaseCollection().Find(t))||null:t||null};(0,i.UseEffect)({componentId:e,contextElement:r,callback:()=>t(n)})}else{let t=(0,i.EvaluateLater)({componentId:e,contextElement:r,expression:a,disableFunctionCall:!0}),n=t=>{var e;u.actor="string"==typeof t?(null===(e=(0,i.GetGlobal)().GetConcept("animation"))||void 0===e?void 0:e.GetActorCollection().Find(t))||null:t||null};(0,i.UseEffect)({componentId:e,contextElement:r,callback:()=>t(n)})}}));function cn(){(0,i.AddDirectiveHandler)(sn)}let un={crawl:2e3,slower:1e3,slow:750,normal:500,fast:300,faster:200,swift:100},dn={infinite:-1};const pn=function(){let t=null,e=()=>t||(t=(0,i.GetGlobal)().GetConcept("animation"));const n={collect:(...t)=>{let n=t.map((t=>{var n;return"string"==typeof t?null===(n=e())||void 0===n?void 0:n.GetActorCollection().Find(t):t})).filter((t=>!!t));return t=>n.forEach((e=>((t,e)=>"function"==typeof t?t(e):t.Handle(e))(e,t)))},invert:t=>{var n;let i="string"==typeof t?null===(n=e())||void 0===n?void 0:n.GetEaseCollection().Find(t):t;return t=>{var{fraction:e}=t,n=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["fraction"]);return i?1-k(i,Object.assign({fraction:e},n)):e}},applySceneRange:ve,applySceneTransform:ge,applySceneRangeAndTransform:ye,formatSceneValue:_e,setNameDuration:(t,e)=>{un[t]=e},removeNameDuration:t=>{delete un[t]},setNameConstant:(t,e)=>{dn[t]=e},removeNameConstant:t=>{delete dn[t]},getConcept:e},o={creators:(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>{var n;return t&&(null===(n=e())||void 0===n?void 0:n.GetCreatorCollection().Find(t))}})),actors:(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>{var n;return t&&(null===(n=e())||void 0===n?void 0:n.GetActorCollection().Find(t))}})),eases:(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>{var n;return t&&(null===(n=e())||void 0===n?void 0:n.GetEaseCollection().Find(t))}})),durations:(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>t&&un.hasOwnProperty(t)&&un[t]})),constants:(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>t&&dn.hasOwnProperty(t)&&dn[t]}))};return(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>{if(!t)return;if(o.hasOwnProperty(t))return o[t];if(n.hasOwnProperty(t))return n[t];let i=e();if(!i)return;let r=i.GetCreatorCollection().Find(t);if(r)return r;let a=i.GetActorCollection().Find(t);return a||(i.GetEaseCollection().Find(t)||(un.hasOwnProperty(t)?un[t]:dn.hasOwnProperty(t)?dn[t]:void 0))},lookup:[...Object.keys(o),...Object.keys(n)]}))}(),hn=(0,i.CreateMagicHandlerCallback)("animation",(()=>pn));function mn(){(0,i.AddMagicHandler)(hn)}class fn{constructor(){this.easeCollection_=new on,this.actorCollection_=new en,this.creatorCollection_=new nn}GetEaseCollection(){return this.easeCollection_}GetActorCollection(){return this.actorCollection_}GetCreatorCollection(){return this.creatorCollection_}}},849:(t,e,n)=>{n.r(e),n.d(e,{BuildCollectionMethods:()=>f,CartCollectionConcept:()=>s,CartConceptName:()=>i,CartDirectiveHandler:()=>d,CartDirectiveHandlerCompact:()=>p,CartMagicHandler:()=>g,CartMagicHandlerCompact:()=>_,CollectionConcept:()=>l,CreateCollectionDirectiveHandler:()=>u,FavoritesCollectionConcept:()=>c,FavoritesConceptName:()=>o,FavoritesDirectiveHandler:()=>h,FavoritesDirectiveHandlerCompact:()=>m,FavoritesMagicHandler:()=>b,FavoritesMagicHandlerCompact:()=>C});const i="cart",o="favorites";var r=n(992);const a={indexName:"id",indexNamePlural:"ids",entryName:"entry"};class l{constructor(t,e,n){var i;this.name_=t,this.component_=e,this.options_=a,this.queuedTasks_=null,this.items_=new Array,this.itemProxies_=new Array,this.keyedItems_={},this.id_=(null===(i=this.component_)||void 0===i?void 0:i.GenerateUniqueId(`${t}_proxy_`))||"",n&&Object.entries(n).forEach((([t,e])=>this.options_[t]=e)),this.keyedProxy_=(0,r.CreateInplaceProxy)((0,r.BuildGetterProxyOptions)({getter:t=>{if(t)return this.GetKeyedItem(t)}}))}GetName(){return this.name_}SetOptions(t){this.options_=t}SetOption(t,e){this.options_[t]=e}GetOptions(){return this.options_}GetOption(t){return this.options_.hasOwnProperty(t)?this.options_[t]:void 0}GetKeyedProxy(){return this.keyedProxy_}GetItems(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.items`),this.GetItems_()}GetItemProxies(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.items`),this.itemProxies_}GetCount(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.items.length`),this.items_.reduce(((t,e)=>t+e.quantity),0)}GetKeyedItem(t){var e;if(null===(e=this.component_)||void 0===e||e.GetBackend().changes.AddGetAccess(`${this.id_}.items.${t}`),t in this.keyedItems_)return this.keyedItems_[t];let n=this.options_.entryName||a.entryName;return this.keyedItems_[t]=this.CreateItemProxy_(n,t,(()=>this.FindItem_(t))),this.keyedItems_[t]}FindItem(t){let e=this.FindItem_(t);return e?this.MapToExternalItem_(t,e):null}Import({list:t,incremental:e,alertType:n}){if(this.queuedTasks_)return this.queuedTasks_.push((()=>this.Import({list:t,incremental:e,alertType:n})));this.EnterQueueMode_(),(0,r.WaitPromise)(t,(t=>{this.LeaveQueueMode_();let i=new Array;t.forEach((t=>{this.UpdateItem({incremental:e,index:this.ExtractIndex_(t.entry),entry:t.entry,quantity:t.quantity,alertType:"none",callback:t=>i.push(t)})})),"none"!==n&&"item"!==n&&(window.dispatchEvent(new CustomEvent(`${this.name_}.import`,{detail:{list:i.map((t=>this.MapToExternalItem_(this.ExtractIndex_(t.entry),t)))}})),this.AlertUpdate_())}))}Export(){return this.items_.map((t=>Object.assign({},t)))}UpdateItem({index:t,quantity:e,entry:n,incremental:i,alertType:o,callback:a}){var l;if(this.queuedTasks_)return this.queuedTasks_.push((()=>this.UpdateItem({index:t,quantity:e,entry:n,incremental:i,alertType:o})));let s=this.FindItem_(t);if(!s){if(!n)return(0,r.JournalWarn)("Cannot update an invalid item.","InlineJS.CollectionConcept.UpdateItem");s=this.InitItem_(n)}let c=s.quantity;if(s.quantity=i?s.quantity+e:e,s.quantity<=0){let e=this.FindItemIndex_(t);this.items_.splice(e,1),this.itemProxies_.splice(e,1)}s.quantity!=c&&((0,r.AddChanges)("set",`${this.id_}.items.${t}.quantity`,"quantity",null===(l=this.component_)||void 0===l?void 0:l.GetBackend().changes),a&&a(s),"none"!==o&&window.dispatchEvent(new CustomEvent(`${this.name_}.item`,{detail:{item:this.MapToExternalItem_(t,s)}})),"none"!==o&&"item"!==o&&this.AlertUpdate_())}AddItem(t,e){this.UpdateItem({entry:t,quantity:e,index:this.ExtractIndex_(t)})}RemoveItem(t){this.UpdateItem({index:t,quantity:0,incremental:!1})}RemoveAll(){if(this.queuedTasks_)return this.queuedTasks_.push((()=>this.RemoveAll()));this.items_.slice(0).forEach((t=>this.UpdateItem({index:this.ExtractIndex_(t),quantity:0,incremental:!1,alertType:"none"}))),window.dispatchEvent(new CustomEvent(`${this.name_}.clear`)),this.AlertUpdate_()}EnterQueueMode_(){this.queuedTasks_||(this.queuedTasks_=new Array)}LeaveQueueMode_(){this.queuedTasks_&&(this.queuedTasks_.forEach((t=>(0,r.JournalTry)(t,"InlineJS.CollectionConcept.QueuedTask"))),this.queuedTasks_=null)}GetItems_(){return this.items_.map((t=>this.MapToExternalItem_(this.ExtractIndex_(t.entry),t)))}FindItemIndex_(t){let e=this.options_.indexName||a.indexName;return this.items_.findIndex((n=>n.entry.hasOwnProperty(e)&&n.entry[e]===t))}FindItem_(t){let e=this.FindItemIndex_(t);return-1==e?null:this.items_[e]}InitItem_(t){let e=this.options_.entryName||a.entryName,n=this.ExtractIndex_(t),i={entry:t,quantity:0};return this.items_.push(i),this.itemProxies_.push(this.CreateItemProxy_(e,n,(()=>i))),i}CreateItemProxy_(t,e,n){return(0,r.CreateInplaceProxy)((0,r.BuildProxyOptions)({getter:i=>{var o,r,a;return"quantity"===i?(null===(o=this.component_)||void 0===o||o.GetBackend().changes.AddGetAccess(`${this.id_}.items.${e}.${i}`),(null===(r=n())||void 0===r?void 0:r.quantity)||0):i===t?(null===(a=n())||void 0===a?void 0:a.entry)||{}:void 0},setter:(t,i)=>("quantity"===t&&n()&&this.UpdateItem({index:e,quantity:i}),!0),lookup:["quantity",t]}))}MapToExternalItem_(t,e){return{quantity:e.quantity,[this.options_.entryName||a.entryName]:e.entry}}ExtractIndex_(t){let e=this.options_.indexName||a.indexName,n=t[this.options_.entryName||a.entryName];return t.hasOwnProperty(e)?t[e]:n[e]}AlertUpdate_(){var t;(0,r.AddChanges)("set",`${this.id_}.items.length`,"length",null===(t=this.component_)||void 0===t?void 0:t.GetBackend().changes),window.dispatchEvent(new CustomEvent(`${this.name_}.update`))}}class s extends l{constructor(t,e){super(i,t,e),this.offsets_={},this.offsetHandlers_={},this.offsetHandlers_.subTotal=({subTotal:t})=>t,this.offsets_.subTotal=0}AddOffset(t,e,n=(0,r.GetGlobal)().CreateNothing()){this.offsetHandlers_[t]=e,(0,r.GetGlobal)().IsNothing(n)||(this.offsets_[t]=n)}RemoveOffset(t){delete this.offsetHandlers_[t]}GetOffset(t){var e;if(null===(e=this.component_)||void 0===e||e.GetBackend().changes.AddGetAccess(`${this.id_}.offsets.${t}`),!this.offsets_.hasOwnProperty(t))return"total"===t?Object.values(this.offsets_).filter((t=>"number"==typeof t)).reduce(((t,e)=>t+e),0)||0:(0,r.GetGlobal)().CreateNothing();let n=this.offsets_[t];return(0,r.GetGlobal)().IsFuture(n)?n.Get():n}AlertUpdate_(){var t;let e=this.items_.reduce(((t,e)=>t+(e.entry.price||0)*e.quantity),0),n=this.GetItems_();Object.entries(this.offsetHandlers_).forEach((([t,i])=>(0,r.JournalTry)((()=>{var o;let a=i({subTotal:e,items:n});(0,r.IsEqual)(this.offsets_[t],a)||(this.offsets_[t]=(0,r.DeepCopy)(a),(0,r.AddChanges)("set",`${this.id_}.offsets.${t}`,t,null===(o=this.component_)||void 0===o?void 0:o.GetBackend().changes))}),"InlineJS.CartCollectionConcept.AfterUpdate"))),this.offsets_.hasOwnProperty("total")||(0,r.AddChanges)("set",`${this.id_}.offsets.total`,"total",null===(t=this.component_)||void 0===t?void 0:t.GetBackend().changes),super.AlertUpdate_()}}class c extends l{constructor(t,e){super(o,t,e)}}function u(t){return(0,r.CreateDirectiveHandlerCallback)(t,(({componentId:e,component:n,contextElement:i,expression:o,argKey:a,argOptions:l})=>{(0,r.BindEvent)({contextElement:i,expression:o,component:n||e,key:t,event:a,defaultEvent:"update",eventWhitelist:["item","import","clear"],options:[...l,"window"],optionBlacklist:["document","outside"]})}))}const d=u(i);function p(){(0,r.AddDirectiveHandler)(d)}const h=u(o);function m(){(0,r.AddDirectiveHandler)(h)}function f(t){const e=()=>(0,r.GetGlobal)().GetConcept(t);return{setOptions:t=>{var n;return null===(n=e())||void 0===n?void 0:n.SetOptions(t)},setOption:(t,n)=>{var i;return null===(i=e())||void 0===i?void 0:i.SetOption(t,n)},getOptions:()=>{var t;return null===(t=e())||void 0===t?void 0:t.GetOptions()},getOption:t=>{var n;return null===(n=e())||void 0===n?void 0:n.GetOption(t)},getItems:()=>{var t;return null===(t=e())||void 0===t?void 0:t.GetItems()},getCount:()=>{var t;return null===(t=e())||void 0===t?void 0:t.GetCount()},getKeyedItem:t=>{var n;return null===(n=e())||void 0===n?void 0:n.GetKeyedItem(t)},findItem:t=>{var n;return null===(n=e())||void 0===n?void 0:n.FindItem(t)},import:t=>{var n;return null===(n=e())||void 0===n?void 0:n.Import(t)},export:()=>{var t;return null===(t=e())||void 0===t?void 0:t.Export()},updateItem:t=>{var n;return null===(n=e())||void 0===n?void 0:n.UpdateItem(t)},addItem:(t,n)=>{var i;return null===(i=e())||void 0===i?void 0:i.AddItem(t,n)},removeItem:t=>{var n;return null===(n=e())||void 0===n?void 0:n.RemoveItem(t)},removeAll:()=>{var t;return null===(t=e())||void 0===t?void 0:t.RemoveAll()}}}const v=function(){const t=()=>(0,r.GetGlobal)().GetConcept(i);let e=Object.assign(Object.assign({},f(i)),{addOffset:(e,n,i)=>{var o;null===(o=t())||void 0===o||o.AddOffset(e,n,i)},removeOffset:e=>{var n;null===(n=t())||void 0===n||n.RemoveOffset(e)},getOffset:e=>{var n;return null===(n=t())||void 0===n?void 0:n.GetOffset(e)}});return(0,r.CreateInplaceProxy)((0,r.BuildGetterProxyOptions)({getter:n=>{var i,o,r,a;return n&&e.hasOwnProperty(n)?e[n]:"keyed"===n?null===(i=t())||void 0===i?void 0:i.GetKeyedProxy():"items"===n?null===(o=t())||void 0===o?void 0:o.GetItemProxies():"count"===n?null===(r=t())||void 0===r?void 0:r.GetCount():n?null===(a=t())||void 0===a?void 0:a.GetOffset(n):void 0},lookup:[...Object.keys(e),"keyed","items","count","subTotal","total"]}))}(),g=(0,r.CreateMagicHandlerCallback)(i,(()=>v));function _(){(0,r.AddMagicHandler)(g)}const y=function(){let t=f(o);const e=()=>(0,r.GetGlobal)().GetConcept(o);return(0,r.CreateInplaceProxy)((0,r.BuildGetterProxyOptions)({getter:n=>{var i,o,r;return n&&t.hasOwnProperty(n)?t[n]:"keyed"===n?null===(i=e())||void 0===i?void 0:i.GetKeyedProxy():"items"===n?null===(o=e())||void 0===o?void 0:o.GetItemProxies():"count"===n?null===(r=e())||void 0===r?void 0:r.GetCount():void 0},lookup:[...Object.keys(t),"keyed","items","count"]}))}(),b=(0,r.CreateMagicHandlerCallback)(o,(()=>y));function C(){(0,r.AddMagicHandler)(b)}},242:(t,e,n)=>{n.r(e),n.d(e,{MomentConcept:()=>a,MomentConceptName:()=>i,MomentDirectiveHandler:()=>l,MomentDirectiveHandlerCompact:()=>s,MomentMagicHandler:()=>u,MomentMagicHandlerCompact:()=>d});const i="moment";var o=n(992),r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n};class a{constructor(){this.checkpoints_=[{value:31536e3,label:"year"},{value:2592e3,label:"month"},{value:604800,label:"week"},{value:86400,label:"day",next:604800},{value:3600,label:"hour",next:86400},{value:60,label:"minute",next:3600},{value:45,label:"45 seconds",next:60},{value:30,label:"30 seconds",next:45},{value:15,label:"15 seconds",next:30},{value:10,label:"10 seconds",next:15},{value:5,label:"5 seconds",next:10},{value:2,label:"few seconds",next:5},{value:0,ago:"just now",until:"right now",next:1,append:!1}]}Format(t){var{date:e,until:n,thin:i}=t,o=r(t,["date","until","thin"]);let a=Date.now(),l=e.getTime();return l<a||l==a&&!n?[...this.Format_(Object.assign(Object.assign({},o),{seconds:Math.floor((a-l)/1e3),computeNext:({seconds:t,checkpoint:e})=>e.next?e.value<60?e.value-t:e.value-t%e.value:0,computeLabel:t=>{var{checkpoint:e}=t,n=r(t,["checkpoint"]);return this.ComputeLabel_(Object.assign(Object.assign({},n),{label:e.ago||e.label||"",suffix:i||!1===e.append?"":" ago"}))}})),!1]:[...this.Format_(Object.assign(Object.assign({},o),{seconds:Math.floor((l-a)/1e3),computeNext:({seconds:t,checkpoint:e})=>t-e.value,computeLabel:t=>{var{checkpoint:e}=t,n=r(t,["checkpoint"]);return this.ComputeLabel_(Object.assign(Object.assign({},n),{label:e.until||e.label||"",suffix:i||!1===e.append?"":" until"}))}})),!0]}Track(t){var{handler:e,until:n,startImmediately:i}=t,a=r(t,["handler","until","startImmediately"]);let l=!1,s=0,c="",u="",d=0,p=()=>{l||([u,d,n]=this.Format(Object.assign(Object.assign({},a),{until:n})),setTimeout(p,1e3*d),u!==c&&(()=>{let t=++s;requestAnimationFrame((()=>l=l||t==s&&!1===(0,o.JournalTry)((()=>e(c=u)))))})())},h=()=>{c="",p()};return!1!==i&&h(),{stop:()=>{l=!0,++s},resume:()=>{l&&(l=!1,h())},stopped:()=>l}}Format_(t){var{seconds:e,computeNext:n,computeLabel:i}=t,o=r(t,["seconds","computeNext","computeLabel"]);let a=this.checkpoints_.findIndex((t=>t.value<e));if(-1==a)return["",0];let l=this.checkpoints_[a],s=l.value<60?0:Math.floor(e/l.value);return[i(Object.assign({checkpoint:l,count:s},o)),n({seconds:e,checkpointIndex:a,checkpoint:l})]}ComputeLabel_({label:t,count:e,short:n,ucfirst:i,capitalize:o,prefix:r,suffix:a}){let l,s=t=>{if(!i&&!o)return t;let e=t.split(" ");if(o)return e.map((t=>t.substring(0,1).toUpperCase()+t.substring(1))).join(" ");let n=e.findIndex((t=>/[a-zA-Z]/.test(t.substring(0,1))));return e.map(((t,e)=>e==n?t.substring(0,1).toUpperCase()+t.substring(1):t)).join(" ")};return n?l="just now"===t||"right now"===t?i||o?"0S":"0s":"few seconds"===t?i||o?"2S":"2s":s(0==e?t.split(" ").reduce(((t,e)=>t?`${t}${e.substring(0,1)}`:e),""):`${e}${t.substring(0,1)}`):(l=s(e?`${e} ${t}${1==e?"":"s"}`:t),l=`${r||""}${l}${a||""}`),l}}const l=(0,o.CreateDirectiveHandlerCallback)(i,(({componentId:t,component:e,contextElement:n,expression:r,argKey:a,argOptions:l})=>{if((0,o.BindEvent)({contextElement:n,expression:r,component:e||t,key:i,event:a,defaultEvent:"update",options:l,optionBlacklist:["window","document","outside"]}))return;let s=(0,o.GetGlobal)().GetConcept(i),c=`$${i}`;if(!s)return(0,o.JournalError)("Moment concept is not installed.",`InlineJS.${i}`,n);let u=e||(0,o.FindComponentById)(t),d=null==u?void 0:u.FindElementScope(n);if(!u||!d)return(0,o.JournalError)("Failed to retrieve element scope.",`InlineJS.${i}`,n);if(d.HasLocal(c))return;let p=u.GenerateUniqueId(`${i}_proxy_`),h=null,m="",f=(0,o.ResolveOptions)({options:{thin:!1,short:!1,ucfirst:!1,capitalize:!1,stopped:!1},list:l}),v=!1,g=(0,o.EvaluateLater)({componentId:t,contextElement:n,expression:r}),_=()=>(null==h?void 0:h.stop())||(h=null);(0,o.UseEffect)({componentId:t,contextElement:n,callback:()=>g((e=>{var r,a,l;let s=null;"string"==typeof e||"number"==typeof e||e instanceof Date?s=new Date(e):e instanceof HTMLTimeElement&&(s=new Date(e.dateTime)),_(),s?(h=(null===(r=(0,o.GetGlobal)().GetConcept(i))||void 0===r?void 0:r.Track(Object.assign(Object.assign({date:s},f),{startImmediately:!f.stopped,handler:e=>{var r;(0,o.AddChanges)("set",`${p}.label`,"label",null===(r=(0,o.FindComponentById)(t))||void 0===r?void 0:r.GetBackend().changes),m=e,n.dispatchEvent(new CustomEvent(`${i}.update`,{detail:{label:e}}))}})))||null,h&&!v&&(v=!0,(0,o.AddChanges)("set",`${p}.valid`,"valid",null===(a=(0,o.FindComponentById)(t))||void 0===a?void 0:a.GetBackend().changes))):v&&(v=!1,(0,o.AddChanges)("set",`${p}.valid`,"valid",null===(l=(0,o.FindComponentById)(t))||void 0===l?void 0:l.GetBackend().changes))}))}),d.SetLocal(c,(0,o.CreateInplaceProxy)((0,o.BuildProxyOptions)({getter:e=>{var n,i,r;return"valid"===e?(null===(n=(0,o.FindComponentById)(t))||void 0===n||n.GetBackend().changes.AddGetAccess(`${p}.${e}`),v):"label"===e?(null===(i=(0,o.FindComponentById)(t))||void 0===i||i.GetBackend().changes.AddGetAccess(`${p}.${e}`),m):"stopped"===e?(null===(r=(0,o.FindComponentById)(t))||void 0===r||r.GetBackend().changes.AddGetAccess(`${p}.${e}`),!h||h.stopped()):void 0},setter:(e,n)=>{var i;return"stopped"===e&&h&&!!n!=!!h.stopped()&&(n?null==h||h.stop():null==h||h.resume(),(0,o.AddChanges)("set",`${p}.${e}`,e,null===(i=(0,o.FindComponentById)(t))||void 0===i?void 0:i.GetBackend().changes)),!0},lookup:["valid","label","stopped"]}))),d.AddUninitCallback(_)}));function s(){(0,o.AddDirectiveHandler)(l)}const c=function(){let t={format:t=>{var e;return null===(e=(0,o.GetGlobal)().GetConcept(i))||void 0===e?void 0:e.Format(t)},track:t=>{var e;return null===(e=(0,o.GetGlobal)().GetConcept(i))||void 0===e?void 0:e.Track(t)}};return(0,o.CreateReadonlyProxy)(t)}(),u=(0,o.CreateMagicHandlerCallback)(i,(()=>c));function d(){(0,o.AddMagicHandler)(u)}},833:(t,e,n)=>{n.r(e),n.d(e,{DefaultRouterEvent:()=>r,FetchRouterDirectiveExtension:()=>v,FetchRouterDirectiveExtensionCompact:()=>g,LinkRouterDirectiveExtension:()=>x,LinkRouterDirectiveExtensionCompact:()=>k,MatchPath:()=>c,MountEnteredRouterDirectiveExtension:()=>A,MountLoadRouterDirectiveExtension:()=>b,MountReloadRouterDirectiveExtension:()=>C,MountRouterDirectiveExtension:()=>_,MountRouterDirectiveExtensionCompact:()=>E,PageRouterDirectiveExtension:()=>G,PageRouterDirectiveExtensionCompact:()=>I,ProcessPathPlaceholders:()=>s,ResourceConceptName:()=>i,RouterConcept:()=>p,RouterConceptName:()=>o,RouterDirectiveHandler:()=>h,RouterDirectiveHandlerCompact:()=>m,RouterEvents:()=>a,RouterFetcher:()=>u,RouterMagicHandler:()=>w,RouterMagicHandlerCompact:()=>S});const i="resource",o="router",r="load",a=["load","reload","error","404","entered","page","path"],l=["integer","number","string","boolean","array"];function s(t){if("string"!=typeof t)return null;let e=[...t.matchAll(/\/(\:[^\/]+)/g)].map((t=>t[1].split(":").map((t=>t.trim())).filter((t=>!!t)))).filter((t=>t.length<=2));return 0!=e.length?t.split("/").map((t=>t.trim())).filter((t=>!!t)).map((t=>{let[n,i]=e.find((e=>`:${e.join(":")}`===t))||[];if(!n)return t;let o=t.endsWith("?");return{isOptional:o,value:o?n.substring(0,n.length-1):n,type:i&&l.includes(i)?i:void 0}})):null}function c(t,e,n,i){Object.keys(n).forEach((t=>delete n[t]));let o=e.fetcher.GetPath();if("string"!=typeof o)return o.test(t);if(!e.optimized)return o===t;i=i||t.split("/").map((t=>t.trim())).filter((t=>!!t));let r=0,a=0,l={path:-1,params:-1},s=()=>-1!=l.path&&-1!=l.params&&(r=l.path,a=l.params+1,delete n[e.optimized[l.params].value],l={path:-1,params:-1},!0),c=(t,e)=>e.startsWith("%")&&e.endsWith("%")?new RegExp(e.substring(1,e.length-1)).test(t):t===e;for(;r<i.length&&a<e.optimized.length;){let t=e.optimized[a],o=i[r];if("string"==typeof t&&!c(o,t)){if(s())continue;return!1}if("string"!=typeof t){let e=e=>{n[t.value]=e,t.isOptional&&-1==l.path&&-1==l.params&&(l={path:r,params:a})};if(t.type&&"string"!==t.type)if("integer"===t.type||"number"===t.type){let n=parseFloat(o);if(n||0===n){if("number"===t.type||Number.isInteger(n))e(n);else if(!t.isOptional)return!1}else if(!t.isOptional)return!1}else if("boolean"===t.type){if("true"===o||"false"===o)e("true"===o);else if(!t.isOptional)return!1}else e(o.split(",").map((t=>t.trim())).filter((t=>!!t)));else e(o)}if(++r,++a,r>=i.length&&a<e.optimized.length&&(t=e.optimized[a],-1!=e.optimized.slice(a).findIndex((t=>"string"==typeof t||!t.isOptional))&&!s()))return!1}if(r<i.length)return!1;for(;a<e.optimized.length;++a){let t=e.optimized[a];if("string"==typeof t||!t.isOptional)return!1}return!0}class u{constructor(t,e){this.path_=t,this.handler_=e}GetPath(){return this.path_}Handle(t){return this.handler_(t)}}var d=n(992);class p{constructor(t="",e=""){this.prefix_=t,this.origin_=e,this.markers_=(0,d.GetDefaultUniqueMarkers)(),this.checkpoint_=0,this.active_=!1,this.middlewares_={},this.fetchers_=new Array,this.protocolHandlers_=new Array,this.dataHandlers_=new Array,this.pathChangeHandlers_=new Array,this.pages_={},this.current_={path:"",page:null,initialData:null,data:null},this.origin_=this.origin_||window.location.origin,this.origin_&&(this.origin_=this.origin_.replace(/\/+$/,"")),this.onEvent_=t=>{t.state&&(0,d.IsObject)(t.state)&&t.state.hasOwnProperty("base")&&t.state.hasOwnProperty("query")&&this.Load_(t.state,!1)}}GetOrigin(){return this.origin_}SetPrefix(t){this.prefix_=t}GetPrefix(){return this.prefix_}AddMiddleware(t){this.middlewares_[t.GetName()]=t}RemoveMiddleware(t){let e="string"==typeof t?t:t.GetName();this.middlewares_.hasOwnProperty(e)&&delete this.middlewares_[e]}AddFetcher(t){this.fetchers_.push({fetcher:t,optimized:s(t.GetPath())||void 0})}FindFetcher(t){let e=(t=(0,d.PathToRelative)(t,this.origin_)).split("/").filter((t=>!!t)),n={},i=this.fetchers_.find((i=>c(t,i,n,e)));return i?{fetcher:i.fetcher,params:n}:null}RemoveFetcher(t){this.fetchers_=this.fetchers_.filter((e=>e.fetcher!==t))}AddProtocolHandler(t,e){this.protocolHandlers_.push({protocol:t,handler:e})}RemoveProtocolHandler(t){this.protocolHandlers_=this.protocolHandlers_.filter((e=>e.handler!==t))}AddDataHandler(t){this.dataHandlers_.push(t)}RemoveDataHandler(t){this.dataHandlers_=this.dataHandlers_.filter((e=>e!==t))}AddPathChangeHandler(t){this.pathChangeHandlers_.push(t)}RemovePathChangeHandler(t){this.pathChangeHandlers_=this.pathChangeHandlers_.filter((e=>e!==t))}AddPage(t){var{path:e}=t,n=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["path"]);let i=(0,d.GenerateUniqueId)(this.markers_,"router","page_");return this.pages_[i]=Object.assign(Object.assign({},n),{id:i,path:"string"==typeof e?(0,d.PathToRelative)(e,this.origin_):e}),i}RemovePage(t){let e=this.FindPage(t);return e?Object.assign({},e):null}FindPage(t){return"string"==typeof t?this.pages_.hasOwnProperty(t)?this.pages_[t]:null:Object.values(this.pages_).find((e=>e.name===t.name))||null}FindMatchingPage(t){return Object.values(this.pages_).find((e=>"string"==typeof e.path?e.path===t:e.path.test(t)))||null}Mount(t){var e;window.addEventListener("popstate",this.onEvent_);let n=(0,d.PathToRelative)(window.location.href,this.origin_),i=(0,d.SplitPath)(n);t?this.Load_(i,!0):(this.current_.path=n,this.current_.page=this.FindMatchingPage(i.base),window.history.pushState(i,(null===(e=this.current_.page)||void 0===e?void 0:e.title)||"Untitled",n),this.pathChangeHandlers_.forEach((t=>(0,d.JournalTry)((()=>t(n)),"InlineJS.RouterConcept.Mount"))))}Goto(t,e,n){let i=null;if("string"!=typeof t)if("name"in t){let e=this.FindPage(t);e&&"string"==typeof e.path&&(i=(0,d.SplitPath)(e.path,this.origin_))}else i={base:(0,d.PathToRelative)(t.base,this.origin_),query:(0,d.TidyPath)(t.query)};else i=(0,d.SplitPath)(t,this.origin_);i&&this.Load_(i,!0,e,n)}Reload(){this.Goto(this.current_.path,!0)}GetCurrentPath(){return this.current_.path}GetActivePage(){return this.current_.page}GetActivePageData(t){return t?(0,d.IsObject)(this.current_.data)&&this.current_.data.hasOwnProperty(t)?this.current_.data[t]:null:this.current_.data}FindProtocolHandler_(t){let e=this.protocolHandlers_.find((e=>"string"==typeof e.protocol?e.protocol===t:e.protocol.test(t)));return e?e.handler:null}Load_(t,e,n,i){let r=t.base.match(/^([a-zA-Z0-9_]+):\/\//),a=r?this.FindProtocolHandler_(r[1]):null;a&&(t.base=t.base.substring(r[1].length+2));let l=(0,d.JoinPath)(t),s=a?a({protocol:r[1],path:l}):null;if(!0===s)return;let c=this.current_.path===l;if(c&&!n&&(!(0,d.IsObject)(s)||!s.shouldReload))return void window.dispatchEvent(new CustomEvent(`${o}.reload`,{detail:{path:Object.assign({},t),url:l}}));let u=null;if(!s){if(u=this.FindMatchingPage(t.base),!u)return this.current_.path=l,c||(this.pathChangeHandlers_.forEach((t=>(0,d.JournalTry)((()=>t(l)),"InlineJS.RouterConcept.Load"))),window.dispatchEvent(new CustomEvent(`${o}.path`,{detail:{path:Object.assign({},t)}}))),window.dispatchEvent(new CustomEvent(`${o}.404`,{detail:{path:(0,d.JoinPath)(t)}}));i?(this.current_.initialData=(0,d.DeepCopy)(i),this.current_.data=i):c?this.current_.data=(0,d.DeepCopy)(this.current_.initialData)||i:this.current_.initialData=this.current_.data=null,c||this.pathChangeHandlers_.forEach((t=>(0,d.JournalTry)((()=>t(l)),"InlineJS.RouterConcept.Load")))}this.SetActiveState_(!0),window.dispatchEvent(new CustomEvent(`${o}.entered`,{detail:{page:Object.assign({},u)}}));let p=()=>this.DoLoad_(h,u,t,l,e,s||void 0),h=++this.checkpoint_;!s&&u.middleware?(()=>{return t=this,e=void 0,i=function*(){for(let t of"string"==typeof u.middleware?[u.middleware]:u.middleware)if(h!=this.checkpoint_||this.middlewares_.hasOwnProperty(t)&&!(yield this.middlewares_[t].Handle(l)))return void(h==this.checkpoint_&&this.SetActiveState_(!1));p()},new((n=void 0)||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(t){r(t)}}function l(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}));var t,e,n,i})():p()}DoLoad_(t,e,n,r,a,l){var s,c;if(t!=this.checkpoint_)return;l||(e.id!==(null===(s=this.current_.page)||void 0===s?void 0:s.id)?(document.title=e.title||"Untitled",this.current_.page=e,this.current_.path=r,window.dispatchEvent(new CustomEvent(`${o}.page`,{detail:{page:Object.assign({},e)}})),window.dispatchEvent(new CustomEvent(`${o}.path`,{detail:{path:Object.assign({},n)}}))):this.current_.path!==r&&(this.current_.path=r,window.dispatchEvent(new CustomEvent(`${o}.path`,{detail:{path:Object.assign({},n)}}))),a&&window.history.pushState(n,e.title||"Untitled",r));let u="function"==typeof l?r:(null==l?void 0:l.path)||r,p=this.FindFetcher(u),h=e=>{t==this.checkpoint_&&(l?"function"==typeof l?l(e,n):l.dataHandler(e,n):(this.dataHandlers_.slice(0).forEach((t=>(0,d.JournalTry)((()=>t({data:e,path:n,url:r})))),"InlineJS.RouterConcept.HandleData"),window.dispatchEvent(new CustomEvent(`${o}.load`)))),this.SetActiveState_(!1)},m=t=>{window.dispatchEvent(new CustomEvent(`${o}.error`,{detail:{path:n}})),this.SetActiveState_(!1),(0,d.JournalError)(t,"InlineJS.RouterConcept.Fetch")};p?p.fetcher.Handle({path:r,params:p.params||{}}).then(h).catch(m):(u=this.prefix_?(0,d.PathToRelative)(u,this.origin_,this.prefix_):u,!l&&e.cache&&(0,d.GetGlobal)().GetConcept(i)?null===(c=(0,d.GetGlobal)().GetConcept(i))||void 0===c||c.GetData(u,!0,!1).then(h).catch(m):(0,d.GetGlobal)().GetFetchConcept().Get(u,{method:"GET",credentials:"same-origin"}).then((t=>t.text())).then(h).catch(m))}SetActiveState_(t){t!=this.active_&&(this.active_=t,window.dispatchEvent(new CustomEvent(`${o}.active`,{detail:{state:t}})))}}const h=(0,d.CreateDirectiveHandlerCallback)(o,(({componentId:t,component:e,contextElement:n,expression:i,argKey:l,argOptions:s})=>{(0,d.BindEvent)({contextElement:n,expression:i,component:e||t,key:o,event:l,defaultEvent:r,eventWhitelist:a,options:[...s,"window"],optionBlacklist:["document","outside"]})}));function m(){(0,d.AddDirectiveHandler)(h)}function f(t,e){let n=t(e);return n instanceof Promise?new Promise(((t,e)=>{n.then((e=>t((0,d.ToString)(e)))).catch((t=>e(t)))})):Promise.resolve((0,d.ToString)(n))}const v=(0,d.CreateDirectiveHandlerCallback)("fetch",(({componentId:t,contextElement:e,expression:n,argKey:i,argOptions:r})=>{if(!(e instanceof HTMLTemplateElement))return(0,d.JournalError)("Target is not a template element.",`${o}:${i}`,e);let a=n=>{var r,a;let l=null;if("string"==typeof n||n instanceof RegExp)l={path:n,handler:({params:n})=>{let i;return i=0!=Object.keys(n).length?e.innerHTML.replace(/\{\:\s*(.+?)\s*\:\}/g,((i,o)=>(0,d.ToString)((0,d.EvaluateLater)({componentId:t,contextElement:e,expression:o})(void 0,[n],{params:n})))):e.innerHTML,Promise.resolve(i)}};else if("function"==typeof n)l={path:/^.+$/,handler:t=>f(n,t)};else if((0,d.IsObject)(n)){let{path:t,handler:e}=n;l={path:t,handler:t=>f(e,t)}}if(l){let n=(0,d.GetGlobal)().GetConcept(o);if(n){let i=new u(l.path,l.handler);n.AddFetcher(i),null===(a=null===(r=(0,d.FindComponentById)(t))||void 0===r?void 0:r.FindElementScope(e))||void 0===a||a.AddUninitCallback((()=>null==n?void 0:n.RemoveFetcher(i)))}}else(0,d.JournalError)("Target path is invalid.",`${o}:${i}`,e)};r.includes("evaluate")?(0,d.EvaluateLater)({componentId:t,contextElement:e,expression:n})(a):a(n)}));function g(){(0,d.AddDirectiveHandler)(v,o)}const _=(0,d.CreateDirectiveHandlerCallback)("mount",(({componentId:t,contextElement:e,expression:n,argKey:i,argOptions:r})=>{if(!(e instanceof HTMLTemplateElement))return(0,d.JournalError)("Target is not a template element.",`${o}:${i}`,e);let a=(0,d.GetGlobal)().GetConcept(o);if(!a)return(0,d.JournalError)(`${o} concept is not installed.`,`${o}:${i}`,e);if(!e.parentElement)return(0,d.JournalError)("Target must have a parent element.",`${o}:${i}`,e);let l=(0,d.ResolveOptions)({options:{main:!1,section:!1,scroll:!1,prepend:!1,plural:!1,reload:!1,evaluate:!1},list:r}),s=n=>{var r,s;if(n&&"string"!=typeof n&&!(n instanceof RegExp)&&!(n instanceof HTMLElement)&&!(0,d.IsObject)(n))return(0,d.JournalError)("Target protocol is invalid.",`${o}:${i}`,e);let c=null;if(n instanceof HTMLElement?(c=n,n=null):(0,d.IsObject)(n)&&(c=n.target||null,n=n.protocol||null),c||(c=document.createElement(l.main?"main":l.section?"section":"div")),!c)return(0,d.JournalError)("Mount target is invalid.",`${o}:${i}`,e);let u=null;e.parentElement&&!c.parentElement&&(e.parentElement.insertBefore(c,e),u=()=>c.remove());let p=null,h=({data:i,url:r})=>{let a=p;!l.scroll&&r===p||n||window.scrollTo({top:0,left:0}),p=r,Array.from(c.attributes).forEach((t=>c.removeAttribute(t.name))),(0,d.InsertHtml)({element:c,html:i,component:t,processDirectives:!1,afterInsert:()=>{(0,d.BootstrapAndAttach)(c),r===a&&e.dispatchEvent(new CustomEvent(`${o}.mount.reload`)),e.dispatchEvent(new CustomEvent(`${o}.mount.load`))},afterTransitionCallback:()=>{},transitionScope:e})},m=0,f=t=>"/"+(0,d.TidyPath)(`${n}${l.plural?"s":""}/${t.startsWith("/")?t.substring(1):t}`),v=({path:t})=>{if(e.dispatchEvent(new CustomEvent(`${o}.mount.entered`)),t===p&&!l.reload)return e.dispatchEvent(new CustomEvent(`${o}.mount.reload`)),!0;let n=++m,i=(e,i)=>n==m&&h({data:e,path:i,url:t});return l.prepend?{dataHandler:i,path:f(t),shouldReload:l.reload}:i};n?a.AddProtocolHandler(n,v):a.AddDataHandler(h),null===(s=null===(r=(0,d.FindComponentById)(t))||void 0===r?void 0:r.FindElementScope(e))||void 0===s||s.AddUninitCallback((()=>{var t,e;n?null===(t=(0,d.GetGlobal)().GetConcept(o))||void 0===t||t.RemoveProtocolHandler(v):null===(e=(0,d.GetGlobal)().GetConcept(o))||void 0===e||e.RemoveDataHandler(h),u&&u()}))};l.evaluate?(0,d.EvaluateLater)({componentId:t,contextElement:e,expression:n})(s):s(n)}));function y(t){return(0,d.CreateDirectiveHandlerCallback)(`mount-${t}`,(({componentId:t,contextElement:e,expression:n,argKey:i,argOptions:r})=>{(0,d.ForwardEvent)(t,e,`${o}-${i}.join`,n,r)}))}const b=y("load"),C=y("reload"),A=y("entered");function E(){(0,d.AddDirectiveHandler)(_,o),(0,d.AddDirectiveHandler)(b,o),(0,d.AddDirectiveHandler)(C,o),(0,d.AddDirectiveHandler)(A,o)}const x=(0,d.CreateDirectiveHandlerCallback)("link",(({componentId:t,component:e,contextElement:n,expression:i,argKey:r,argOptions:a})=>{var l,s,c,u;if(!(n instanceof HTMLAnchorElement||n instanceof HTMLFormElement))return(0,d.JournalError)("Target must be a anchor or form element.",`${o}:${r}`,n);let p,h;if(n instanceof HTMLFormElement){if("get"!==n.method.toLowerCase())return(0,d.JournalError)("Form element must use the GET method.",`${o}:${r}`,n);p=()=>{let t=n.action,e="";return new FormData(n).forEach(((t,n)=>{e=e?`${e}&${n}=${t.toString()}`:`${n}=${t.toString()}`})),e?t.includes("?")?`${t}&${e}`:`${t}?${e}`:t},h=()=>"submit"}else p=()=>n.href,h=()=>"click";let m=(0,d.ResolveOptions)({options:{reload:!1},list:a});if(n.addEventListener(h(),(t=>{var e;t.preventDefault(),t.stopPropagation(),null===(e=(0,d.GetGlobal)().GetConcept(o))||void 0===e||e.Goto(p(),m.reload)})),i=i.trim()){let r=(0,d.EvaluateLater)({componentId:t,contextElement:n,expression:i}),a=!1,h=t=>{a!=(t=>(0,d.TidyPath)(t)===(0,d.TidyPath)((0,d.PathToRelative)(p(),(()=>{var t;return(null===(t=(0,d.GetGlobal)().GetConcept(o))||void 0===t?void 0:t.GetOrigin())||window.location.origin})())))(t)&&r(void 0,void 0,{active:a=!a})};null===(l=(0,d.GetGlobal)().GetConcept(o))||void 0===l||l.AddPathChangeHandler(h),null===(c=null===(s=e||(0,d.FindComponentById)(t))||void 0===s?void 0:s.FindElementScope(n))||void 0===c||c.AddUninitCallback((()=>{var t;null===(t=(0,d.GetGlobal)().GetConcept(o))||void 0===t||t.RemovePathChangeHandler(h)})),h((null===(u=(0,d.GetGlobal)().GetConcept(o))||void 0===u?void 0:u.GetCurrentPath())||"")}}));function k(){(0,d.AddDirectiveHandler)(x,o)}const G=(0,d.CreateDirectiveHandlerCallback)("page",(({componentId:t,component:e,contextElement:n,expression:i,argKey:r,argOptions:a})=>{if(!(n instanceof HTMLTemplateElement))return(0,d.JournalError)("Target is not a template element.",`${o}:${r}`,n);let l=(0,d.ResolveOptions)({options:{cache:!1,reload:!1,evaluate:!1},list:a}),s=i=>{var r,a,s,c;let u;"string"==typeof i||i instanceof RegExp?u=null===(r=(0,d.GetGlobal)().GetConcept(o))||void 0===r?void 0:r.AddPage({path:i,cache:l.cache,reload:l.reload&&!l.cache}):(0,d.IsObject)(i)&&(u=null===(a=(0,d.GetGlobal)().GetConcept(o))||void 0===a?void 0:a.AddPage({path:i.path,name:i.name,title:i.title,cache:i.cache||l.cache,reload:i.reload||l.reload&&!l.cache,middleware:i.middleware})),u&&(null===(c=null===(s=e||(0,d.FindComponentById)(t))||void 0===s?void 0:s.FindElementScope(n))||void 0===c||c.AddUninitCallback((()=>{var t;null===(t=(0,d.GetGlobal)().GetConcept(o))||void 0===t||t.RemovePage(u)})))};l.evaluate?(0,d.EvaluateLater)({componentId:t,contextElement:n,expression:i})(s):s(i)}));function I(){(0,d.AddDirectiveHandler)(G,o)}const O=function(){const t=()=>(0,d.GetGlobal)().GetConcept(o);let e={setPrefix:e=>{var n;return null===(n=t())||void 0===n?void 0:n.SetPrefix(e)},addMiddleware:e=>{var n;return null===(n=t())||void 0===n?void 0:n.AddMiddleware(e)},removeMiddleware:e=>{var n;return null===(n=t())||void 0===n?void 0:n.RemoveMiddleware(e)},addFetcher:e=>{var n;return null===(n=t())||void 0===n?void 0:n.AddFetcher(e)},removeFetcher:e=>{var n;return null===(n=t())||void 0===n?void 0:n.RemoveFetcher(e)},addProtocolHandler:(e,n)=>{var i;return null===(i=t())||void 0===i?void 0:i.AddProtocolHandler(e,n)},removeProtocolHandler:e=>{var n;return null===(n=t())||void 0===n?void 0:n.RemoveProtocolHandler(e)},addPage:e=>{var n;return null===(n=t())||void 0===n?void 0:n.AddPage(e)},removePage:e=>{var n;return null===(n=t())||void 0===n?void 0:n.RemovePage(e)},findPage:e=>{var n;return null===(n=t())||void 0===n?void 0:n.FindPage(e)},findMatchingPage:e=>{var n;return null===(n=t())||void 0===n?void 0:n.FindMatchingPage(e)},mount:e=>{var n;return null===(n=t())||void 0===n?void 0:n.Mount(e)},goto:(e,n,i)=>{var o;return null===(o=t())||void 0===o?void 0:o.Goto(e,n,i)},reload:()=>{var e;return null===(e=t())||void 0===e?void 0:e.Reload()},getCurrentPath:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetCurrentPath()},getActivePage:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetActivePage()},getActivePageData:e=>{var n;return null===(n=t())||void 0===n?void 0:n.GetActivePageData(e)}};return(0,d.CreateReadonlyProxy)(e)}(),w=(0,d.CreateMagicHandlerCallback)(o,(()=>O));function S(){(0,d.AddMagicHandler)(w)}},988:(t,e,n)=>{n.r(e),n.d(e,{ScreenConcept:()=>a,ScreenConceptName:()=>i,ScreenMagicHandler:()=>s,ScreenMagicHandlerCompact:()=>c});const i="screen";var o=n(992);const r=[["xs",576],["sm",765],["md",992],["lg",1200],["xl",1400],["xx",Number.MAX_SAFE_INTEGER]];class a{constructor(t,e){var n;this.component_=t,this.sizeMarkList_=e,this.listeners_={size:null,scroll:null},this.id_=(null===(n=this.component_)||void 0===n?void 0:n.GenerateUniqueId("screen_proxy_"))||"",this.sizeMarkList_=this.sizeMarkList_||r,this.size_={width:window.innerWidth,height:window.innerHeight},this.scrollOffset_=a.GetScrollOffset(),this.scrollTrend_={horizontal:0,vertical:0},this.scrollStreak_={horizontal:0,vertical:0},this.listeners_.size=()=>this.HandleResize_(),this.listeners_.scroll=()=>this.HandleScroll_(),window.addEventListener("resize",this.listeners_.size,{passive:!0}),window.addEventListener("scroll",this.listeners_.scroll,{passive:!0})}StopListening(){this.listeners_.size&&(window.removeEventListener("resize",this.listeners_.size),this.listeners_.size=null),this.listeners_.scroll&&(window.removeEventListener("scroll",this.listeners_.scroll),this.listeners_.scroll=null)}Scroll({to:t,from:e,animate:n}){let i=a.GetScrollOffset();t.x="number"==typeof t.x?t.x:i.x,t.y="number"==typeof t.y?t.y:i.y,e&&(e.x="number"==typeof e.x?e.x:i.x,e.y="number"==typeof e.y?e.y:i.y);let o=()=>{window.scrollTo({left:t.x||0,top:t.y||0,behavior:n?"smooth":void 0})};!e||e.x===i.x&&e.y===i.y?o():(window.scrollTo(e.x||0,e.y||0),queueMicrotask(o))}ScrollTop(t){this.Scroll({animate:t,to:{x:null,y:0}})}ScrollRight(t){this.Scroll({animate:t,to:{x:document.body.scrollWidth,y:null}})}ScrollBottom(t){this.Scroll({animate:t,to:{x:null,y:document.body.scrollHeight}})}ScrollLeft(t){this.Scroll({animate:t,to:{x:0,y:null}})}GetScrollOffset(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.scrollOffset`),Object.assign({},this.scrollOffset_)}GetScrollPercentage(){return a.ComputeScrollPercentage(this.GetScrollOffset())}GetScrollTrend(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.scrollTrend`),Object.assign({},this.scrollTrend_)}GetScrollStreak(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.scrollStreak`),Object.assign({},this.scrollStreak_)}GetSize(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.size`),this.size_}GetSizeMarks(){var t;return null===(t=this.component_)||void 0===t||t.GetBackend().changes.AddGetAccess(`${this.id_}.sizeMarks`),this.FindSizeMarks_(this.size_.width)}GetBreakpoint(){return this.GetSizeMarks()[0]}GetCheckpoint(){return this.GetSizeMarks()[1]}GetSizeMarkLevel(t){return r.findIndex((([e,n])=>"string"==typeof t?t===e:t<=n))}HandleResize_(){var t,e;(0,o.AddChanges)("set",`${this.id_}.size`,"size",null===(t=this.component_)||void 0===t?void 0:t.GetBackend().changes);let[n,i]=this.FindSizeMarks_(this.size_.width);this.size_.width=window.innerWidth,this.size_.height=window.innerHeight;let[r,a]=this.FindSizeMarks_(this.size_.width);r===n&&a==i||(0,o.AddChanges)("set",`${this.id_}.sizeMarks`,"sizeMarks",null===(e=this.component_)||void 0===e?void 0:e.GetBackend().changes)}HandleScroll_(){var t,e,n;let i=a.GetScrollOffset();if(i.x==this.scrollOffset_.x&&i.y==this.scrollOffset_.y)return;(0,o.AddChanges)("set",`${this.id_}.scrollOffset`,"scrollOffset",null===(t=this.component_)||void 0===t?void 0:t.GetBackend().changes);let r={horizontal:i.x<=this.scrollOffset_.x?i.x<this.scrollOffset_.x?-1:0:1,vertical:i.y<=this.scrollOffset_.y?i.y<this.scrollOffset_.y?-1:0:1},l={x:i.x-this.scrollOffset_.x,y:i.y-this.scrollOffset_.y};l.x=l.x<0?-l.x:l.x,l.y=l.y<0?-l.y:l.y,this.scrollOffset_=i,r.horizontal!=this.scrollTrend_.horizontal?this.scrollStreak_.horizontal=-1:l.x+=this.scrollStreak_.horizontal,r.vertical!=this.scrollTrend_.vertical?this.scrollStreak_.vertical=-1:l.y+=this.scrollStreak_.vertical,r.horizontal==this.scrollTrend_.horizontal&&r.vertical==this.scrollTrend_.vertical||((0,o.AddChanges)("set",`${this.id_}.scrollTrend`,"scrollTrend",null===(e=this.component_)||void 0===e?void 0:e.GetBackend().changes),this.scrollTrend_=r),l.x==this.scrollStreak_.horizontal&&l.y==this.scrollStreak_.vertical||((0,o.AddChanges)("set",`${this.id_}.scrollStreak`,"scrollStreak",null===(n=this.component_)||void 0===n?void 0:n.GetBackend().changes),this.scrollStreak_.horizontal=l.x,this.scrollStreak_.vertical=l.y)}FindSizeMarks_(t){for(let e of this.sizeMarkList_)if(t<e[1])return[...e];return["",-1]}static GetScrollOffset(){return{x:window.scrollX||window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,y:window.scrollY||window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}}static ComputeScrollPercentage({x:t,y:e}){return{x:document.body.scrollWidth<=0?0:t/document.body.scrollWidth*100,y:document.body.scrollHeight<=0?0:e/document.body.scrollHeight*100}}}const l=function(){const t=()=>(0,o.GetGlobal)().GetConcept(i);let e={stopListening:()=>{var e;return null===(e=t())||void 0===e?void 0:e.StopListening()},scroll:e=>{var n;return null===(n=t())||void 0===n?void 0:n.Scroll(e)},scrollTop:e=>{var n;return null===(n=t())||void 0===n?void 0:n.ScrollTop(e)},scrollRight:e=>{var n;return null===(n=t())||void 0===n?void 0:n.ScrollRight(e)},scrollBottom:e=>{var n;return null===(n=t())||void 0===n?void 0:n.ScrollBottom(e)},scrollLeft:e=>{var n;return null===(n=t())||void 0===n?void 0:n.ScrollLeft(e)},getSizeMarkLevel:e=>{var n;return null===(n=t())||void 0===n?void 0:n.GetSizeMarkLevel(e)}},n={scrollOffset:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetScrollOffset()},scrollPercentage:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetScrollPercentage()},scrollTrend:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetScrollTrend()},scrollStreak:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetScrollStreak()},size:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetSize()},sizeMarks:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetSizeMarks()},breakpoint:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetBreakpoint()},checkpoint:()=>{var e;return null===(e=t())||void 0===e?void 0:e.GetCheckpoint()}};return(0,o.CreateInplaceProxy)((0,o.BuildGetterProxyOptions)({getter:t=>t&&e.hasOwnProperty(t)?e[t]:t&&n.hasOwnProperty(t)?n[t]():void 0,lookup:[...Object.keys(e),...Object.keys(n)]}))}(),s=(0,o.CreateMagicHandlerCallback)(i,(()=>l));function c(){(0,o.AddMagicHandler)(s)}},992:(t,e,n)=>{n.r(e),n.d(e,{AddChanges:()=>Z,AddDirectiveExpansionRule:()=>N,AddDirectiveHandler:()=>Ge,AddMagicHandler:()=>je,AddOutsideEventExcept:()=>Et,AddOutsideEventListener:()=>Ct,ApplyDirectiveExpansionRules:()=>z,AreObjects:()=>g,AttributeInterpolator:()=>Ae,AutoBootstrap:()=>ke,BaseComponent:()=>It,BaseGlobal:()=>$t,BeginsWith:()=>c,BindDirectiveExpansionRule:()=>Ne,BindEvent:()=>Se,BootstrapAndAttach:()=>xe,BuildGetterProxyOptions:()=>Jt,BuildIntersectionOptions:()=>Te,BuildProxyOptions:()=>qt,CallIfFunction:()=>Yt,Changes:()=>pt,ChildProxy:()=>St,ClassDirectiveExpansionRule:()=>Le,Config:()=>Pt,Context:()=>ht,ContextKeys:()=>d,CreateAnimationLoop:()=>k,CreateChildProxy:()=>tt,CreateDirective:()=>J,CreateDirectiveExpansionRule:()=>B,CreateDirectiveHandlerCallback:()=>Ie,CreateGlobal:()=>Ft,CreateInplaceProxy:()=>Nt,CreateLoop:()=>x,CreateMagicHandlerCallback:()=>Be,CreateReadonlyProxy:()=>Lt,DeepCopy:()=>_,DefaultTransitionDelay:()=>ue,DefaultTransitionDuration:()=>ce,DefaultTransitionRepeats:()=>de,DeleteProxyProp:()=>Y,DirectiveManager:()=>vt,DisableProxyAction:()=>zt,DispatchDirective:()=>H,ElementScope:()=>kt,ElementScopeKey:()=>Q,EndsWith:()=>y,EvaluateLater:()=>ee,EvaluateMagicProperty:()=>V,ExtractDuration:()=>Re,FindComponentById:()=>$,FindComponentByName:()=>T,FindComponentByRoot:()=>F,FlattenDirective:()=>D,ForwardEvent:()=>Oe,Future:()=>o,GenerateFunctionFromString:()=>te,GenerateUniqueId:()=>st,GenerateValueReturningFunction:()=>Vt,GenerateVoidFunction:()=>Zt,GenericProxy:()=>it,GetAttribute:()=>A,GetConfig:()=>j,GetDefaultUniqueMarkers:()=>rt,GetDirectiveValue:()=>Pe,GetElementContent:()=>_e,GetElementScopeId:()=>K,GetGlobal:()=>Ht,GetLocal:()=>ae,GetOrCreateGlobal:()=>Rt,GetProxyProp:()=>et,GetTarget:()=>h,GetTargets:()=>m,GlobalCreatedEvent:()=>Dt,IncrementUniqueMarkers:()=>at,InferComponent:()=>X,InitComponentCache:()=>M,InitJITProxy:()=>Ut,InlineJSGlobalKey:()=>Tt,InsertHtml:()=>me,Interpolate:()=>Ce,InterpolateText:()=>be,IntersectionObserver:()=>Fe,IsEqual:()=>E,IsObject:()=>v,JoinPath:()=>w,JoinUniqueMarkers:()=>lt,JournalError:()=>r,JournalLog:()=>qe,JournalTry:()=>a,JournalWarn:()=>R,LazyCheck:()=>He,Loop:()=>l,MagicManager:()=>Ot,MutationObserver:()=>wt,NativeFetchConcept:()=>Mt,NextTick:()=>fe,Nothing:()=>s,OnDirectiveExpansionRule:()=>ze,PathToRelative:()=>I,PeekCurrentComponent:()=>dt,PeekCurrentScope:()=>yt,PopCurrentComponent:()=>ut,PopCurrentScope:()=>_t,ProcessDirectives:()=>W,ProxyKeys:()=>p,PushCurrentComponent:()=>ct,PushCurrentScope:()=>gt,QueryGlobalComponent:()=>se,RemoveDirectiveExpansionRule:()=>L,RemoveOutsideEventListener:()=>At,ReplaceText:()=>ye,ResolveKeyValue:()=>Me,ResolveOptions:()=>De,ResolveTransition:()=>pe,RootProxy:()=>ot,Scope:()=>Gt,SetAttributeUtil:()=>S,SetProxyProp:()=>nt,SplitPath:()=>O,Stack:()=>i,StreamData:()=>ne,SubscribeToChanges:()=>oe,SupportsAttributes:()=>b,TextContentInterpolator:()=>Ee,TidyPath:()=>G,ToCamelCase:()=>u,ToString:()=>Bt,TraverseDirectives:()=>U,UnbindOutsideEvent:()=>xt,UseEffect:()=>re,WaitForGlobal:()=>jt,WaitPromise:()=>Wt,WaitTransition:()=>he,WaitWhile:()=>ie});class i{constructor(t){this.list_=new Array,t&&(this.list_=t.list_.map((t=>t)))}Push(t){this.list_.push(t)}Pop(){return 0==this.list_.length?null:this.list_.pop()}Peek(){return 0==this.list_.length?null:this.list_[this.list_.length-1]}IsEmpty(){return 0==this.list_.length}}class o{constructor(t){this.callback_=t}Get(){return this.callback_()}}function r(t,e,n){console.error({message:t,context:e||"N/A",contextElement:n||"N/A"})}function a(t,e,n){try{return t()}catch(t){r(t,e,n)}}class l{constructor(t){this.whileCallbacks_=new Array,this.finalCallbacks_=new Array,t((t=>{this.whileCallbacks_.slice(0).forEach(((e,n)=>{!1===a((()=>e(t)),"InlineJS.Loop.While")&&this.whileCallbacks_.splice(n,1)}))}),(t=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0).forEach((e=>a((()=>e(t)),"InlineJS.Loop.Final")))}),(()=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0)}))}While(t){return this.whileCallbacks_.push(t),this}Final(t){return this.finalCallbacks_.push(t),this}}class s{}function c(t,e=!1){return new RegExp(`^${t}`,e?"i":void 0)}function u(t,e,n){let[i="",...o]=t.trim().split(n||"-"),r=t=>t.charAt(0).toUpperCase()+t.substring(1);return i&&(e?r(i):i)+(o||[]).map((t=>r(t))).join("")}const d={self:"self",event:"event",scope:"scope"},p={componentId:"__InlineJS_CompnentId__",name:"__InlineJS_Name__",path:"__InlineJS_Path__",parentPath:"__InlineJS_ParentPath__",target:"__InlineJS_Target__"};function h(t){return(Array.isArray(t)||t&&"object"==typeof t)&&p.target in t?h(t[p.target]):t}function m(t){return t.map((t=>h(t)))}function f(t){return(t=h(t))&&"object"==typeof t&&(p.target in t||"__proto__"in t&&"Object"===t.__proto__.constructor.name)}function v(t){return!!f(t)}function g(t){return-1==t.findIndex((t=>!f(t)))}function _(t){if(t=h(t),!Array.isArray(t)&&!v(t))return t;if(Array.isArray(t))return t.map((t=>_(t)));let e={};return Object.entries(t).forEach((([t,n])=>e[t]=_(n))),e}function y(t,e=!1){return new RegExp(`${t}$`,e?"i":void 0)}function b(t){return(t=h(t))&&"getAttribute"in t&&"setAttribute"in t}function C(t,e){return e&&b(t)?t.getAttribute(e):null}function A(t,e){for(let n of Array.isArray(e)?e:[e]){let e=C(t,n);if(e)return e}return null}function E(t,e,n=!0){let[i,o]=n?m([t,e]):[t,e];if(i===o)return!0;if(Array.isArray(i)&&Array.isArray(o))return i.length==o.length&&-1==i.findIndex(((t,e)=>!E(t,o[e],n)));if(g([i,o])){let t=Object.keys(i),e=Object.keys(o);return t.length==e.length&&-1==t.findIndex((t=>!e.includes(t)||!E(i[t],o[t],n)))}return i==o}function x(t,e=1e3,n=0,i=0,o=!0){e=e||1;let r=t?Math.floor(t/e):-1,a=0,s=!1,c=0,u=(n,i)=>{if(o){let o=++c;requestAnimationFrame((()=>o==c&&i({passes:n,elapsed:n*e,duration:t,abort:()=>s=!0})))}else i({passes:n,elapsed:n*e,duration:t,abort:()=>s=!0})},d=(o,l,c)=>{if(s)return c();if(a+=1,r>=0&&a>=r){if(!n)return l({passes:r,elapsed:r*e,duration:t});setTimeout((()=>setTimeout(d.bind(null,o,l,c),e)),i),u(r,o),n>0&&(n-=1)}else setTimeout(d.bind(null,o,l,c),e),u(a,o)};return new l(((t,n,i)=>{setTimeout(d.bind(null,t,n,i),e)}))}function k(t,e=1e3,n=0,i=0){let o=e,r=-1,a=-1,s=!1,c=0,u=(l,d,p)=>{if(s)return;-1==r&&(r=p);let h=p-r;if(t&&h>=t){if(!n)return d({passes:c,elapsed:h,duration:t});o=i,a=p,n>0&&(n-=1)}-1==a&&(a=p);let m=p-a;m>=o&&(a=p-(m-o),o=e,l({passes:++c,elapsed:h,duration:t,abort:()=>s=!0})),requestAnimationFrame(u.bind(null,l,d))};return new l(((t,e)=>{requestAnimationFrame(u.bind(null,t,e))}))}function G(t){return(t=t?t.trim():"")?t.replace(/[?][?&=\/]+/g,"?").replace(/[&][?&=\/]+/g,"&").replace(/[=][?=\/]+/g,"=").replace(/[\/][\/=]+/g,"/").replace(/[:]{2,}/g,":").replace(/[:][\/]([^\/])/g,"://$1").replace(/[\/?&=]+$/,"").replace(/^[\/?&=]+/,"").split(/[?&]/).reduce(((t,e,n)=>t?`${t}${n<2?"?":"&"}${e}`:e),""):""}function I(t,e,n){return(t=G(t))===e?(t=n&&n||"/").startsWith("/")?t:`/${t}`:(t.startsWith(`${e}/`)&&(t=t.substring(e.length)),/^[a-zA-Z0-9_]+:\/\//.test(t)?t:(n&&(t=t.startsWith("/")?`${n}${t}`:`${n}/${t}`),t.startsWith("/")?t:`/${t}`))}function O(t,e,n){let i=(t=e?I(t,e,n):t).indexOf("?");return{base:-1==i?t:t.substring(0,i),query:-1==i?"":t.substring(i+1)}}function w({base:t,query:e},n,i,o){let r=`${G(t)}?${e}`;return r=n?I(r,n,i):G(r),r=o?G(`${n}/${r}`):r.startsWith("/")||/^[a-zA-Z0-9_]+:\/\//.test(r)?r:`/${r}`,r}function S(t,e,n){e&&b(t)&&t.setAttribute(e,n)}const P="InlineJS_Comp_Cache";function M(){return globalThis[P]={id:"",component:null}}function $(t){let e=globalThis[P]=globalThis[P]||M();return t===e.id||(e.component=Ht().FindComponentById(t),e.id=e.component?t:""),e.component}function T(t){return Ht().FindComponentByName(t)}function F(t){return Ht().FindComponentByRoot(t)}function R(t,e,n){console.warn({message:t,context:e||"N/A",contextElement:n||"N/A"})}function D(t){return{originalView:t.meta.view.original,expandedView:t.meta.view.expanded,nameValue:t.meta.name.value,nameJoined:t.meta.name.joined,nameParts:t.meta.name.parts,argKey:t.meta.arg.key,argOptions:t.meta.arg.options,expression:t.value}}function H(t,e,n,i=0){let o="string"==typeof t?$(t):t;if(!o)return r(`Failed to find component for '${n.meta.view.original}'`,"InlineJS.DispatchDirective",e),!1;let l=null,s=o.FindElementScope(e);if(s&&(l=s.GetDirectiveManager().FindHandler(n.meta.name.joined),++i),l=l||Ht().GetDirectiveManager().FindHandler(n.meta.name.joined),!l){let t=`${n.meta.name.parts.reduce(((t,e)=>t?`${t}${e.substring(0,1).toUpperCase()}${e.substring(1)}`:e),"")}DirectiveHandler`;t in globalThis&&"function"==typeof globalThis[t]&&(l=globalThis[t])}return l?(0!=i||s||o.CreateElementScope(e),a((()=>{l(Object.assign(Object.assign({},D(n)),{componentId:o.GetId(),component:o,contextElement:e}))}),"InlineJS.DispatchDirective",e),!0):(R(`No handler found '${n.meta.view.original}'`,"InlineJS.DispatchDirective",e),!1)}function j(){return Ht().GetConfig()}function B(t,e){return n=>-1==n.search(t)?null:n.replace(t,e)}function N(t){return Ht().GetDirectiveManager().AddExpansionRule(t)}function L(t){Ht().GetDirectiveManager().RemoveExpansionRule(t)}function z(t){return Ht().GetDirectiveManager().Expand(t)}let q={};function J(t,e){if(!t||!(t=t.trim()))return null;if((e=e.trim())===t&&(e=""),t in q)return{meta:q[t],value:e};let n=z(t),i=n.match(j().GetDirectiveRegex());if(!i||3!=i.length||!i[2])return null;let o=i[2].indexOf(":"),r=-1==o?[i[2]]:[i[2].substring(0,o),i[2].substring(o+1)],a="",l="";r.length>1?[a,l]=r:[l]=r;let s=l.split("."),c="";a?c=s[0]:a=s[0],s.splice(0,1);let u=a.split("-"),d={view:{original:t,expanded:n},name:{value:a,joined:u.join("."),parts:u},arg:{key:c,options:s||[]}};return q[t]=d,{meta:d,value:e}}function U({element:t,callback:e,attributeCallback:n}){Array.from(t.attributes||[]).forEach((i=>{try{n&&n(i.name,i.value||"");let t=J(i.name,i.value||"");t&&e(t)}catch(e){r(e,"InlineJS.TraverseDirectives",t)}}))}function W({component:t,element:e,options:n={}}){var i;if(!function(t,{checkTemplate:e=!0,checkDocument:n=!0}){return 1===(null==t?void 0:t.nodeType)&&(!n||document.contains(t))&&(!e||t instanceof HTMLTemplateElement||!t.closest("template"))}(e,n))return;let o="string"==typeof t?$(t):t;if(!o)return r("Failed to find component.","InlineJS.ProcessDirectives",e),!1;let a=0;U({element:e,callback:n=>{H(t,e,n,a)&&(e.removeAttribute(n.meta.view.original),++a)},attributeCallback:(t,n)=>Ht().DispatchAttributeProcessing({name:t,value:n,componentId:o.GetId(),component:o,contextElement:e})}),Ht().DispatchTextContentProcessing({componentId:o.GetId(),component:o,contextElement:e}),n.ignoreChildren||e instanceof HTMLTemplateElement||(null==o||o.PushSelectionScope(),Array.from(e.children).filter((t=>!t.contains(e))).forEach((e=>W({component:t,options:n,element:e}))),null==o||o.PopSelectionScope()),null===(i=null==o?void 0:o.FindElementScope(e))||void 0===i||i.ExecutePostProcessCallbacks()}const Q="__InlineJS_ELSCOPE_KEY__";function K(t){let e="";for(;t;){if(e=Q in(n=t)&&n[Q],e||t===document.body)return e||"";t=t.parentElement}var n;return""}function X(t){let e=K(t).match(/^Cmpnt\<([0-9_]+)\>/);return e?$(e[1]):null}function V(t,e,n,i="",o=!0){let l="string"==typeof t?$(t):t;if(!l)return r(`Failed to find component for '$${n}'`,"InlineJS.EvaluateMagicProperty",e),Ht().CreateNothing();let s=Ht().GetMagicManager().FindHandler(i&&n.startsWith(i)?n.substring(i.length):n,{contextElement:e,componentId:l.GetId(),component:l});if(!s){if(o&&i&&n.startsWith(`${i}${i}`)){let t=l.GetId();return e=>{let o=X(e)||$(t);if(!o)return null;let r=o.FindElementScope(e),a=r&&r.GetLocal(n.substring(i.length));return r&&!Ht().IsNothing(a)?a:V(o.GetId(),e,n,`${i}${i}`,!1)}}return Ht().CreateNothing()}return a((()=>s({componentId:l.GetId(),component:l,contextElement:e})),"InlineJS.EvaluateMagicProperty",e)}function Z(t,e,n,i,o=!0){if(!i)return;let r={componentId:i.GetComponentId(),type:t,path:e,prop:n,origin:i.PeekOrigin()};if(i.Add(r),!o)return;let a=e.split(".");for(;a.length>2;)a.pop(),i.Add({original:r,path:a.join(".")})}function Y(t,e,n,i){var o;if(!(i in e))return!1;let r=$(t);return null===(o=null==r?void 0:r.FindProxy(n))||void 0===o||o.RemoveChild(i),delete e[i],null==r||r.RemoveProxy(`${n}.${i}`),Z("delete",n,i,null==r?void 0:r.GetBackend().changes),!0}function tt(t,e,n,i){if(!t)return null;let o=t.FindChild(e);if(o)return o;if(!Array.isArray(n)&&!v(n))return null;let r=Ht().CreateChildProxy(t,e,n);return i&&i.AddProxy(r),r}function et(t,e,n,i,o){var r;if(i===p.target)return e;if(i===p.componentId)return t;if(i===p.name)return n.split(".").at(-1);if(i===p.path)return n;if(i===p.parentPath)return n.split(".").slice(0,-1).join(".")||"";let a=i in e;if(!a&&o){let e=o($(t)||void 0,i);if(!Ht().IsNothing(e))return Ht().IsFuture(e)?e.Get():e}if(a&&!e.hasOwnProperty(i))return e[i];let l=a?e[i]:null;if(Ht().IsFuture(l))return l.Get();let s=$(t);return null==s||s.GetBackend().changes.AddGetAccess(`${n}.${i}`),(null===(r=tt((null==s?void 0:s.FindProxy(n))||null,i,l,s||void 0))||void 0===r?void 0:r.GetNative())||l}function nt(t,e,n,i,o){var r;if(i in e&&o===e[i])return!0;let a=$(t);return null===(r=null==a?void 0:a.FindProxy(n))||void 0===r||r.RemoveChild(i),e[i]=o,null==a||a.RemoveProxy(`${n}.${i}`),Z("set",`${n}.${i}`,i,null==a?void 0:a.GetBackend().changes),!0}class it{constructor(t,e,n,i){this.componentId_=t,this.target_=e,this.name_=n,this.native_=null,this.children_={},this.parentPath_=(null==i?void 0:i.GetPath())||"",null==i||i.AddChild(this);let o=this.componentId_,r=this.GetPath(),a=(t,e)=>{let{context:n}=null==t?void 0:t.GetBackend(),i=null==e?void 0:e.startsWith("$");if(i){let t=n.Peek(e.substring(1),Ht().CreateNothing());if(!Ht().IsNothing(t))return t}let o=n.Peek(d.self),r=null==t?void 0:t.FindElementLocalValue(o||t.GetRoot(),e,!0);if(!Ht().IsNothing(r))return r;let a=i?V(t,o,e,"$"):Ht().CreateNothing();return Ht().IsNothing(a)&&e&&e in globalThis&&(a=globalThis[e]),a},l=!this.parentPath_,s={get:(t,e)=>"symbol"==typeof e||"prototype"===e?Reflect.get(t,e):et(o,t,r,e.toString(),l?a:void 0),set:(t,e,n)=>"symbol"==typeof e||"prototype"===e?Reflect.set(t,e,n):nt(o,t,r,e.toString(),n),deleteProperty:(t,e)=>"symbol"==typeof e||"prototype"===e?Reflect.get(t,e):Y(o,t,r,e.toString()),has:(t,e)=>"symbol"!=typeof e||Reflect.has(t,e)};this.native_=new window.Proxy(this.target_,s)}IsRoot(){return!this.parentPath_}GetComponentId(){return this.componentId_}GetTarget(){return this.target_}GetNative(){return this.native_}GetName(){return this.name_}GetPath(){return this.parentPath_?`${this.parentPath_}.${this.name_}`:this.name_}GetParentPath(){return this.parentPath_}AddChild(t){this.children_[t.GetName()]=t}RemoveChild(t){delete this.children_["string"==typeof t?t:t.GetName()]}FindChild(t){return this.children_.hasOwnProperty(t)?this.children_[t]:null}}class ot extends it{constructor(t,e){super(t,e,`Proxy<${t}>`)}}function rt(){return{level0:0,level1:0,level2:0}}function at(t,e="level0",n="level1"){t[e]==(Number.MAX_SAFE_INTEGER||9007199254740991)?("level0"===e?at(t,"level1","level2"):++t[n],t[e]=0):++t[e]}function lt(t){return`${t.level2}_${t.level1}_${t.level0}`}function st(t,e,n,i){return at(t),`${e||""}${n||""}${lt(t)}${i||""}`}function ct(t){Ht().PushCurrentComponent(t)}function ut(){return Ht().PopCurrentComponent()}function dt(){return Ht().PeekCurrentComponent()}class pt{constructor(t){this.componentId_=t,this.nextTickHandlers_=new Array,this.isScheduled_=!1,this.list_=new Array,this.subscribers_={},this.lastAccessContext_="",this.getAccessStorages_=new i,this.origins_=new i}GetComponentId(){return this.componentId_}AddNextTickHandler(t){this.nextTickHandlers_.push(t),this.Schedule()}Schedule(){this.isScheduled_||(this.isScheduled_=!0,queueMicrotask((()=>{this.isScheduled_=!1;let t=new Array;this.list_.splice(0).forEach((e=>{Object.values(this.subscribers_).filter((t=>t.path===e.path&&t.callback!==(t=>"original"in t?t.original.origin:t.origin)(e))).forEach((n=>((e,n)=>{let i=t.find((t=>t.callback===n));i?i.changes.push(e):t.push({callback:n,changes:new Array(e)})})(e,n.callback)))})),t.forEach((t=>t.callback(t.changes))),this.nextTickHandlers_.splice(0).forEach((t=>{try{t()}catch(t){r(t,`InlineJs.Region<${this.componentId_}>.NextTick`)}}))})))}Add(t){this.list_.push(t),this.Schedule()}AddComposed(t,e,n){let i={componentId:this.componentId_,type:"set",path:e?`${e}.${t}`:t,prop:t,origin:this.origins_.Peek()};n?this.Add({original:i,path:n}):this.Add(i)}GetLastChange(t=0){return _(this.list_.at(-(t+1))||null)}AddGetAccess(t){var e,n,i,o;let r=(null===(e=$(dt()||""))||void 0===e?void 0:e.GetBackend().changes)||this,a=t.lastIndexOf(".");this.lastAccessContext_=-1==a?"":t.substring(0,a);let l=r.getAccessStorages_.Peek();(null==l?void 0:l.details)&&(null===(n=l.details.raw)||void 0===n||n.entries.push({compnentId:this.componentId_,path:t}),l.details.optimized&&l.details.optimized.entries!==(null===(i=l.details.raw)||void 0===i?void 0:i.entries)&&0!=l.details.optimized.entries.length&&l.lastAccessPath&&l.lastAccessPath.length<t.length&&0==t.indexOf(`${l.lastAccessPath}.`)?l.details.optimized.entries.at(-1).path=t:l.details.optimized&&l.details.optimized.entries!==(null===(o=l.details.raw)||void 0===o?void 0:o.entries)&&l.details.optimized.entries.push({compnentId:this.componentId_,path:t}),l.lastAccessPath=t)}GetLastAccessContext(){return this.lastAccessContext_}ResetLastAccessContext(){this.lastAccessContext_=""}PushGetAccessStorage(t){var e;this.getAccessStorages_.Push({details:t||{optimized:"optimized"===(null===(e=$(this.componentId_))||void 0===e?void 0:e.GetReactiveState())?{entries:new Array,snapshots:new i}:void 0,raw:{entries:new Array,snapshots:new i}},lastAccessPath:""})}PopGetAccessStorage(){var t;return(null===(t=this.getAccessStorages_.Pop())||void 0===t?void 0:t.details)||null}SwapOptimizedGetAccessStorage(){let t=this.getAccessStorages_.Peek();(null==t?void 0:t.details.optimized)&&t.details.raw&&(t.details.optimized.entries=t.details.raw.entries)}RestoreOptimizedGetAccessStorage(){var t;let e=this.getAccessStorages_.Peek();(null==e?void 0:e.details.optimized)&&e.details.optimized.entries===(null===(t=e.details.raw)||void 0===t?void 0:t.entries)&&(e.details.optimized.entries=e.details.raw.entries.slice(0))}FlushRawGetAccessStorage(){var t,e;null===(e=null===(t=this.getAccessStorages_.Peek())||void 0===t?void 0:t.details.raw)||void 0===e||e.entries.splice(0)}PushGetAccessStorageSnapshot(){var t,e;let n=this.getAccessStorages_.Peek();null===(t=null==n?void 0:n.details.optimized)||void 0===t||t.snapshots.Push(n.details.optimized.entries.slice(0).map((t=>Object.assign({},t)))),null===(e=null==n?void 0:n.details.raw)||void 0===e||e.snapshots.Push(n.details.raw.entries.slice(0).map((t=>Object.assign({},t))))}PopGetAccessStorageSnapshot(t){var e,n,i,o;let r=this.getAccessStorages_.Peek(),a=null===(e=null==r?void 0:r.details.optimized)||void 0===e?void 0:e.snapshots.Pop();!t&&a&&(null===(n=null==r?void 0:r.details.optimized)||void 0===n?void 0:n.entries)&&(r.details.optimized.entries=a);let l=null===(i=null==r?void 0:r.details.raw)||void 0===i?void 0:i.snapshots.Pop();!t&&l&&(null===(o=null==r?void 0:r.details.raw)||void 0===o?void 0:o.entries)&&(r.details.raw.entries=l)}PopAllGetAccessStorageSnapshots(t){var e,n,i,o,r,a;let l=this.getAccessStorages_.Peek(),s=null===(e=null==l?void 0:l.details.optimized)||void 0===e?void 0:e.snapshots.Pop();for(;(null===(n=null==l?void 0:l.details.optimized)||void 0===n?void 0:n.snapshots)&&!l.details.optimized.snapshots.IsEmpty();)s=l.details.optimized.snapshots.Pop();!t&&s&&(null===(i=null==l?void 0:l.details.optimized)||void 0===i?void 0:i.entries)&&(l.details.optimized.entries=s);let c=null===(o=null==l?void 0:l.details.raw)||void 0===o?void 0:o.snapshots.Pop();for(;(null===(r=null==l?void 0:l.details.raw)||void 0===r?void 0:r.snapshots)&&!l.details.raw.snapshots.IsEmpty();)c=l.details.raw.snapshots.Pop();!t&&c&&(null===(a=null==l?void 0:l.details.raw)||void 0===a?void 0:a.entries)&&(l.details.raw.entries=c)}PushOrigin(t){this.origins_.Push(t)}PeekOrigin(){return this.origins_.Peek()}PopOrigin(){return this.origins_.Pop()}Subscribe(t,e){var n;let i=null===(n=$(this.componentId_))||void 0===n?void 0:n.GenerateUniqueId("sub_");return i&&(this.subscribers_[i]={path:t,callback:e}),i||""}Unsubscribe(t,e){"string"!=typeof t?Object.entries(this.subscribers_).filter((([n,i])=>t===i.callback&&(!e||e===i.path))).map((([t])=>t)).forEach((t=>{this.Unsubscribe_(t)})):t in this.subscribers_&&this.Unsubscribe_(t)}Unsubscribe_(t){delete this.subscribers_[t]}}class ht{constructor(){this.record_={}}Push(t,e){(this.record_[t]=this.record_[t]||new i).Push(e)}Pop(t,e){return t in this.record_?this.record_[t].Pop():e||null}Peek(t,e){return t in this.record_?this.record_[t].Peek():e||null}Get(t){return t in this.record_?this.record_[t]:null}}function mt(t,e,n){let i="function"==typeof t?function(t){return{handler(e){var{argKey:n}=e,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(e,["argKey"]);this.extensions.hasOwnProperty(n)?this.extensions[n](Object.assign({argKey:n},i)):t(Object.assign({argKey:n},i))},extensions:{}}}(t):t;return i.extensions[e]=n,i}function ft(t,e){let n="",i=null;return"function"==typeof t?(n=e||"",i=t):(n=t.GetName(),i=e=>t.Handle(e)),{computedName:n,callback:i}}class vt{constructor(){this.expansionRules_={},this.handlers_={}}AddExpansionRule(t){let e=Ht().GenerateUniqueId("exrule_");return this.expansionRules_[e]=t,e}RemoveExpansionRule(t){t in this.expansionRules_&&delete this.expansionRules_[t]}Expand(t){if(!(t=t.trim()))return t;for(let e in this.expansionRules_){let n=this.expansionRules_[e](t);if(n)return n}return t}AddHandler(t,e){let{computedName:n,callback:i}=ft(t,e);n&&i&&(this.handlers_[n]=i)}RemoveHandler(t){t in this.handlers_&&delete this.handlers_[t]}FindHandler(t){if(!this.handlers_.hasOwnProperty(t))return null;let e=this.handlers_[t];return"function"==typeof e?e:e.handler.bind(e)}AddHandlerExtension(t,e,n){let i=this.handlers_.hasOwnProperty(t)?this.handlers_[t]:null;if(!i)return;let{computedName:o,callback:r}=ft(e,n);o&&r&&(this.handlers_[t]=mt(i,o,r))}RemoveHandlerExtension(t,e){let n=this.handlers_.hasOwnProperty(t)?this.handlers_[t]:null;n&&function(t,e){"function"!=typeof t&&t.extensions.hasOwnProperty(e)&&delete t.extensions[e]}(n,e)}}function gt(t,e){var n;null===(n="string"==typeof t?$(t):t)||void 0===n||n.PushCurrentScope(e)}function _t(t){var e;return(null===(e="string"==typeof t?$(t):t)||void 0===e?void 0:e.PopCurrentScope())||null}function yt(t){var e;return(null===(e="string"==typeof t?$(t):t)||void 0===e?void 0:e.PeekCurrentScope())||null}function bt(){return globalThis.InlineJS_OutsideEvent=globalThis.InlineJS_OutsideEvent||{targetScopes:new Array,eventCallbacks:{}}}function Ct(t,e,n){let i=bt(),o=i.targetScopes.find((e=>e.target===t));o||(o={target:t,listeners:{}},i.targetScopes.push(o)),(Array.isArray(e)?e:[e]).forEach((t=>{t in o.listeners||(o.listeners[t]={handlers:new Array,excepts:null}),o.listeners[t].handlers.push({callback:n,excepts:null}),t in i.eventCallbacks||(i.eventCallbacks[t]=t=>{i.targetScopes.forEach((e=>{t.type in e.listeners&&e.target!==t.target&&!e.target.contains(t.target)&&-1==(e.listeners[t.type].excepts||[]).findIndex((e=>e===t.target||e.contains(t.target)))&&e.listeners[t.type].handlers.filter((e=>-1==(e.excepts||[]).findIndex((e=>e===t.target||e.contains(t.target))))).forEach((e=>a((()=>e.callback(t)),"InlineJS.OutsideEventListener")))}))},window.addEventListener(t,i.eventCallbacks[t]))}))}function At(t,e,n){let i=bt().targetScopes.find((e=>e.target===t));i&&(Array.isArray(e)?e:[e]).forEach((t=>{t in i.listeners&&(n?i.listeners[t].handlers=i.listeners[t].handlers.filter((t=>t.callback!==n)):delete i.listeners[t])}))}function Et(t,e,n){let i=bt().targetScopes.find((e=>e.target===t));i&&Object.keys(e).forEach((t=>{if(t in i.listeners)if(n){let o=i.listeners[t].handlers.find((t=>t.callback===n));o&&(o.excepts=o.excepts||new Array,(Array.isArray(e[t])?e[t]:[e[t]]).forEach((t=>{o.excepts.push(t)})))}else i.listeners[t].excepts=i.listeners[t].excepts||new Array,(Array.isArray(e[t])?e[t]:[e[t]]).forEach((e=>{i.listeners[t].excepts.push(e)}))}))}function xt(t){bt().targetScopes=bt().targetScopes.filter((e=>e.target!==t&&t.contains(e.target)))}class kt{constructor(t,e,n,i){this.componentId_=t,this.id_=e,this.element_=n,this.isRoot_=i,this.scopeId_="",this.key_="",this.locals_={},this.data_={},this.managers_={directive:null},this.callbacks_={post:new Array,uninit:new Array,treeChange:new Array,attributeChange:new Array},this.state_={isMarked:!1,isDestroyed:!1},this.scopeId_=yt(this.componentId_)||""}GetComponentId(){return this.componentId_}GetScopeId(){return this.scopeId_}GetId(){return this.id_}SetKey(t){this.key_=t}GetKey(){return this.key_}GetElement(){return this.element_}IsRoot(){return this.isRoot_}SetLocal(t,e){this.state_.isMarked||(this.locals_[t]=e)}DeleteLocal(t){delete this.locals_[t]}HasLocal(t){return t in this.locals_}GetLocal(t){return t in this.locals_?this.locals_[t]:Ht().CreateNothing()}GetLocals(){return this.locals_}SetData(t,e){this.state_.isMarked||(this.data_[t]=e)}GetData(t){return t in this.data_?this.data_[t]:Ht().CreateNothing()}AddPostProcessCallback(t){this.state_.isMarked||this.callbacks_.post.push(t)}ExecutePostProcessCallbacks(){(this.callbacks_.post||[]).forEach((t=>a(t,"ElementScope.ExecutePostProcessCallbacks")))}AddUninitCallback(t){this.state_.isMarked||this.callbacks_.uninit.push(t)}RemoveUninitCallback(t){this.callbacks_.uninit=this.callbacks_.uninit.filter((e=>e!==t))}AddTreeChangeCallback(t){this.callbacks_.treeChange.push(t)}RemoveTreeChangeCallback(t){this.callbacks_.treeChange=this.callbacks_.treeChange.filter((e=>e!==t))}ExecuteTreeChangeCallbacks(t,e){this.callbacks_.treeChange.forEach((n=>a((()=>n({added:t,removed:e})))))}AddAttributeChangeCallback(t,e){if(this.state_.isMarked)return;let n=this.callbacks_.attributeChange.find((e=>e.callback===t));n?n.whitelist.push(...e||[]):this.callbacks_.attributeChange.push({callback:t,whitelist:"string"==typeof e?[e]:e||[]})}RemoveAttributeChangeCallback(t,e){let n=this.callbacks_.attributeChange.findIndex((e=>e.callback===t));if(-1==n)return;let i="string"==typeof e?[e]:e||[];0!=i.length&&0!=this.callbacks_.attributeChange[n].whitelist.length?i.forEach((t=>{this.callbacks_.attributeChange[n].whitelist=this.callbacks_.attributeChange[n].whitelist.filter((e=>e!==t))})):this.callbacks_.attributeChange[n].whitelist.splice(0),0==this.callbacks_.attributeChange[n].whitelist.length&&this.callbacks_.attributeChange.splice(n,1)}ExecuteAttributeChangeCallbacks(t){(this.callbacks_.attributeChange||[]).filter((e=>0==(e.whitelist||[]).length||e.whitelist.includes(t))).forEach((e=>a((()=>e.callback(t)))))}Destroy(t){if(this.state_.isDestroyed)return;if(this.state_.isMarked=!0,!(this.element_ instanceof HTMLTemplateElement)){let e=$(this.componentId_);e&&this.DestroyChildren_(e,this.element_,t||!1)}if(t)return;this.callbacks_.uninit.splice(0).forEach((t=>{try{t()}catch(t){}})),this.callbacks_.post.splice(0),this.callbacks_.treeChange.splice(0),this.callbacks_.attributeChange.splice(0),this.data_={},this.locals_={},this.state_.isDestroyed=!0,xt(this.element_),Ht().GetMutationObserver().Unobserve(this.element_);let e=$(this.componentId_);if(null==e||e.RemoveElementScope(this.id_),delete this.element_[Q],this.isRoot_){let t=this.componentId_;null==e||e.GetBackend().changes.AddNextTickHandler((()=>Ht().RemoveComponent(t)))}}IsMarked(){return this.state_.isMarked}IsDestroyed(){return this.state_.isDestroyed}GetDirectiveManager(){return this.managers_.directive=this.managers_.directive||new vt}DestroyChildren_(t,e,n){Array.from(e.children).filter((t=>!t.contains(e))).forEach((e=>{let i=t.FindElementScope(e);i?i.Destroy(n):this.DestroyChildren_(t,e,n)}))}}class Gt{constructor(t,e,n){this.componentId_=t,this.id_=e,this.root_=n,this.name_=""}GetComponentId(){return this.componentId_}GetId(){return this.id_}SetName(t){this.name_=t}GetName(){return this.name_}GetRoot(){return this.root_}FindElement(t,e){if(t===this.root_||!this.root_.contains(t))return null;do{t=t.parentElement;try{if(e(t))return t}catch(t){}}while(t!==this.root_);return null}FindAncestor(t,e){let n=e||0;return this.FindElement(t,(()=>0==n--))}}class It{constructor(t,e){this.id_=t,this.root_=e,this.reactiveState_="default",this.name_="",this.context_=new ht,this.scopes_={},this.elementScopes_={},this.proxies_={},this.refs_={},this.currentScope_=new i,this.selectionScopes_=new i,this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observers_={intersections:{}},this.changes_=new pt(this.id_),this.rootProxy_=new ot(this.id_,{}),this.proxies_[this.rootProxy_.GetPath()]=this.rootProxy_,this.CreateElementScope(this.root_),Ht().GetMutationObserver().Observe(this.root_,(({added:e,removed:n,attributes:i})=>{let o=$(t);if(!o)return;let r=new Array,a=Ht().GetConfig().GetDirectiveRegex();null==i||i.filter((t=>t.target instanceof HTMLElement)).forEach((t=>{var e;a.test(t.name)?t.target.hasAttribute(t.name)&&!r.includes(t.target)&&r.push(t.target):null===(e=null==o?void 0:o.FindElementScope(t.target))||void 0===e||e.ExecuteAttributeChangeCallbacks(t.name)})),r.forEach((t=>W({element:t,component:o,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})));let l=[...e||[]];null==e||e.filter((t=>!(null==n?void 0:n.includes(t)))).forEach((t=>{var e;if(t instanceof HTMLElement){W({component:o,element:t,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}});for(let n=t.parentElement;n&&(null===(e=null==o?void 0:o.FindElementScope(n))||void 0===e||e.ExecuteTreeChangeCallbacks([t],[]),n!==this.root_);n=n.parentElement);}})),null==n||n.filter((t=>!l.includes(t))).forEach((t=>{var e;t instanceof HTMLElement&&(null===(e=o.FindElementScope(t))||void 0===e||e.Destroy())}))}),["add","remove","attribute"])}SetReactiveState(t){this.reactiveState_=t}GetReactiveState(){return"default"===this.reactiveState_?j().GetReactiveState():this.reactiveState_}GetId(){return this.id_}GenerateUniqueId(t,e){return st(this.uniqueMarkers_,`Cmpnt<${this.id_}>.`,t,e)}SetName(t){this.name_=t}GetName(){return this.name_}CreateScope(t){let e=Object.values(this.scopes_).find((e=>e.GetRoot()===t));if(e)return e;if(t===this.root_||!this.root_.contains(t))return null;let n=new Gt(this.id_,this.GenerateUniqueId("scope_"),t);return this.scopes_[n.GetId()]=n,n}RemoveScope(t){let e="string"==typeof t?t:t.GetId();e in this.scopes_&&delete this.scopes_[e]}FindScopeById(t){return t in this.scopes_?this.scopes_[t]:null}FindScopeByName(t){return Object.values(this.scopes_).find((e=>e.GetName()===t))||null}FindScopeByRoot(t){return Object.values(this.scopes_).find((e=>e.GetRoot()===t))||null}PushCurrentScope(t){this.currentScope_.Push(t)}PopCurrentScope(){return this.currentScope_.Pop()}PeekCurrentScope(){return this.currentScope_.Peek()}InferScopeFrom(t){var e;return this.FindScopeById((null===(e=this.FindElementScope(K(t)))||void 0===e?void 0:e.GetScopeId())||"")||null}PushSelectionScope(){let t={set:!1};return this.selectionScopes_.Push(t),t}PopSelectionScope(){return this.selectionScopes_.Pop()}PeekSelectionScope(){return this.selectionScopes_.Peek()}GetRoot(){return this.root_}FindElement(t,e){if(t===this.root_||!this.root_.contains(t))return null;do{t=t.parentElement;try{if(e(t))return t}catch(t){}}while(t!==this.root_);return null}FindAncestor(t,e){let n=e||0;return this.FindElement(t,(()=>0==n--))}CreateElementScope(t){let e=Object.values(this.elementScopes_).find((e=>e.GetElement()===t));if(e)return e;if(t!==this.root_&&!this.root_.contains(t))return null;let n=new kt(this.id_,this.GenerateUniqueId("elscope_"),t,t===this.root_);return this.elementScopes_[n.GetId()]=n,t[Q]=n.GetId(),n}RemoveElementScope(t){delete this.elementScopes_[t]}FindElementScope(t){if("string"==typeof t)return t in this.elementScopes_?this.elementScopes_[t]:null;let e=!0===t?this.context_.Peek(d.self):t instanceof Node?t:this.root_;return e&&Q in e&&e[Q]in this.elementScopes_?this.elementScopes_[e[Q]]:null}FindElementLocalValue(t,e,n){let i=this.FindElementScope(t),o=i?i.GetLocal(e):Ht().CreateNothing();if(!Ht().IsNothing(o)||!n||!i&&"string"==typeof t)return o;let r=(null==i?void 0:i.GetElement())||(!0===t?this.context_.Peek(d.self):t instanceof Node?t:this.root_);if(!r)return o;let a=this.FindAncestor(r);return a?this.FindElementLocalValue(a,e,!0):o}AddProxy(t){this.proxies_[t.GetPath()]=t}RemoveProxy(t){let e="string"==typeof t?t:t.GetPath();e in this.proxies_&&delete this.proxies_[e]}GetRootProxy(){return this.rootProxy_}FindProxy(t){return t in this.proxies_?this.proxies_[t]:null}AddRefElement(t,e){this.refs_[t]=e}FindRefElement(t){return t in this.refs_?this.refs_[t]:null}AddIntersectionObserver(t){this.observers_.intersections[t.GetId()]=t}FindIntersectionObserver(t){return t in this.observers_.intersections?this.observers_.intersections[t]:null}RemoveIntersectionObserver(t){t in this.observers_.intersections&&delete this.observers_.intersections[t]}GetBackend(){return{context:this.context_,changes:this.changes_}}GetGlobal(){return Ht()}}class Ot{constructor(){this.handlers_={}}AddHandler(t,e,n){let i="",o=null;"function"==typeof t?(i=e||"",o=t):(i=t.GetName(),o=e=>t.Handle(e)),i&&o&&(this.handlers_[i]={callback:o,onAccess:n})}RemoveHandler(t){t in this.handlers_&&delete this.handlers_[t]}FindHandler(t,e){return t in this.handlers_?(e&&this.handlers_[t].onAccess&&this.handlers_[t].onAccess(e),this.handlers_[t].callback):null}}class wt{constructor(){if(this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observer_=null,this.handlers_={},globalThis.MutationObserver)try{this.observer_=new globalThis.MutationObserver((t=>{let e={},n=t=>e[t]=e[t]||{added:new Array,removed:new Array,attributes:new Array};t.forEach((t=>{var e,i;if("childList"===(null==t?void 0:t.type)){let i=t=>{var e;let o=K((null===(e=X(t))||void 0===e?void 0:e.GetRoot())||null);o?n(o).removed.push(t):Array.from(t.childNodes).filter((e=>!e.contains(t))).forEach(i)};t.removedNodes.forEach(i);let o=t.target instanceof HTMLElement?K((null===(e=X(t.target))||void 0===e?void 0:e.GetRoot())||null):"";o&&n(o).added.push(...Array.from(t.addedNodes))}else if("attributes"===(null==t?void 0:t.type)&&t.attributeName){let e=t.target instanceof HTMLElement?K((null===(i=X(t.target))||void 0===i?void 0:i.GetRoot())||null):"";e&&n(e).attributes.push({name:t.attributeName,target:t.target})}})),0!=Object.keys(e).length&&Object.entries(this.handlers_).forEach((([t,n])=>{let i=n.target instanceof HTMLElement?K(n.target):"";if(!i||!(i in e))return;let o=(t,e,n)=>!e.whitelist||e.whitelist.includes(t)?n:void 0,r=o("add",n,e[i].added),l=o("remove",n,e[i].removed),s=o("attribute",n,e[i].attributes);(r||l||s)&&a((()=>n.handler({id:t,added:r,removed:l,attributes:s})),"InlineJS.MutationObserver")}))})),this.observer_.observe(document,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}catch(t){this.observer_=null}}GetNative(){return this.observer_}Observe(t,e,n){let i=st(this.uniqueMarkers_);return this.handlers_[i]={target:t,handler:e,whitelist:n},i}Unobserve(t){"string"!=typeof t?Object.entries(this.handlers_).filter((([e,n])=>n.target===t)).forEach((([t])=>delete this.handlers_[t])):delete this.handlers_[t]}}class St extends it{constructor(t,e,n){super(t.GetComponentId(),n,e,t)}}class Pt{constructor({appName:t="",reactiveState:e="unoptimized",directivePrefix:n="x",directiveRegex:i,directiveNameBuilder:o}={}){this.keyMap_={return:"enter",ctrl:"control",esc:"escape",space:" ",menu:"contextmenu",del:"delete",ins:"insert",plus:"+",minus:"-",star:"*",slash:"/",alpha:Array.from({length:26}).map(((t,e)=>String.fromCharCode(e+97))),digit:Array.from({length:10}).map(((t,e)=>e.toString()))},this.booleanAttributes_=new Array("allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"),this.appName_=t,this.reactiveState_=e,this.directiveRegex_=i||new RegExp(`^(data-)?${n||"x"}-(.+)$`),this.directiveNameBuilder_=o||((t,e=!1)=>e?`data-${n||"x"}-${t}`:`${n||"x"}-${t}`)}GetAppName(){return this.appName_}GetDirectiveRegex(){return this.directiveRegex_}GetDirectiveName(t,e){return this.directiveNameBuilder_(t,e)}AddKeyEventMap(t,e){this.keyMap_[t]=e}RemoveKeyEventMap(t){delete this.keyMap_[t]}MapKeyEvent(t){return t in this.keyMap_?this.keyMap_[t]:t}AddBooleanAttribute(t){this.booleanAttributes_.push(t)}RemoveBooleanAttribute(t){this.booleanAttributes_=this.booleanAttributes_.filter((e=>e!==t))}IsBooleanAttribute(t){return this.booleanAttributes_.includes(t)}SetReactiveState(t){this.reactiveState_=t}GetReactiveState(){return this.reactiveState_}}class Mt{Get(t,e){return fetch(t,e)}}class $t{constructor(t,e=0){this.nothing_=new s,this.componentsMonitorList_=new Array,this.components_={},this.currentComponent_=new i,this.attributeProcessors_=new Array,this.textContentProcessors_=new Array,this.managers_={directive:new vt,magic:new Ot},this.uniqueMarkers_={level0:0,level1:0,level2:0},this.mutationObserver_=new wt,this.nativeFetch_=new Mt,this.fetchConcept_=null,this.concepts_={},this.config_=new Pt(t||{}),this.uniqueMarkers_.level0=e||0}SwapConfig(t){this.config_=t}GetConfig(){return this.config_}GenerateUniqueId(t,e){return st(this.uniqueMarkers_,"",t,e)}AddComponentMonitor(t){this.componentsMonitorList_.push(t)}RemoveComponentMonitor(t){this.componentsMonitorList_=this.componentsMonitorList_.filter((e=>e!==t))}CreateComponent(t){let e=this.InferComponentFrom(t);if(e)return e;let n=new It(this.GenerateUniqueId(),t);return this.components_[n.GetId()]=n,this.componentsMonitorList_.slice(0).forEach((t=>a((()=>t({action:"add",component:n})),"InlineJS.Global.CreateComponent"))),n}RemoveComponent(t){let e="string"==typeof t?t:t.GetId();if(this.components_.hasOwnProperty(e)){let t=this.components_[e];delete this.components_[e],this.componentsMonitorList_.slice(0).forEach((e=>a((()=>e({action:"remove",component:t})),"InlineJS.Global.RemoveComponent")))}}TraverseComponents(t){Object.values(this.components_).some((e=>!1===t(e)))}FindComponentById(t){return t&&t in this.components_?this.components_[t]:null}FindComponentByName(t){return t&&Object.values(this.components_).find((e=>e.GetName()===t))||null}FindComponentByRoot(t){return t&&Object.values(this.components_).find((e=>e.GetRoot()===t))||null}PushCurrentComponent(t){this.currentComponent_.Push(t)}PopCurrentComponent(){return this.currentComponent_.Pop()}PeekCurrentComponent(){return this.currentComponent_.Peek()}GetCurrentComponent(){return this.FindComponentById(this.PeekCurrentComponent()||"")}InferComponentFrom(t){return t&&Object.values(this.components_).find((e=>e.GetRoot()===t||e.GetRoot().contains(t)))||null}GetDirectiveManager(){return this.managers_.directive}GetMagicManager(){return this.managers_.magic}AddAttributeProcessor(t){this.attributeProcessors_.push(t)}DispatchAttributeProcessing(t){this.attributeProcessors_.forEach((e=>a((()=>e(t)),"InlineJS.Global.DispatchAttribute",t.contextElement)))}AddTextContentProcessor(t){this.textContentProcessors_.push(t)}DispatchTextContentProcessing(t){this.textContentProcessors_.forEach((e=>a((()=>e(t)),"InlineJS.Global.DispatchTextContent",t.contextElement)))}GetMutationObserver(){return this.mutationObserver_}SetFetchConcept(t){this.fetchConcept_=t}GetFetchConcept(){return this.fetchConcept_||this.nativeFetch_}SetConcept(t,e){this.concepts_[t]=e}RemoveConcept(t){delete this.concepts_[t]}GetConcept(t){return this.concepts_.hasOwnProperty(t)?this.concepts_[t]:null}CreateChildProxy(t,e,n){return new St(t,e,n)}CreateFuture(t){return new o(t)}IsFuture(t){return t instanceof o}CreateNothing(){return this.nothing_}IsNothing(t){return t instanceof s}}const Tt="__InlineJS_GLOBAL_KEY__";function Ft(t,e=0){return M(),globalThis[Tt]=new $t(t,e),(globalThis.InlineJS=globalThis.InlineJS||{}).global=globalThis[Tt],window.dispatchEvent(new CustomEvent(Dt)),globalThis[Tt]}function Rt(t,e=0){return Ht()||Ft(t,e)}const Dt="inlinejs.global.created";function Ht(){return globalThis[Tt]}function jt(){return Ht()?Promise.resolve():new Promise((t=>window.addEventListener(Dt,t)))}function Bt(t){return t=h(t),Ht().IsFuture(t)?Bt(t.Get()):!t&&!1!==t&&0!==t||Ht().IsNothing(t)?"":"boolean"==typeof t||"number"==typeof t||"string"==typeof t?t.toString():JSON.stringify(t)}function Nt({target:t,getter:e,setter:n,deleter:i,lookup:o,alert:r}){let a={get(t,n){var i;if("symbol"==typeof n||"string"==typeof n&&"prototype"===n)return Reflect.get(t,n);let o=e?e(n.toString(),t):t[n];return Ht().IsNothing(o)?Reflect.get(t,n):(!r||r.list&&!(n in r.list)||null===(i=$(r.componentId))||void 0===i||i.GetBackend().changes.AddGetAccess(`${r.id}.${n}`),o)},set:(t,e,i)=>"symbol"==typeof e||"string"==typeof e&&"prototype"===e?Reflect.set(t,e,i):n?!1!==n(e.toString(),i,t):!!t[e]||!0,deleteProperty:(t,e)=>"symbol"==typeof e||"string"==typeof e&&"prototype"===e?Reflect.deleteProperty(t,e):i?!1!==i(e.toString(),t):!!delete t[e]||!0,has:(t,e)=>!!Reflect.has(t,e)||(Array.isArray(o)?o.includes(e.toString()):o?o(e.toString(),t):e in t)};return new window.Proxy(t||{},a)}function Lt(t){return Nt(Jt({getter:e=>e&&e in t&&t[e]||null,lookup:[...Object.keys(t)]}))}function zt(){return!1}function qt(t){var{setter:e,deleter:n,lookup:i}=t,o=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["setter","deleter","lookup"]);return Object.assign(Object.assign({},o),{setter:e||zt,deleter:n||zt,lookup:i||zt})}function Jt(t){return qt(t)}function Ut(t,e,n){let i=null==e?void 0:e.FindElementScope(n),o=null==i?void 0:i.GetId();if(!o)return["",null,null];let r=globalThis.InlineJS_ProxyGlobal=globalThis.InlineJS_ProxyGlobal||{},a=r[t]=r[t]||{};return o in a?[o,a[o],a]:(null==i||i.AddUninitCallback((()=>delete a[o])),[o,null,a])}function Wt(t,e,n){if(!(t instanceof Promise))return e(t);n?t.then((t=>Wt(t,e,!0))):t.then(e)}const Qt="__InlineJS_Context__";let Kt={},Xt={};function Vt(t,e,n){if(Kt.hasOwnProperty(t))return Kt[t];if(Xt.hasOwnProperty(t))return null;try{let n=new Function(Qt,`\n            with (__InlineJS_Context__){\n                return (${t});\n            };\n        `).bind(e);return Kt[t]=n}catch(t){t instanceof SyntaxError||r(t,`InlineJs.Region<${n||"NIL"}>.GenerateValueReturningFunction`)}return null}function Zt(t,e,n){if(Xt.hasOwnProperty(t))return Xt[t];try{let n=new Function(Qt,`\n            with (__InlineJS_Context__){\n                ${t};\n            };\n        `).bind(e);return Xt[t]=n}catch(t){r(t,`InlineJs.Region<${n||"NIL"}>.GenerateVoidFunction`)}return null}function Yt(t,e,n,i=[]){var o;if("function"==typeof t){let r=$(n||""),a=null==r?void 0:r.FindProxy(null==r?void 0:r.GetBackend().changes.GetLastAccessContext()),l=t.apply((null===(o=a||(null==r?void 0:r.GetRootProxy()))||void 0===o?void 0:o.GetNative())||null,i||[]);return e?e(l):l}return e?e(t):t}function te({componentId:t,contextElement:e,expression:n,disableFunctionCall:i=!1,waitPromise:o="recursive"}){if(!(n=n.trim()))return t=>(t&&t(null),null);let a=(a,l,s,c,u=!0,p)=>{var h;let m=$(t),f=null==m?void 0:m.GetRootProxy().GetNative();if(!f||(null===(h=null==m?void 0:m.FindElementScope(e))||void 0===h?void 0:h.IsDestroyed()))return;let{context:v=null,changes:g=null}=(null==m?void 0:m.GetBackend())||{};null==v||v.Push(d.self,e),null==g||g.ResetLastAccessContext(),ct(t),Object.entries(c||{}).forEach((([t,e])=>null==v?void 0:v.Push(t,e)));try{let e=l(f);if(Ht().IsFuture(e)&&(e=e.Get()),!a)return i?e:Yt(e,a,t,s);let n=t=>{if(t&&"none"!==o)return Wt(t,a,"recursive"===o),p||"Loading data...";a(t)};i?n(e):Yt(e,n,t,s)}catch(e){if(u&&e instanceof SyntaxError)throw e;r(e,`InlineJs.Region<${t}>.RunFunction('${n}')`)}finally{Object.entries(c||{}).forEach((([t,e])=>null==v?void 0:v.Pop(t,e))),ut(),null==v||v.Pop(d.self)}},l=Vt(n,e,t),s=null;return l||(s=Zt(n,e,t)),(i,o=[],r,c)=>{if(!s&&l)try{return a(i,l,o||[],r||{},void 0,c)}catch(i){if(!(i instanceof SyntaxError))throw i;s=Zt(n,e,t)}return s?a(i,s,o||[],r||{},!1)||null:(i&&i(null),null)}}function ee(t){return te(t)}function ne(t,e){let n=(t,e)=>Wt(t,e,!0);return t instanceof l?new l(((i,o)=>{t.While((t=>{n(t,(t=>{n(e(t),(t=>i(t)))}))})),t.Final((t=>{n(t,(t=>{n(e(t),(t=>o(t)))}))}))})):t instanceof Promise?new Promise((i=>{n(t,(t=>{n(e(t),(t=>i(t)))}))})):e(t)}function ie(t,e,n){t instanceof l?t.While(e).Final(!1===n?()=>{}:n||e):e(t)}function oe({componentId:t,changes:e,callback:n,subscriptionsCallback:i,contextElement:o}){var a,l,s,c;e.PopAllGetAccessStorageSnapshots(!1),e.RestoreOptimizedGetAccessStorage();let{optimized:u,raw:d}=e.PopGetAccessStorage();if(0==((null===(a=u||d)||void 0===a?void 0:a.entries.length)||0))return i&&i({}),null;let p={},h=()=>{Object.keys(p).map((t=>$(t))).filter((t=>!!t)).forEach((t=>{let{changes:e}=t.GetBackend();p[t.GetId()].forEach((t=>e.Unsubscribe(t)))})),p={}},m=!1,f=()=>{m=!0},v=e=>{let i=$(t);if(!i||m)return void h();let{changes:o}=i.GetBackend();o.PushOrigin(v);try{n({changes:e||[],cancel:f})}catch(e){r(e,`InlineJS.Component<${t}>.SubscribeToChanges.OnChange`)}o.PopOrigin(),m&&h()},g={};return null===(l=u||d)||void 0===l||l.entries.forEach((t=>(g[t.path]=g[t.path]||{})[t.compnentId]=!0)),Object.entries(g).forEach((([t,e])=>{Object.keys(e).map((t=>$(t))).filter((t=>!!t)).forEach((e=>{(p[e.GetId()]=p[e.GetId()]||[]).push(e.GetBackend().changes.Subscribe(t,v))}))})),o&&(null===(c=null===(s=$(t))||void 0===s?void 0:s.FindElementScope(o))||void 0===c||c.AddUninitCallback((()=>{f(),h()}))),i&&i(p),h}function re({componentId:t,callback:e,contextElement:n,options:i,subscriptionsCallback:o}){var a;let l=()=>{let i=$(t);if(!i)return;let{changes:a}=i.GetBackend(),l=!1,s=n?i.FindElementScope(n):null,c=()=>{l=!0},u=null==s?void 0:s.GetElement();try{a.PushGetAccessStorage(),e({changes:[],cancel:c})}catch(e){r(e,`InlineJS.Component<${t}>.UseEffect`,u)}if(l)return a.PopAllGetAccessStorageSnapshots(!1),a.RestoreOptimizedGetAccessStorage(),void a.PopGetAccessStorage();oe({componentId:t,changes:a,callback:e,subscriptionsCallback:o,contextElement:u})};(null==i?void 0:i.nextTick)?null===(a=$(t))||void 0===a||a.GetBackend().changes.AddNextTickHandler(l):l()}function ae(t,e,n,i={}){var o;let r=null;if(r=t instanceof HTMLElement?(null===(o="string"==typeof n?$(n):n)||void 0===o?void 0:o.FindElementScope(t))||null:t,!r)return i;let a=r.GetLocal(e);return Ht().IsNothing(a)&&r.SetLocal(e,a=i),a}const le="__InlineJS_GLOBAL_COMPONENT_KEY__";function se(t){let e=globalThis[le];if(e||!1===t)return e.component;let n=document.createElement("template");return globalThis[le]={root:n,component:Ht().CreateComponent(n)},globalThis[le]}const ce=300,ue=0,de=0;function pe(t,e){if(!t||Ht().IsNothing(t)||t.allowed&&"both"!==t.allowed&&t.allowed!==(e?"reversed":"normal"))return null;let n=Ht().GetConcept("animation");return t.ease=t.ease||(null==n?void 0:n.GetEaseCollection().Find("default"))||null,t.actor=t.actor||(null==n?void 0:n.GetActorCollection().Find("default"))||null,t.duration=t.duration||ce,t.delay=t.delay||ue,t.repeats=t.repeats||de,t}function he({componentId:t,contextElement:e,target:n,callback:i,onAbort:o,reverse:r,allowRepeats:l}){var s,c,u,d;let p=pe((null===(c=null===(s=$(t))||void 0===s?void 0:s.FindElementScope(e))||void 0===c?void 0:c.GetData("transition"))||null,r||!1);if(!p||!p.actor||!p.ease||"number"!=typeof p.duration||p.duration<=0)return i(!1),null;let h=t=>{var e;return"function"==typeof(null==p?void 0:p.actor)?null==p?void 0:p.actor(t):p&&(null===(e=p.actor)||void 0===e?void 0:e.Handle(t))},m=t=>{var e;return"function"==typeof p.ease?p.ease(t):p&&(null===(e=p.ease)||void 0===e?void 0:e.Handle(t))||0},f=!1,v=()=>f=!0,g=0,_=t=>r?1-t:t,y=()=>{var i,r;return null===(r=null===(i=$(t))||void 0===i?void 0:i.FindElementScope(e))||void 0===r||r.RemoveUninitCallback(v),(n||e).dispatchEvent(new CustomEvent("transition.canceled")),o&&o(),!1};return null===(d=null===(u=$(t))||void 0===u?void 0:u.FindElementScope(e))||void 0===d||d.AddUninitCallback(v),k(p.duration,0,l?p.repeats:0,p.delay).While((({elapsed:t})=>{if(f)return y();0==g&&((n||e).style.transform="",(n||e).style.transformOrigin="50% 50%",(n||e).dispatchEvent(new CustomEvent("transition.enter"))),h({target:n||e,stage:0==g++?"start":"middle",fraction:m({duration:p.duration,elapsed:t,fraction:_(t/p.duration)})})})).Final((()=>{f?y():(h({target:n||e,stage:"end",fraction:m({duration:p.duration,elapsed:p.duration,fraction:_(1)})}),(n||e).dispatchEvent(new CustomEvent("transition.leave")),a((()=>i(!0))))})),v}function me({element:t,html:e,type:n="replace",component:i,processDirectives:o=!0,afterInsert:r,afterTransitionCallback:l,transitionScope:s}){let c="string"==typeof i?i:(null==i?void 0:i.GetId())||"",u=()=>{let i=document.createElement("template");i.innerHTML=e,"replace"===n||"append"===n?t.append(...Array.from(i.content.childNodes)):"prepend"===n&&t.prepend(...Array.from(i.content.childNodes)),r&&a(r,"InlineJS.InsertHtml",t);let u=$(c);o&&u&&Array.from(t.children).forEach((t=>W({component:u,element:t,options:{checkTemplate:!0,checkDocument:!0,ignoreChildren:!1}}))),l&&((s||t).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!0}})),he({componentId:c,contextElement:s||t,target:t,callback:()=>((s||t).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!0}})),l())}))};if("replace"===n){let e=t=>{let n=$(c),i=Ht();Array.from(t.children).forEach((t=>{var o;let r=null==n?void 0:n.FindElementScope(t);r||Q in t&&(r=null===(o=i.InferComponentFrom(t))||void 0===o?void 0:o.FindElementScope(t))?r.Destroy():e(t)}))},n=()=>{e(t),Array.from(t.childNodes).forEach((t=>t.remove())),u()};l?((s||t).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!1}})),he({componentId:c,contextElement:s||t,target:t,reverse:!0,callback:()=>((s||t).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!1}})),n())})):n()}else u()}class fe{constructor(t,e,n=!1){this.componentId_=t,this.callback_=e,this.initialized_=n,this.queued_=!1,this.setCallback_=null}Queue(t){var e;let n=()=>(this.setCallback_||t||this.callback_)&&(this.setCallback_||t||this.callback_)();!this.queued_&&this.initialized_?(this.queued_=!0,null===(e=$(this.componentId_))||void 0===e||e.GetBackend().changes.AddNextTickHandler((()=>{this.queued_=!1,n()}))):this.initialized_?this.setCallback_=t||null:(this.initialized_=!0,n())}}const ve=/\{\{\s*(.+?)\s*\}\}/g,ge=/\{\{.+?\}\}/;function _e(t){let e=t=>[...t.childNodes].reduce(((t,e)=>`${t}${3!=e.nodeType?n(e):e.textContent||""}`),""),n=t=>`${[...t.attributes].reduce(((t,e)=>`${t} ${e.name}="${e.value}"`),`<${t.tagName.toLowerCase()}`)+">"}${e(t)}</${t.tagName.toLowerCase()}>`;return e(t)}function ye({componentId:t,contextElement:e,text:n,handler:i}){var o;let r=ee({componentId:t,contextElement:e,expression:"let output = "+JSON.stringify(n).replace(ve,'"+($1)+"')+"; return output;"});null===(o=$(t))||void 0===o||o.CreateElementScope(e),re({componentId:t,contextElement:e,callback:()=>r(i)})}function be(t){var{text:e}=t,n=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["text"]);ge.test(e)&&ye(Object.assign({text:e},n))}function Ce({componentId:t,contextElement:e,text:n,handler:i}){if("string"==typeof n)return i&&be({componentId:t,contextElement:e,text:n,handler:i});if(!ge.test(e.textContent||""))return;let o=new Array,r=new Array;[...e.childNodes].forEach((n=>{if(3==n.nodeType&&n.textContent&&ge.test(n.textContent)){let i={text:n.textContent||"",evaluated:n.textContent||""};o.push(i),r.push((()=>ye({componentId:t,contextElement:e,text:i.text,handler:t=>{i.evaluated=t,(()=>{for(;e.firstChild;)e.firstChild.remove();let t=null;o.forEach((n=>{let i=n instanceof Element?n:document.createTextNode("string"==typeof n?n:n.evaluated);t?e.insertBefore(i,t):e.append(i),t=i}))})()}})))}else 3==n.nodeType?o.push(n.textContent||""):o.push(n)})),o.reverse(),r.forEach((t=>a(t,"InlineJS.Interpolate",e)))}function Ae({componentId:t,contextElement:e,name:n,value:i}){Ce({componentId:t,contextElement:e,text:i,handler:t=>e.setAttribute(n,t)})}function Ee({componentId:t,contextElement:e}){Ce({componentId:t,contextElement:e})}function xe(t){let e=Ht(),n=e.GetConfig();[n.GetDirectiveName("data",!0),n.GetDirectiveName("data",!1)].forEach((n=>{(t||document).querySelectorAll(`[${n}]`).forEach((t=>{t.hasAttribute(n)&&document.contains(t)&&W({component:e.CreateComponent(t),element:t,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})}))}))}function ke(t){Rt(),setTimeout((()=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>{xe(t)})):xe(t)}),0)}function Ge(t,e){let n="",i=null;if("function"==typeof t){let e=t();e?({name:n,callback:i}=e):(n=t("name"),i=t("callback"))}else v(t)?({name:n,callback:i}=t):Ht().GetDirectiveManager().AddHandler(t);n&&i&&(e?Ht().GetDirectiveManager().AddHandlerExtension(e,i,n):Ht().GetDirectiveManager().AddHandler(i,n))}function Ie(t,e){return{name:t,callback:e}}function Oe(t,e,n,i,o){let r=Ht().GetConfig().GetDirectiveName("on"),a=(o||[]).join("."),l=J(a?`${r}:${n}.${a}`:`${r}:${n}`,i||"");return!!l&&H(t,e,l)}const we=["bind","event","on"];function Se({component:t,contextElement:e,key:n,event:i,expression:o,options:r,defaultEvent:a,eventWhitelist:l=[],optionBlacklist:s}){let c=()=>s?null==r?void 0:r.filter((t=>!s.includes(t))):r,u=t=>n?`${n}-${t}.join`:t;return l.includes(i)?Oe(t,e,u(i),o,c()):!(!a||i!==a&&!we.includes(i))&&Oe(t,e,u(a),o,c())}function Pe(t,e,n){let i=Ht().GetConfig().GetDirectiveName(e,!1),o=Ht().GetConfig().GetDirectiveName(e,!0);return t.getAttribute(i)||t.getAttribute(o)||n&&t.getAttribute(n)||null}function Me({componentId:t,contextElement:e,key:n,expression:i,callback:o,arrayCallback:r,useEffect:a=!0}){let l=0,s=ee({componentId:t,contextElement:e,expression:i}),c=(t,e)=>{ne(t,(t=>{e==l&&(n?o([n,t]):v(t)?Object.entries(t).forEach(o):r&&("string"==typeof t||Array.isArray(t))&&r("string"==typeof t?t.trim().split(" ").filter((t=>!!t)):t))}))};a?re({componentId:t,contextElement:e,callback:()=>s((t=>c(t,++l)))}):s((t=>c(t,l)))}const $e=Array.from(Array(100).keys()).map((t=>t/100));function Te(t){let e={root:null,rootMargin:"0px",threshold:0};return v(t)&&Object.entries(e).forEach((([n,i])=>e[n]=n in t&&t[n]||i)),t.spread&&(e.threshold=$e),e}class Fe{constructor(t,e){this.id_=t,this.observer_=null,this.handlers_=new Array;let n=this.id_;this.observer_=new globalThis.IntersectionObserver(((t,e)=>{t.forEach((t=>{this.handlers_.filter((({target:e})=>e===t.target)).forEach((i=>{a((()=>i.handler({entry:t,id:n,observer:e})),"InlineJS.IntersectionObserver")}))}))}),Te(e))}GetId(){return this.id_}GetNative(){return this.observer_}Observe(t,e){var n;this.handlers_.push({target:t,handler:e}),null===(n=this.observer_)||void 0===n||n.observe(t)}Unobserve(t){var e;this.handlers_=this.handlers_.filter((e=>e.target===t)),null===(e=this.observer_)||void 0===e||e.unobserve(t)}}function Re(t,e=0){return t&&t.match(/^[0-9]+(s|ms)?$/)?-1==t.indexOf("m")&&-1!=t.indexOf("s")?1e3*parseInt(t):parseInt(t):e}function De({options:t,list:e,defaultNumber:n,callback:i,unknownCallback:o}){let r=Array.isArray(t)?t:[t],a=t=>("number"==typeof n?n:n&&n(t))||0;return e.forEach(((n,l)=>{let s=r.find((t=>t&&n in t));if(!s)return o&&o({options:t,list:e,option:n,index:l});i&&!0===i({options:t,list:e,option:n,index:l})||("number"==typeof s[n]?l<e.length-1?s[n]=Re(e[l+1].trim(),a(n)):s[n]=a(n):"boolean"==typeof s[n]&&(s[n]=!0))})),t}function He({componentId:t,component:e,contextElement:n,expression:i,argOptions:o,callback:r,options:a,defaultOptionValue:l,useEffect:s}){let c=ee({componentId:t,contextElement:n,expression:i}),u=De({options:a||{lazy:!1,ancestor:-1,threshold:-1},list:o,defaultNumber:0===l?0:l||-1}),d=()=>c((t=>Wt(t,r))),p=()=>!1===s?d():re({componentId:t,contextElement:n,callback:d});if(u.lazy){let i=e||$(t),o={root:u.ancestor<0?null:null==i?void 0:i.FindAncestor(n,u.ancestor),threshold:u.threshold<0?0:u.threshold},r=i?new Fe(i.GenerateUniqueId("intob_"),o):null;r?(null==i||i.AddIntersectionObserver(r),r.Observe(n,(({id:e,entry:n}={})=>{var i;(null==n?void 0:n.isIntersecting)&&(null===(i=$(t))||void 0===i||i.RemoveIntersectionObserver(e),p())}))):p()}else p()}function je(t){let e,n="",i=null;if("function"==typeof t){let o=t();o?({name:n,callback:i,onAccess:e}=o):(n=t("name"),i=t("callback"),e=t("access"))}else v(t)?({name:n,callback:i,onAccess:e}=t):Ht().GetMagicManager().AddHandler(t);n&&i&&Ht().GetMagicManager().AddHandler(i,n,e)}function Be(t,e,n){return{name:t,callback:e,onAccess:n}}function Ne(t){return t.startsWith(":")?Ht().GetConfig().GetDirectiveName("bind")+t:null}function Le(t){return t.startsWith(".")?t.replace(".",Ht().GetConfig().GetDirectiveName("class:")):null}function ze(t){return t.startsWith("@")?t.replace("@",Ht().GetConfig().GetDirectiveName("on:")):null}function qe(t,e,n){console.log({message:t,context:e||"N/A",contextElement:n||"N/A"})}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=n(992),e=n(203),i=n(849),o=n(242),r=n(627),a=n(833),l=n(988);(0,t.WaitForGlobal)().then((()=>{let n=new e.AnimationConcept,s=n.GetEaseCollection(),c=n.GetActorCollection(),u=n.GetCreatorCollection(),d=t=>s.Add(t.callback,t.name),p=t=>c.Add(t.callback,t.name),h=(t,e)=>u.Add(t,e);d(e.BackAnimationEase),d(e.BackInAnimationEase),d(e.BackOutAnimationEase),d(e.BackInOutAnimationEase),d(e.BounceAnimationEase),d(e.BounceInAnimationEase),d(e.BounceOutAnimationEase),d(e.BounceInOutAnimationEase),d(e.CircleAnimationEase),d(e.CircleInAnimationEase),d(e.CircleOutAnimationEase),d(e.CircleInOutAnimationEase),d(e.CubicAnimationEase),d(e.CubicInAnimationEase),d(e.CubicOutAnimationEase),d(e.CubicInOutAnimationEase),d(e.ElasticAnimationEase),d(e.ElasticInAnimationEase),d(e.ElasticOutAnimationEase),d(e.ElasticInOutAnimationEase),d(e.ExponentialAnimationEase),d(e.ExponentialInAnimationEase),d(e.ExponentialOutAnimationEase),d(e.ExponentialInOutAnimationEase),d(e.QuadraticAnimationEase),d(e.QuadraticInAnimationEase),d(e.QuadraticOutAnimationEase),d(e.QuadraticInOutAnimationEase),d(e.QuartAnimationEase),d(e.QuartInAnimationEase),d(e.QuartOutAnimationEase),d(e.QuartInOutAnimationEase),d(e.QuintAnimationEase),d(e.QuintInAnimationEase),d(e.QuintOutAnimationEase),d(e.QuintInOutAnimationEase),d(e.SineAnimationEase),d(e.SineInAnimationEase),d(e.SineOutAnimationEase),d(e.SineInOutAnimationEase),d(e.DefaultAnimationEase),d(e.LinearAnimationEase),p(e.DefaultAnimationActor),p(e.NullAnimationActor),p(e.OpacityAnimationActor),p(e.WidthAnimationActor),p(e.HeightAnimationActor),p(e.ZoomAnimationActor),p(e.SlideDownAnimationActor),p(e.SlideLeftAnimationActor),p(e.SlideRightAnimationActor),p(e.SlideUpAnimationActor),p(e.SpinAnimationActor),p(e.FlipAnimationActor),p(e.TossAnimationActor),p(e.PulseAnimationActor),p(e.HeartbeatAnimationActor),h("bezier",e.BezierAnimationEaseCreator),h("scale",e.ScaleAnimationCreator),h("translate",e.TranslateAnimationCreator),h("rotate",e.RotateAnimationCreator),h("scene",e.SceneAnimationCreator),h("shake",e.ShakeAnimationCreator),h("vibrate",e.VibrateAnimationCreator),h("rubberband",e.RubberbandAnimationCreator),h("jello",e.JelloAnimationCreator),h("tada",e.TadaAnimationCreator),h("swing",e.SwingAnimationCreator),(0,t.GetGlobal)().SetConcept("animation",n),(0,e.TransitionDirectiveHandlerCompact)(),(0,e.AnimateDirectiveHandlerCompact)(),(0,e.AnimationMagicHandlerCompact)();const m=new i.CartCollectionConcept((0,t.GetGlobal)().CreateComponent(document.createElement("template"))),f=new i.FavoritesCollectionConcept((0,t.GetGlobal)().CreateComponent(document.createElement("template")));(0,t.GetGlobal)().SetConcept(m.GetName(),m),(0,t.GetGlobal)().SetConcept(f.GetName(),f),(0,i.CartDirectiveHandlerCompact)(),(0,i.FavoritesDirectiveHandlerCompact)(),(0,i.CartMagicHandlerCompact)(),(0,i.FavoritesMagicHandlerCompact)(),(0,t.GetGlobal)().SetConcept(o.MomentConceptName,new o.MomentConcept),(0,o.MomentDirectiveHandlerCompact)(),(0,o.MomentMagicHandlerCompact)(),(0,t.GetGlobal)().SetConcept(a.RouterConceptName,new a.RouterConcept),(0,a.RouterDirectiveHandlerCompact)(),(0,a.FetchRouterDirectiveExtensionCompact)(),(0,a.MountRouterDirectiveExtensionCompact)(),(0,a.LinkRouterDirectiveExtensionCompact)(),(0,a.PageRouterDirectiveExtensionCompact)(),(0,a.RouterMagicHandlerCompact)(),(0,t.GetGlobal)().SetConcept(l.ScreenConceptName,new l.ScreenConcept((0,t.GetGlobal)().CreateComponent(document.createElement("template")))),(0,l.ScreenMagicHandlerCompact)(),(0,r.AlertMagicHandlerCompact)()}))})()})();