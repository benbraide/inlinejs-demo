(()=>{"use strict";var e={992:(e,t,n)=>{n.r(t),n.d(t,{AddChanges:()=>Z,AddDirectiveExpansionRule:()=>L,AddDirectiveHandler:()=>xt,AddMagicHandler:()=>Rt,AddOutsideEventExcept:()=>ke,AddOutsideEventListener:()=>ye,ApplyDirectiveExpansionRules:()=>H,AreObjects:()=>_,AttributeInterpolator:()=>bt,AutoBootstrap:()=>kt,BaseComponent:()=>Ae,BaseGlobal:()=>Me,BeginsWith:()=>c,BindDirectiveExpansionRule:()=>Tt,BindEvent:()=>It,BootstrapAndAttach:()=>Ct,BuildGetterProxyOptions:()=>ze,BuildIntersectionOptions:()=>Ot,BuildProxyOptions:()=>Je,CallIfFunction:()=>Ye,Changes:()=>de,ChildProxy:()=>Pe,ClassDirectiveExpansionRule:()=>jt,Config:()=>we,Context:()=>he,ContextKeys:()=>d,CreateChildProxy:()=>X,CreateDirective:()=>z,CreateDirectiveExpansionRule:()=>j,CreateDirectiveHandlerCallback:()=>Et,CreateGlobal:()=>$e,CreateInplaceProxy:()=>Le,CreateLoop:()=>E,CreateMagicHandlerCallback:()=>Dt,CreateReadonlyProxy:()=>Be,DeepCopy:()=>g,DefaultTransitionDelay:()=>lt,DefaultTransitionDuration:()=>st,DefaultTransitionRepeats:()=>at,DeleteProxyProp:()=>Q,DirectiveManager:()=>fe,DisableProxyAction:()=>He,DispatchDirective:()=>D,ElementScope:()=>Ee,ElementScopeKey:()=>W,EndsWith:()=>b,EvaluateLater:()=>Qe,EvaluateMagicProperty:()=>Y,ExtractDuration:()=>Ft,FindComponentById:()=>M,FindComponentByName:()=>F,FindComponentByRoot:()=>$,FlattenDirective:()=>R,ForwardEvent:()=>Gt,Future:()=>r,GenerateFunctionFromString:()=>Ze,GenerateUniqueId:()=>le,GenerateValueReturningFunction:()=>Ke,GenerateVoidFunction:()=>Ve,GenericProxy:()=>ne,GetAttribute:()=>k,GetConfig:()=>T,GetDefaultUniqueMarkers:()=>re,GetDirectiveValue:()=>St,GetElementContent:()=>_t,GetElementScopeId:()=>K,GetGlobal:()=>De,GetLocal:()=>it,GetOrCreateGlobal:()=>Ne,GetProxyProp:()=>ee,GetTarget:()=>p,GetTargets:()=>m,GlobalCreatedEvent:()=>Re,IncrementUniqueMarkers:()=>oe,InferComponent:()=>V,InitComponentCache:()=>O,InitJITProxy:()=>Ue,InlineJSGlobalKey:()=>Fe,InsertHtml:()=>dt,Interpolate:()=>gt,IntersectionObserver:()=>Mt,IsEqual:()=>x,IsObject:()=>v,JoinPath:()=>S,JoinUniqueMarkers:()=>se,JournalError:()=>o,JournalLog:()=>Bt,JournalTry:()=>s,JournalWarn:()=>N,LazyCheck:()=>Nt,Loop:()=>l,MagicManager:()=>Ie,MutationObserver:()=>Se,NativeFetchConcept:()=>Oe,NextTick:()=>ht,Nothing:()=>a,OnDirectiveExpansionRule:()=>Lt,PathToRelative:()=>A,PeekCurrentComponent:()=>ue,PeekCurrentScope:()=>ge,PopCurrentComponent:()=>ce,PopCurrentScope:()=>_e,ProcessDirectives:()=>q,ProxyKeys:()=>h,PushCurrentComponent:()=>ae,PushCurrentScope:()=>ve,QueryGlobalComponent:()=>ot,RemoveDirectiveExpansionRule:()=>B,RemoveOutsideEventListener:()=>Ce,ResolveKeyValue:()=>Pt,ResolveOptions:()=>$t,ResolveTransition:()=>ct,RootProxy:()=>ie,Scope:()=>Ge,SetAttributeUtil:()=>P,SetProxyProp:()=>te,SplitPath:()=>I,Stack:()=>i,StreamData:()=>Xe,SubscribeToChanges:()=>tt,SupportsAttributes:()=>y,TextContentInterpolator:()=>yt,TidyPath:()=>G,ToCamelCase:()=>u,ToString:()=>je,TraverseDirectives:()=>U,UnbindOutsideEvent:()=>xe,UseEffect:()=>nt,WaitForGlobal:()=>Te,WaitPromise:()=>qe,WaitTransition:()=>ut,WaitWhile:()=>et});class i{constructor(e){this.list_=new Array,e&&(this.list_=e.list_.map((e=>e)))}Push(e){this.list_.push(e)}Pop(){return 0==this.list_.length?null:this.list_.pop()}Peek(){return 0==this.list_.length?null:this.list_[this.list_.length-1]}IsEmpty(){return 0==this.list_.length}}class r{constructor(e){this.callback_=e}Get(){return this.callback_()}}function o(e,t,n){console.error({message:e,context:t||"N/A",contextElement:n||"N/A"})}function s(e,t,n){try{return e()}catch(e){o(e,t,n)}}class l{constructor(e){this.whileCallbacks_=new Array,this.finalCallbacks_=new Array,e((e=>{this.whileCallbacks_.slice(0).forEach(((t,n)=>{!1===s((()=>t(e)),"InlineJS.Loop.While")&&this.whileCallbacks_.splice(n,1)}))}),(e=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0).forEach((t=>s((()=>t(e)),"InlineJS.Loop.Final")))}),(()=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0)}))}While(e){return this.whileCallbacks_.push(e),this}Final(e){return this.finalCallbacks_.push(e),this}}class a{}function c(e,t=!1){return new RegExp(`^${e}`,t?"i":void 0)}function u(e,t,n){let[i="",...r]=e.trim().split(n||"-"),o=e=>e.charAt(0).toUpperCase()+e.substring(1);return i&&(t?o(i):i)+(r||[]).map((e=>o(e))).join("")}const d={self:"self",event:"event",scope:"scope"},h={componentId:"__InlineJS_CompnentId__",name:"__InlineJS_Name__",path:"__InlineJS_Path__",parentPath:"__InlineJS_ParentPath__",target:"__InlineJS_Target__"};function p(e){return(Array.isArray(e)||e&&"object"==typeof e)&&h.target in e?p(e[h.target]):e}function m(e){return e.map((e=>p(e)))}function f(e){return(e=p(e))&&"object"==typeof e&&(h.target in e||"__proto__"in e&&"Object"===e.__proto__.constructor.name)}function v(e){return!!f(e)}function _(e){return-1==e.findIndex((e=>!f(e)))}function g(e){if(e=p(e),!Array.isArray(e)&&!v(e))return e;if(Array.isArray(e))return e.map((e=>g(e)));let t={};return Object.entries(e).forEach((([e,n])=>t[e]=g(n))),t}function b(e,t=!1){return new RegExp(`${e}$`,t?"i":void 0)}function y(e){return(e=p(e))&&"getAttribute"in e&&"setAttribute"in e}function C(e,t){return t&&y(e)?e.getAttribute(t):null}function k(e,t){for(let n of Array.isArray(t)?t:[t]){let t=C(e,n);if(t)return t}return null}function x(e,t,n=!0){let[i,r]=n?m([e,t]):[e,t];if(i===r)return!0;if(Array.isArray(i)&&Array.isArray(r))return i.length==r.length&&-1==i.findIndex(((e,t)=>!x(e,r[t],n)));if(_([i,r])){let e=Object.keys(i),t=Object.keys(r);return e.length==t.length&&-1==e.findIndex((e=>!t.includes(e)||!x(i[e],r[e],n)))}return i==r}function E(e,t=1e3,n=0,i=0){t=t||1;let r=e?Math.floor(e/t):-1,o=0,s=!1,a=-1,c=!1,u=(l,d,h,p)=>{if(c)return h();if(s)return p-a>=i&&(s=!1,a=-1,o=0),requestAnimationFrame(u.bind(null,l,d,h));if(-1==a)return a=p,requestAnimationFrame(u.bind(null,l,d,h));let m=Math.floor((p-a)/t);if(-1!=r&&m>=r){if(!n)return d({passes:r,elapsed:p-a,duration:e});l({passes:r,elapsed:p-a,duration:e,abort:()=>c=!0}),s=!0,a=p,n>0&&(n-=1)}else m!=o&&l({passes:o=m,elapsed:p-a,duration:e,abort:()=>c=!0});requestAnimationFrame(u.bind(null,l,d,h))};return new l(((e,t,n)=>{requestAnimationFrame(u.bind(null,e,t,n))}))}function G(e){return(e=e?e.trim():"")?e.replace(/[?][?&=\/]+/g,"?").replace(/[&][?&=\/]+/g,"&").replace(/[=][?=\/]+/g,"=").replace(/[\/][\/=]+/g,"/").replace(/[:]{2,}/g,":").replace(/[:][\/]([^\/])/g,"://$1").replace(/[\/?&=]+$/,"").replace(/^[\/?&=]+/,"").split(/[?&]/).reduce(((e,t,n)=>e?`${e}${n<2?"?":"&"}${t}`:t),""):""}function A(e,t,n){return(e=G(e))===t?(e=n&&n||"/").startsWith("/")?e:`/${e}`:(e.startsWith(`${t}/`)&&(e=e.substring(t.length)),/^[a-zA-Z0-9_]+:\/\//.test(e)?e:(n&&(e=e.startsWith("/")?`${n}${e}`:`${n}/${e}`),e.startsWith("/")?e:`/${e}`))}function I(e,t,n){let i=(e=t?A(e,t,n):e).indexOf("?");return{base:-1==i?e:e.substring(0,i),query:-1==i?"":e.substring(i+1)}}function S({base:e,query:t},n,i,r){let o=`${G(e)}?${t}`;return o=n?A(o,n,i):G(o),o=r?G(`${n}/${o}`):o.startsWith("/")||/^[a-zA-Z0-9_]+:\/\//.test(o)?o:`/${o}`,o}function P(e,t,n){t&&y(e)&&e.setAttribute(t,n)}const w="InlineJS_Comp_Cache";function O(){return globalThis[w]={id:"",component:null}}function M(e){let t=globalThis[w]=globalThis[w]||O();return e===t.id||(t.component=De().FindComponentById(e),t.id=t.component?e:""),t.component}function F(e){return De().FindComponentByName(e)}function $(e){return De().FindComponentByRoot(e)}function N(e,t,n){console.warn({message:e,context:t||"N/A",contextElement:n||"N/A"})}function R(e){return{originalView:e.meta.view.original,expandedView:e.meta.view.expanded,nameValue:e.meta.name.value,nameJoined:e.meta.name.joined,nameParts:e.meta.name.parts,argKey:e.meta.arg.key,argOptions:e.meta.arg.options,expression:e.value}}function D(e,t,n,i=0){let r="string"==typeof e?M(e):e;if(!r)return o(`Failed to find component for '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1;let l=null,a=r.FindElementScope(t);if(a&&(l=a.GetDirectiveManager().FindHandler(n.meta.name.joined),++i),l=l||De().GetDirectiveManager().FindHandler(n.meta.name.joined),!l){let e=`${n.meta.name.parts.reduce(((e,t)=>e?`${e}${t.substring(0,1).toUpperCase()}${t.substring(1)}`:t),"")}DirectiveHandler`;e in globalThis&&"function"==typeof globalThis[e]&&(l=globalThis[e])}return l?(0!=i||a||r.CreateElementScope(t),s((()=>{l(Object.assign(Object.assign({},R(n)),{componentId:r.GetId(),component:r,contextElement:t}))}),"InlineJS.DispatchDirective",t),!0):(N(`No handler found '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1)}function T(){return De().GetConfig()}function j(e,t){return n=>-1==n.search(e)?null:n.replace(e,t)}function L(e){return De().GetDirectiveManager().AddExpansionRule(e)}function B(e){De().GetDirectiveManager().RemoveExpansionRule(e)}function H(e){return De().GetDirectiveManager().Expand(e)}let J={};function z(e,t){if(!e||!(e=e.trim()))return null;if((t=t.trim())===e&&(t=""),e in J)return{meta:J[e],value:t};let n=H(e),i=n.match(T().GetDirectiveRegex());if(!i||3!=i.length||!i[2])return null;let r=i[2].indexOf(":"),o=-1==r?[i[2]]:[i[2].substring(0,r),i[2].substring(r+1)],s="",l="";o.length>1?[s,l]=o:[l]=o;let a=l.split("."),c="";s?c=a[0]:s=a[0],a.splice(0,1);let u=s.split("-"),d={view:{original:e,expanded:n},name:{value:s,joined:u.join("."),parts:u},arg:{key:c,options:a||[]}};return J[e]=d,{meta:d,value:t}}function U({element:e,callback:t,attributeCallback:n}){Array.from(e.attributes||[]).forEach((i=>{try{n&&n(i.name,i.value||"");let e=z(i.name,i.value||"");e&&t(e)}catch(t){o(t,"InlineJS.TraverseDirectives",e)}}))}function q({component:e,element:t,options:n={}}){var i;if(!function(e,{checkTemplate:t=!0,checkDocument:n=!0}){return 1===(null==e?void 0:e.nodeType)&&(!n||document.contains(e))&&(!t||e instanceof HTMLTemplateElement||!e.closest("template"))}(t,n))return;let r="string"==typeof e?M(e):e;if(!r)return o("Failed to find component.","InlineJS.ProcessDirectives",t),!1;let s=0;U({element:t,callback:n=>{D(e,t,n,s)&&(t.removeAttribute(n.meta.view.original),++s)},attributeCallback:(e,n)=>De().DispatchAttributeProcessing({name:e,value:n,componentId:r.GetId(),component:r,contextElement:t})}),De().DispatchTextContentProcessing({componentId:r.GetId(),component:r,contextElement:t}),n.ignoreChildren||t instanceof HTMLTemplateElement||(null==r||r.PushSelectionScope(),Array.from(t.children).forEach((t=>q({component:e,options:n,element:t}))),null==r||r.PopSelectionScope()),null===(i=null==r?void 0:r.CreateElementScope(t))||void 0===i||i.ExecutePostProcessCallbacks()}const W="__InlineJS_ELSCOPE_KEY__";function K(e){let t="";for(;e;){if(t=W in(n=e)&&n[W],t||e===document.body)return t||"";e=e.parentElement}var n;return""}function V(e){let t=K(e).match(/^Cmpnt\<([0-9_]+)\>/);return t?M(t[1]):null}function Y(e,t,n,i="",r=!0){let l="string"==typeof e?M(e):e;if(!l)return o(`Failed to find component for '$${n}'`,"InlineJS.EvaluateMagicProperty",t),De().CreateNothing();let a=De().GetMagicManager().FindHandler(i&&n.startsWith(i)?n.substring(i.length):n,{contextElement:t,componentId:l.GetId(),component:l});if(!a){if(r&&i&&n.startsWith(`${i}${i}`)){let e=l.GetId();return t=>{let r=V(t)||M(e);if(!r)return null;let o=r.FindElementScope(t),s=o&&o.GetLocal(n.substring(i.length));return o&&!De().IsNothing(s)?s:Y(r.GetId(),t,n,`${i}${i}`,!1)}}return De().CreateNothing()}return s((()=>a({componentId:l.GetId(),component:l,contextElement:t})),"InlineJS.EvaluateMagicProperty",t)}function Z(e,t,n,i,r=!0){if(!i)return;let o={componentId:i.GetComponentId(),type:e,path:t,prop:n,origin:i.PeekOrigin()};if(i.Add(o),!r)return;let s=t.split(".");for(;s.length>2;)s.pop(),i.Add({original:o,path:s.join(".")})}function Q(e,t,n,i){var r;if(!(i in t))return!1;let o=M(e);return null===(r=null==o?void 0:o.FindProxy(n))||void 0===r||r.RemoveChild(i),delete t[i],null==o||o.RemoveProxy(`${n}.${i}`),Z("delete",n,i,null==o?void 0:o.GetBackend().changes),!0}function X(e,t,n,i){if(!e)return null;let r=e.FindChild(t);if(r)return r;if(!Array.isArray(n)&&!v(n))return null;let o=De().CreateChildProxy(e,t,n);return i&&i.AddProxy(o),o}function ee(e,t,n,i,r){var o;if(i===h.target)return t;if(i===h.componentId)return e;if(i===h.name)return n.split(".").at(-1);if(i===h.path)return n;if(i===h.parentPath)return n.split(".").slice(0,-1).join(".")||"";let s=i in t;if(!s&&r){let t=r(M(e)||void 0,i);if(!De().IsNothing(t))return De().IsFuture(t)?t.Get():t}if(s&&!t.hasOwnProperty(i))return t[i];let l=s?t[i]:null;if(De().IsFuture(l))return l.Get();let a=M(e);return null==a||a.GetBackend().changes.AddGetAccess(`${n}.${i}`),(null===(o=X((null==a?void 0:a.FindProxy(n))||null,i,l,a||void 0))||void 0===o?void 0:o.GetNative())||l}function te(e,t,n,i,r){var o;if(i in t&&r===t[i])return!0;let s=M(e);return null===(o=null==s?void 0:s.FindProxy(n))||void 0===o||o.RemoveChild(i),t[i]=r,null==s||s.RemoveProxy(`${n}.${i}`),Z("set",`${n}.${i}`,i,null==s?void 0:s.GetBackend().changes),!0}class ne{constructor(e,t,n,i){this.componentId_=e,this.target_=t,this.name_=n,this.native_=null,this.children_={},this.parentPath_=(null==i?void 0:i.GetPath())||"",null==i||i.AddChild(this);let r=this.componentId_,o=this.GetPath(),s=(e,t)=>{let{context:n}=null==e?void 0:e.GetBackend(),i=null==t?void 0:t.startsWith("$");if(i){let e=n.Peek(t.substring(1),De().CreateNothing());if(!De().IsNothing(e))return e}let r=n.Peek(d.self),o=null==e?void 0:e.FindElementLocalValue(r||e.GetRoot(),t,!0);if(!De().IsNothing(o))return o;let s=i?Y(e,r,t,"$"):De().CreateNothing();return De().IsNothing(s)&&t&&t in globalThis&&(s=globalThis[t]),s},l=!this.parentPath_,a={get:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):ee(r,e,o,t.toString(),l?s:void 0),set:(e,t,n)=>"symbol"==typeof t||"prototype"===t?Reflect.set(e,t,n):te(r,e,o,t.toString(),n),deleteProperty:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):Q(r,e,o,t.toString()),has:(e,t)=>"symbol"!=typeof t||Reflect.has(e,t)};this.native_=new window.Proxy(this.target_,a)}IsRoot(){return!this.parentPath_}GetComponentId(){return this.componentId_}GetTarget(){return this.target_}GetNative(){return this.native_}GetName(){return this.name_}GetPath(){return this.parentPath_?`${this.parentPath_}.${this.name_}`:this.name_}GetParentPath(){return this.parentPath_}AddChild(e){this.children_[e.GetName()]=e}RemoveChild(e){delete this.children_["string"==typeof e?e:e.GetName()]}FindChild(e){return this.children_.hasOwnProperty(e)?this.children_[e]:null}}class ie extends ne{constructor(e,t){super(e,t,`Proxy<${e}>`)}}function re(){return{level0:0,level1:0,level2:0}}function oe(e,t="level0",n="level1"){e[t]==(Number.MAX_SAFE_INTEGER||9007199254740991)?("level0"===t?oe(e,"level1","level2"):++e[n],e[t]=0):++e[t]}function se(e){return`${e.level2}_${e.level1}_${e.level0}`}function le(e,t,n,i){return oe(e),`${t||""}${n||""}${se(e)}${i||""}`}function ae(e){De().PushCurrentComponent(e)}function ce(){return De().PopCurrentComponent()}function ue(){return De().PeekCurrentComponent()}class de{constructor(e){this.componentId_=e,this.nextTickHandlers_=new Array,this.isScheduled_=!1,this.list_=new Array,this.subscribers_={},this.lastAccessContext_="",this.getAccessStorages_=new i,this.origins_=new i}GetComponentId(){return this.componentId_}AddNextTickHandler(e){this.nextTickHandlers_.push(e)}Schedule(){this.isScheduled_||(this.isScheduled_=!0,queueMicrotask((()=>{this.isScheduled_=!1;let e=new Array;this.list_.splice(0).forEach((t=>{Object.values(this.subscribers_).filter((e=>e.path===t.path&&e.callback!==(e=>"original"in e?e.original.origin:e.origin)(t))).forEach((n=>((t,n)=>{let i=e.find((e=>e.callback===n));i?i.changes.push(t):e.push({callback:n,changes:new Array(t)})})(t,n.callback)))})),e.forEach((e=>e.callback(e.changes))),this.nextTickHandlers_.splice(0).forEach((e=>{try{e()}catch(e){o(e,`InlineJs.Region<${this.componentId_}>.NextTick`)}}))})))}Add(e){this.list_.push(e),this.Schedule()}AddComposed(e,t,n){let i={componentId:this.componentId_,type:"set",path:t?`${t}.${e}`:e,prop:e,origin:this.origins_.Peek()};n?this.Add({original:i,path:n}):this.Add(i)}GetLastChange(e=0){return g(this.list_.at(-(e+1))||null)}AddGetAccess(e){var t,n,i,r;let o=(null===(t=M(ue()||""))||void 0===t?void 0:t.GetBackend().changes)||this,s=e.lastIndexOf(".");this.lastAccessContext_=-1==s?"":e.substring(0,s);let l=o.getAccessStorages_.Peek();(null==l?void 0:l.details)&&(null===(n=l.details.raw)||void 0===n||n.entries.push({compnentId:this.componentId_,path:e}),l.details.optimized&&l.details.optimized.entries!==(null===(i=l.details.raw)||void 0===i?void 0:i.entries)&&0!=l.details.optimized.entries.length&&l.lastAccessPath&&l.lastAccessPath.length<e.length&&0==e.indexOf(`${l.lastAccessPath}.`)?l.details.optimized.entries.at(-1).path=e:l.details.optimized&&l.details.optimized.entries!==(null===(r=l.details.raw)||void 0===r?void 0:r.entries)&&l.details.optimized.entries.push({compnentId:this.componentId_,path:e}),l.lastAccessPath=e)}GetLastAccessContext(){return this.lastAccessContext_}ResetLastAccessContext(){this.lastAccessContext_=""}PushGetAccessStorage(e){var t;this.getAccessStorages_.Push({details:e||{optimized:"optimized"===(null===(t=M(this.componentId_))||void 0===t?void 0:t.GetReactiveState())?{entries:new Array,snapshots:new i}:void 0,raw:{entries:new Array,snapshots:new i}},lastAccessPath:""})}PopGetAccessStorage(){var e;return(null===(e=this.getAccessStorages_.Pop())||void 0===e?void 0:e.details)||null}SwapOptimizedGetAccessStorage(){let e=this.getAccessStorages_.Peek();(null==e?void 0:e.details.optimized)&&e.details.raw&&(e.details.optimized.entries=e.details.raw.entries)}RestoreOptimizedGetAccessStorage(){var e;let t=this.getAccessStorages_.Peek();(null==t?void 0:t.details.optimized)&&t.details.optimized.entries===(null===(e=t.details.raw)||void 0===e?void 0:e.entries)&&(t.details.optimized.entries=t.details.raw.entries.slice(0))}FlushRawGetAccessStorage(){var e,t;null===(t=null===(e=this.getAccessStorages_.Peek())||void 0===e?void 0:e.details.raw)||void 0===t||t.entries.splice(0)}PushGetAccessStorageSnapshot(){var e,t;let n=this.getAccessStorages_.Peek();null===(e=null==n?void 0:n.details.optimized)||void 0===e||e.snapshots.Push(n.details.optimized.entries.slice(0).map((e=>Object.assign({},e)))),null===(t=null==n?void 0:n.details.raw)||void 0===t||t.snapshots.Push(n.details.raw.entries.slice(0).map((e=>Object.assign({},e))))}PopGetAccessStorageSnapshot(e){var t,n,i,r;let o=this.getAccessStorages_.Peek(),s=null===(t=null==o?void 0:o.details.optimized)||void 0===t?void 0:t.snapshots.Pop();!e&&s&&(null===(n=null==o?void 0:o.details.optimized)||void 0===n?void 0:n.entries)&&(o.details.optimized.entries=s);let l=null===(i=null==o?void 0:o.details.raw)||void 0===i?void 0:i.snapshots.Pop();!e&&l&&(null===(r=null==o?void 0:o.details.raw)||void 0===r?void 0:r.entries)&&(o.details.raw.entries=l)}PopAllGetAccessStorageSnapshots(e){var t,n,i,r,o,s;let l=this.getAccessStorages_.Peek(),a=null===(t=null==l?void 0:l.details.optimized)||void 0===t?void 0:t.snapshots.Pop();for(;(null===(n=null==l?void 0:l.details.optimized)||void 0===n?void 0:n.snapshots)&&!l.details.optimized.snapshots.IsEmpty();)a=l.details.optimized.snapshots.Pop();!e&&a&&(null===(i=null==l?void 0:l.details.optimized)||void 0===i?void 0:i.entries)&&(l.details.optimized.entries=a);let c=null===(r=null==l?void 0:l.details.raw)||void 0===r?void 0:r.snapshots.Pop();for(;(null===(o=null==l?void 0:l.details.raw)||void 0===o?void 0:o.snapshots)&&!l.details.raw.snapshots.IsEmpty();)c=l.details.raw.snapshots.Pop();!e&&c&&(null===(s=null==l?void 0:l.details.raw)||void 0===s?void 0:s.entries)&&(l.details.raw.entries=c)}PushOrigin(e){this.origins_.Push(e)}PeekOrigin(){return this.origins_.Peek()}PopOrigin(){return this.origins_.Pop()}Subscribe(e,t){var n;let i=null===(n=M(this.componentId_))||void 0===n?void 0:n.GenerateUniqueId("sub_");return i&&(this.subscribers_[i]={path:e,callback:t}),i||""}Unsubscribe(e,t){"string"!=typeof e?Object.entries(this.subscribers_).filter((([n,i])=>e===i.callback&&(!t||t===i.path))).map((([e])=>e)).forEach((e=>{this.Unsubscribe_(e)})):e in this.subscribers_&&this.Unsubscribe_(e)}Unsubscribe_(e){delete this.subscribers_[e]}}class he{constructor(){this.record_={}}Push(e,t){(this.record_[e]=this.record_[e]||new i).Push(t)}Pop(e,t){return e in this.record_?this.record_[e].Pop():t||null}Peek(e,t){return e in this.record_?this.record_[e].Peek():t||null}Get(e){return e in this.record_?this.record_[e]:null}}function pe(e,t,n){let i="function"==typeof e?function(e){return{handler(t){var{argKey:n}=t,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["argKey"]);this.extensions.hasOwnProperty(n)?this.extensions[n](Object.assign({argKey:n},i)):e(Object.assign({argKey:n},i))},extensions:{}}}(e):e;return i.extensions[t]=n,i}function me(e,t){let n="",i=null;return"function"==typeof e?(n=t||"",i=e):(n=e.GetName(),i=t=>e.Handle(t)),{computedName:n,callback:i}}class fe{constructor(){this.expansionRules_={},this.handlers_={}}AddExpansionRule(e){let t=De().GenerateUniqueId("exrule_");return this.expansionRules_[t]=e,t}RemoveExpansionRule(e){e in this.expansionRules_&&delete this.expansionRules_[e]}Expand(e){if(!(e=e.trim()))return e;for(let t in this.expansionRules_){let n=this.expansionRules_[t](e);if(n)return n}return e}AddHandler(e,t){let{computedName:n,callback:i}=me(e,t);n&&i&&(this.handlers_[n]=i)}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e){if(!this.handlers_.hasOwnProperty(e))return null;let t=this.handlers_[e];return"function"==typeof t?t:t.handler.bind(t)}AddHandlerExtension(e,t,n){let i=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;if(!i)return;let{computedName:r,callback:o}=me(t,n);r&&o&&(this.handlers_[e]=pe(i,r,o))}RemoveHandlerExtension(e,t){let n=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;n&&function(e,t){"function"!=typeof e&&e.extensions.hasOwnProperty(t)&&delete e.extensions[t]}(n,t)}}function ve(e,t){var n;null===(n="string"==typeof e?M(e):e)||void 0===n||n.PushCurrentScope(t)}function _e(e){var t;return(null===(t="string"==typeof e?M(e):e)||void 0===t?void 0:t.PopCurrentScope())||null}function ge(e){var t;return(null===(t="string"==typeof e?M(e):e)||void 0===t?void 0:t.PeekCurrentScope())||null}function be(){return globalThis.InlineJS_OutsideEvent=globalThis.InlineJS_OutsideEvent||{targetScopes:new Array,eventCallbacks:{}}}function ye(e,t,n){let i=be(),r=i.targetScopes.find((t=>t.target===e));r||(r={target:e,listeners:{}},i.targetScopes.push(r)),(Array.isArray(t)?t:[t]).forEach((e=>{e in r.listeners||(r.listeners[e]={handlers:new Array,excepts:null}),r.listeners[e].handlers.push({callback:n,excepts:null}),e in i.eventCallbacks||(i.eventCallbacks[e]=e=>{i.targetScopes.forEach((t=>{e.type in t.listeners&&t.target!==e.target&&!t.target.contains(e.target)&&-1==(t.listeners[e.type].excepts||[]).findIndex((t=>t===e.target||t.contains(e.target)))&&t.listeners[e.type].handlers.filter((t=>-1==(t.excepts||[]).findIndex((t=>t===e.target||t.contains(e.target))))).forEach((t=>s((()=>t.callback(e)),"InlineJS.OutsideEventListener")))}))},window.addEventListener(e,i.eventCallbacks[e]))}))}function Ce(e,t,n){let i=be().targetScopes.find((t=>t.target===e));i&&(Array.isArray(t)?t:[t]).forEach((e=>{e in i.listeners&&(n?i.listeners[e].handlers=i.listeners[e].handlers.filter((e=>e.callback!==n)):delete i.listeners[e])}))}function ke(e,t,n){let i=be().targetScopes.find((t=>t.target===e));i&&Object.keys(t).forEach((e=>{if(e in i.listeners)if(n){let r=i.listeners[e].handlers.find((e=>e.callback===n));r&&(r.excepts=r.excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((e=>{r.excepts.push(e)})))}else i.listeners[e].excepts=i.listeners[e].excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((t=>{i.listeners[e].excepts.push(t)}))}))}function xe(e){be().targetScopes=be().targetScopes.filter((t=>t.target!==e&&e.contains(t.target)))}class Ee{constructor(e,t,n,i){this.componentId_=e,this.id_=t,this.element_=n,this.isRoot_=i,this.scopeId_="",this.key_="",this.locals_={},this.data_={},this.managers_={directive:null},this.callbacks_={post:new Array,uninit:new Array,treeChange:new Array,attributeChange:new Array},this.state_={isMarked:!1,isDestroyed:!1},this.scopeId_=ge(this.componentId_)||""}GetComponentId(){return this.componentId_}GetScopeId(){return this.scopeId_}GetId(){return this.id_}SetKey(e){this.key_=e}GetKey(){return this.key_}GetElement(){return this.element_}IsRoot(){return this.isRoot_}SetLocal(e,t){this.state_.isMarked||(this.locals_[e]=t)}DeleteLocal(e){delete this.locals_[e]}HasLocal(e){return e in this.locals_}GetLocal(e){return e in this.locals_?this.locals_[e]:De().CreateNothing()}GetLocals(){return this.locals_}SetData(e,t){this.state_.isMarked||(this.data_[e]=t)}GetData(e){return e in this.data_?this.data_[e]:De().CreateNothing()}AddPostProcessCallback(e){this.state_.isMarked||this.callbacks_.post.push(e)}ExecutePostProcessCallbacks(){(this.callbacks_.post||[]).forEach((e=>s(e,"ElementScope.ExecutePostProcessCallbacks")))}AddUninitCallback(e){this.state_.isMarked||this.callbacks_.uninit.push(e)}RemoveUninitCallback(e){this.callbacks_.uninit=this.callbacks_.uninit.filter((t=>t!==e))}AddTreeChangeCallback(e){this.callbacks_.treeChange.push(e)}RemoveTreeChangeCallback(e){this.callbacks_.treeChange=this.callbacks_.treeChange.filter((t=>t!==e))}ExecuteTreeChangeCallbacks(e,t){this.callbacks_.treeChange.forEach((n=>s((()=>n({added:e,removed:t})))))}AddAttributeChangeCallback(e,t){if(this.state_.isMarked)return;let n=this.callbacks_.attributeChange.find((t=>t.callback===e));n?n.whitelist.push(...t||[]):this.callbacks_.attributeChange.push({callback:e,whitelist:"string"==typeof t?[t]:t||[]})}RemoveAttributeChangeCallback(e,t){let n=this.callbacks_.attributeChange.findIndex((t=>t.callback===e));if(-1==n)return;let i="string"==typeof t?[t]:t||[];0!=i.length&&0!=this.callbacks_.attributeChange[n].whitelist.length?i.forEach((e=>{this.callbacks_.attributeChange[n].whitelist=this.callbacks_.attributeChange[n].whitelist.filter((t=>t!==e))})):this.callbacks_.attributeChange[n].whitelist.splice(0),0==this.callbacks_.attributeChange[n].whitelist.length&&this.callbacks_.attributeChange.splice(n,1)}ExecuteAttributeChangeCallbacks(e){(this.callbacks_.attributeChange||[]).filter((t=>0==(t.whitelist||[]).length||t.whitelist.includes(e))).forEach((t=>s((()=>t.callback(e)))))}Destroy(e){if(this.state_.isDestroyed)return;if(this.state_.isMarked=!0,!(this.element_ instanceof HTMLTemplateElement)&&"svg"!==this.element_.tagName.toLowerCase()){let t=M(this.componentId_);t&&this.DestroyChildren_(t,this.element_,e||!1)}if(e)return;this.callbacks_.uninit.splice(0).forEach((e=>{try{e()}catch(e){}})),this.callbacks_.post.splice(0),this.callbacks_.treeChange.splice(0),this.callbacks_.attributeChange.splice(0),this.data_={},this.locals_={},this.state_.isDestroyed=!0,xe(this.element_),De().GetMutationObserver().Unobserve(this.element_);let t=M(this.componentId_);if(null==t||t.RemoveElementScope(this.id_),delete this.element_[W],this.isRoot_){let e=this.componentId_;null==t||t.GetBackend().changes.AddNextTickHandler((()=>De().RemoveComponent(e)))}}IsMarked(){return this.state_.isMarked}IsDestroyed(){return this.state_.isDestroyed}GetDirectiveManager(){return this.managers_.directive=this.managers_.directive||new fe}DestroyChildren_(e,t,n){Array.from(t.children).forEach((t=>{let i=e.FindElementScope(t);i?i.Destroy(n):this.DestroyChildren_(e,t,n)}))}}class Ge{constructor(e,t,n){this.componentId_=e,this.id_=t,this.root_=n,this.name_=""}GetComponentId(){return this.componentId_}GetId(){return this.id_}SetName(e){this.name_=e}GetName(){return this.name_}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}}class Ae{constructor(e,t){this.id_=e,this.root_=t,this.reactiveState_="default",this.name_="",this.context_=new he,this.scopes_={},this.elementScopes_={},this.proxies_={},this.refs_={},this.currentScope_=new i,this.selectionScopes_=new i,this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observers_={intersections:{}},this.changes_=new de(this.id_),this.rootProxy_=new ie(this.id_,{}),this.proxies_[this.rootProxy_.GetPath()]=this.rootProxy_,this.CreateElementScope(this.root_),De().GetMutationObserver().Observe(this.root_,(({added:t,removed:n,attributes:i})=>{let r=M(e);if(!r)return;let o=new Array,s=De().GetConfig().GetDirectiveRegex();null==i||i.filter((e=>e.target instanceof HTMLElement)).forEach((e=>{var t;s.test(e.name)?e.target.hasAttribute(e.name)&&!o.includes(e.target)&&o.push(e.target):null===(t=null==r?void 0:r.FindElementScope(e.target))||void 0===t||t.ExecuteAttributeChangeCallbacks(e.name)})),o.forEach((e=>q({element:e,component:r,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})));let l=[...t||[]];null==t||t.filter((e=>!(null==n?void 0:n.includes(e)))).forEach((e=>{var t;if(e instanceof HTMLElement){q({component:r,element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}});for(let n=e.parentElement;n&&(null===(t=null==r?void 0:r.FindElementScope(n))||void 0===t||t.ExecuteTreeChangeCallbacks([e],[]),n!==this.root_);n=n.parentElement);}})),null==n||n.filter((e=>!l.includes(e))).forEach((e=>{var t;e instanceof HTMLElement&&(null===(t=r.FindElementScope(e))||void 0===t||t.Destroy())}))}),["add","remove","attribute"])}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return"default"===this.reactiveState_?T().GetReactiveState():this.reactiveState_}GetId(){return this.id_}GenerateUniqueId(e,t){return le(this.uniqueMarkers_,`Cmpnt<${this.id_}>.`,e,t)}SetName(e){this.name_=e}GetName(){return this.name_}CreateScope(e){let t=Object.values(this.scopes_).find((t=>t.GetRoot()===e));if(t)return t;if(e===this.root_||!this.root_.contains(e))return null;let n=new Ge(this.id_,this.GenerateUniqueId("scope_"),e);return this.scopes_[n.GetId()]=n,n}RemoveScope(e){let t="string"==typeof e?e:e.GetId();t in this.scopes_&&delete this.scopes_[t]}FindScopeById(e){return e in this.scopes_?this.scopes_[e]:null}FindScopeByName(e){return Object.values(this.scopes_).find((t=>t.GetName()===e))||null}FindScopeByRoot(e){return Object.values(this.scopes_).find((t=>t.GetRoot()===e))||null}PushCurrentScope(e){this.currentScope_.Push(e)}PopCurrentScope(){return this.currentScope_.Pop()}PeekCurrentScope(){return this.currentScope_.Peek()}InferScopeFrom(e){var t;return this.FindScopeById((null===(t=this.FindElementScope(K(e)))||void 0===t?void 0:t.GetScopeId())||"")||null}PushSelectionScope(){let e={set:!1};return this.selectionScopes_.Push(e),e}PopSelectionScope(){return this.selectionScopes_.Pop()}PeekSelectionScope(){return this.selectionScopes_.Peek()}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}CreateElementScope(e){let t=Object.values(this.elementScopes_).find((t=>t.GetElement()===e));if(t)return t;if(e!==this.root_&&!this.root_.contains(e))return null;let n=new Ee(this.id_,this.GenerateUniqueId("elscope_"),e,e===this.root_);return this.elementScopes_[n.GetId()]=n,e[W]=n.GetId(),n}RemoveElementScope(e){delete this.elementScopes_[e]}FindElementScope(e){if("string"==typeof e)return e in this.elementScopes_?this.elementScopes_[e]:null;let t=!0===e?this.context_.Peek(d.self):e instanceof Node?e:this.root_;return t&&W in t&&t[W]in this.elementScopes_?this.elementScopes_[t[W]]:null}FindElementLocalValue(e,t,n){let i=this.FindElementScope(e),r=i?i.GetLocal(t):De().CreateNothing();if(!De().IsNothing(r)||!n||!i&&"string"==typeof e)return r;let o=(null==i?void 0:i.GetElement())||(!0===e?this.context_.Peek(d.self):e instanceof Node?e:this.root_);if(!o)return r;let s=this.FindAncestor(o);return s?this.FindElementLocalValue(s,t,!0):r}AddProxy(e){this.proxies_[e.GetPath()]=e}RemoveProxy(e){let t="string"==typeof e?e:e.GetPath();t in this.proxies_&&delete this.proxies_[t]}GetRootProxy(){return this.rootProxy_}FindProxy(e){return e in this.proxies_?this.proxies_[e]:null}AddRefElement(e,t){this.refs_[e]=t}FindRefElement(e){return e in this.refs_?this.refs_[e]:null}AddIntersectionObserver(e){this.observers_.intersections[e.GetId()]=e}FindIntersectionObserver(e){return e in this.observers_.intersections?this.observers_.intersections[e]:null}RemoveIntersectionObserver(e){e in this.observers_.intersections&&delete this.observers_.intersections[e]}GetBackend(){return{context:this.context_,changes:this.changes_}}GetGlobal(){return De()}}class Ie{constructor(){this.handlers_={}}AddHandler(e,t,n){let i="",r=null;"function"==typeof e?(i=t||"",r=e):(i=e.GetName(),r=t=>e.Handle(t)),i&&r&&(this.handlers_[i]={callback:r,onAccess:n})}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e,t){return e in this.handlers_?(t&&this.handlers_[e].onAccess&&this.handlers_[e].onAccess(t),this.handlers_[e].callback):null}}class Se{constructor(){if(this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observer_=null,this.handlers_={},globalThis.MutationObserver)try{this.observer_=new globalThis.MutationObserver((e=>{let t={},n=e=>t[e]=t[e]||{added:new Array,removed:new Array,attributes:new Array};e.forEach((e=>{var t;let i=e.target instanceof HTMLElement?K((null===(t=V(e.target))||void 0===t?void 0:t.GetRoot())||null):"";if(i)if("childList"===(null==e?void 0:e.type)){let t=n(i);t.added.push(...Array.from(e.addedNodes)),t.removed.push(...Array.from(e.removedNodes))}else"attributes"===(null==e?void 0:e.type)&&e.attributeName&&n(i).attributes.push({name:e.attributeName,target:e.target})})),0!=Object.keys(t).length&&Object.entries(this.handlers_).forEach((([e,n])=>{let i=n.target instanceof HTMLElement?K(n.target):"";if(!i||!(i in t))return;let r=(e,t,n)=>!t.whitelist||t.whitelist.includes(e)?n:void 0,o=r("add",n,t[i].added),l=r("remove",n,t[i].removed),a=r("attribute",n,t[i].attributes);(o||l||a)&&s((()=>n.handler({id:e,added:o,removed:l,attributes:a})),"InlineJS.MutationObserver")}))})),this.observer_.observe(document,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}catch(e){this.observer_=null}}GetNative(){return this.observer_}Observe(e,t,n){let i=le(this.uniqueMarkers_);return this.handlers_[i]={target:e,handler:t,whitelist:n},i}Unobserve(e){"string"!=typeof e?Object.entries(this.handlers_).filter((([t,n])=>n.target===e)).forEach((([e])=>delete this.handlers_[e])):delete this.handlers_[e]}}class Pe extends ne{constructor(e,t,n){super(e.GetComponentId(),n,t,e)}}class we{constructor({appName:e="",reactiveState:t="unoptimized",directivePrefix:n="x",directiveRegex:i,directiveNameBuilder:r}={}){this.keyMap_={return:"enter",ctrl:"control",esc:"escape",space:" ",menu:"contextmenu",del:"delete",ins:"insert",plus:"+",minus:"-",star:"*",slash:"/",alpha:Array.from({length:26}).map(((e,t)=>String.fromCharCode(t+97))),digit:Array.from({length:10}).map(((e,t)=>t.toString()))},this.booleanAttributes_=new Array("allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"),this.appName_=e,this.reactiveState_=t,this.directiveRegex_=i||new RegExp(`^(data-)?${n||"x"}-(.+)$`),this.directiveNameBuilder_=r||((e,t=!1)=>t?`data-${n||"x"}-${e}`:`${n||"x"}-${e}`)}GetAppName(){return this.appName_}GetDirectiveRegex(){return this.directiveRegex_}GetDirectiveName(e,t){return this.directiveNameBuilder_(e,t)}AddKeyEventMap(e,t){this.keyMap_[e]=t}RemoveKeyEventMap(e){delete this.keyMap_[e]}MapKeyEvent(e){return e in this.keyMap_?this.keyMap_[e]:e}AddBooleanAttribute(e){this.booleanAttributes_.push(e)}RemoveBooleanAttribute(e){this.booleanAttributes_=this.booleanAttributes_.filter((t=>t!==e))}IsBooleanAttribute(e){return this.booleanAttributes_.includes(e)}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return this.reactiveState_}}class Oe{Get(e,t){return fetch(e,t)}}class Me{constructor(e,t=0){this.nothing_=new a,this.componentsMonitorList_=new Array,this.components_={},this.currentComponent_=new i,this.attributeProcessors_=new Array,this.textContentProcessors_=new Array,this.managers_={directive:new fe,magic:new Ie},this.uniqueMarkers_={level0:0,level1:0,level2:0},this.mutationObserver_=new Se,this.nativeFetch_=new Oe,this.fetchConcept_=null,this.concepts_={},this.config_=new we(e||{}),this.uniqueMarkers_.level0=t||0}SwapConfig(e){this.config_=e}GetConfig(){return this.config_}GenerateUniqueId(e,t){return le(this.uniqueMarkers_,"",e,t)}AddComponentMonitor(e){this.componentsMonitorList_.push(e)}RemoveComponentMonitor(e){this.componentsMonitorList_=this.componentsMonitorList_.filter((t=>t!==e))}CreateComponent(e){let t=this.InferComponentFrom(e);if(t)return t;let n=new Ae(this.GenerateUniqueId(),e);return this.components_[n.GetId()]=n,this.componentsMonitorList_.slice(0).forEach((e=>s((()=>e({action:"add",component:n})),"InlineJS.Global.CreateComponent"))),n}RemoveComponent(e){let t="string"==typeof e?e:e.GetId();if(this.components_.hasOwnProperty(t)){let e=this.components_[t];delete this.components_[t],this.componentsMonitorList_.slice(0).forEach((t=>s((()=>t({action:"remove",component:e})),"InlineJS.Global.RemoveComponent")))}}TraverseComponents(e){Object.values(this.components_).some((t=>!1===e(t)))}FindComponentById(e){return e&&e in this.components_?this.components_[e]:null}FindComponentByName(e){return e&&Object.values(this.components_).find((t=>t.GetName()===e))||null}FindComponentByRoot(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e))||null}PushCurrentComponent(e){this.currentComponent_.Push(e)}PopCurrentComponent(){return this.currentComponent_.Pop()}PeekCurrentComponent(){return this.currentComponent_.Peek()}GetCurrentComponent(){return this.FindComponentById(this.PeekCurrentComponent()||"")}InferComponentFrom(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e||t.GetRoot().contains(e)))||null}GetDirectiveManager(){return this.managers_.directive}GetMagicManager(){return this.managers_.magic}AddAttributeProcessor(e){this.attributeProcessors_.push(e)}DispatchAttributeProcessing(e){this.attributeProcessors_.forEach((t=>s((()=>t(e)),"InlineJS.Global.DispatchAttribute",e.contextElement)))}AddTextContentProcessor(e){this.textContentProcessors_.push(e)}DispatchTextContentProcessing(e){this.textContentProcessors_.forEach((t=>s((()=>t(e)),"InlineJS.Global.DispatchTextContent",e.contextElement)))}GetMutationObserver(){return this.mutationObserver_}SetFetchConcept(e){this.fetchConcept_=e}GetFetchConcept(){return this.fetchConcept_||this.nativeFetch_}SetConcept(e,t){this.concepts_[e]=t}RemoveConcept(e){delete this.concepts_[e]}GetConcept(e){return this.concepts_.hasOwnProperty(e)?this.concepts_[e]:null}CreateChildProxy(e,t,n){return new Pe(e,t,n)}CreateFuture(e){return new r(e)}IsFuture(e){return e instanceof r}CreateNothing(){return this.nothing_}IsNothing(e){return e instanceof a}}const Fe="__InlineJS_GLOBAL_KEY__";function $e(e,t=0){return O(),globalThis[Fe]=new Me(e,t),window.dispatchEvent(new CustomEvent(Re)),globalThis[Fe]}function Ne(e,t=0){return De()||$e(e,t)}const Re="inlinejs.global.created";function De(){return globalThis[Fe]}function Te(){return De()?Promise.resolve():new Promise((e=>window.addEventListener(Re,e)))}function je(e){return e=p(e),De().IsFuture(e)?je(e.Get()):!e&&!1!==e&&0!==e||De().IsNothing(e)?"":"boolean"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():JSON.stringify(e)}function Le({target:e,getter:t,setter:n,deleter:i,lookup:r,alert:o}){let s={get(e,n){var i;if("symbol"==typeof n||"string"==typeof n&&"prototype"===n)return Reflect.get(e,n);let r=t?t(n.toString(),e):e[n];return De().IsNothing(r)?Reflect.get(e,n):(!o||o.list&&!(n in o.list)||null===(i=M(o.componentId))||void 0===i||i.GetBackend().changes.AddGetAccess(`${o.id}.${n}`),r)},set:(e,t,i)=>"symbol"==typeof t||"string"==typeof t&&"prototype"===t?Reflect.set(e,t,i):n?n(t.toString(),i,e):!!e[t]||!0,deleteProperty:(e,t)=>"symbol"==typeof t||"string"==typeof t&&"prototype"===t?Reflect.deleteProperty(e,t):i?i(t.toString(),e):!!delete e[t]||!0,has:(e,t)=>!!Reflect.has(e,t)||(Array.isArray(r)?r.includes(t.toString()):r?r(t.toString(),e):t in e)};return new window.Proxy(e||{},s)}function Be(e){return Le(ze({getter:t=>t&&t in e&&e[t]||null,lookup:[...Object.keys(e)]}))}function He(){return!1}function Je(e){var{setter:t,deleter:n,lookup:i}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["setter","deleter","lookup"]);return Object.assign(Object.assign({},r),{setter:t||He,deleter:n||He,lookup:i||He})}function ze(e){return Je(e)}function Ue(e,t,n){let i=null==t?void 0:t.FindElementScope(n),r=null==i?void 0:i.GetId();if(!r)return["",null,null];let o=globalThis.InlineJS_ProxyGlobal=globalThis.InlineJS_ProxyGlobal||{},s=o[e]=o[e]||{};return r in s?[r,s[r],s]:(null==i||i.AddUninitCallback((()=>delete s[r])),[r,null,s])}function qe(e,t,n){if(!(e instanceof Promise))return t(e);n?e.then((e=>qe(e,t,!0))):e.then(t)}const We="__InlineJS_Context__";function Ke(e,t,n){try{return new Function(We,`\n            with (__InlineJS_Context__){\n                return (${e});\n            };\n        `).bind(t)}catch(e){e instanceof SyntaxError||o(e,`InlineJs.Region<${n||"NIL"}>.GenerateValueReturningFunction`)}return null}function Ve(e,t,n){try{return new Function(We,`\n            with (__InlineJS_Context__){\n                ${e};\n            };\n        `).bind(t)}catch(e){o(e,`InlineJs.Region<${n||"NIL"}>.GenerateVoidFunction`)}return null}function Ye(e,t,n,i=[]){var r;if("function"==typeof e){let o=M(n||""),s=null==o?void 0:o.FindProxy(null==o?void 0:o.GetBackend().changes.GetLastAccessContext()),l=e.apply((null===(r=s||(null==o?void 0:o.GetRootProxy()))||void 0===r?void 0:r.GetNative())||null,i||[]);return t?t(l):l}return t?t(e):e}function Ze({componentId:e,contextElement:t,expression:n,disableFunctionCall:i=!1,waitPromise:r="recursive"}){if(!(n=n.trim()))return(e,t=[],n)=>e?e(null):null;let s=(s,l,a,c,u=!0)=>{var h;let p=M(e),m=null==p?void 0:p.GetRootProxy().GetNative();if(!m||(null===(h=null==p?void 0:p.FindElementScope(t))||void 0===h?void 0:h.IsDestroyed()))return;let{context:f=null,changes:v=null}=(null==p?void 0:p.GetBackend())||{};null==f||f.Push(d.self,t),null==v||v.ResetLastAccessContext(),ae(e),Object.entries(c||{}).forEach((([e,t])=>null==f?void 0:f.Push(e,t)));try{let t=l(m);if(De().IsFuture(t)&&(t=t.Get()),!s)return i?t:Ye(t,s,e,a);let n=e=>{"none"!==r?qe(e,s,"recursive"===r):s(e)};i?n(t):Ye(t,n,e,a)}catch(t){if(u&&t instanceof SyntaxError)throw t;o(t,`InlineJs.Region<${e}>.RunFunction('${n}')`)}finally{Object.entries(c||{}).forEach((([e,t])=>null==f?void 0:f.Pop(e,t))),ce(),null==f||f.Pop(d.self)}},l=Ke(n,t,e),a=null;return l||(a=Ve(n,t,e)),(i,r=[],o)=>{if(!a&&l)try{return s(i,l,r||[],o||{})}catch(i){if(!(i instanceof SyntaxError))throw i;a=Ve(n,t,e)}return a?s(i,a,r||[],o||{},!1)||null:i?i(null):null}}function Qe(e){return Ze(e)}function Xe(e,t){let n=(e,t)=>qe(e,t,!0);return e instanceof l?new l(((i,r)=>{e.While((e=>{n(e,(e=>{n(t(e),(e=>i(e)))}))})),e.Final((e=>{n(e,(e=>{n(t(e),(e=>r(e)))}))}))})):e instanceof Promise?new Promise((i=>{n(e,(e=>{n(t(e),(e=>i(e)))}))})):t(e)}function et(e,t,n){e instanceof l?e.While(t).Final(!1===n?()=>{}:n||t):t(e)}function tt({componentId:e,changes:t,callback:n,subscriptionsCallback:i,contextElement:r}){var s,l,a,c;t.PopAllGetAccessStorageSnapshots(!1),t.RestoreOptimizedGetAccessStorage();let{optimized:u,raw:d}=t.PopGetAccessStorage();if(0==((null===(s=u||d)||void 0===s?void 0:s.entries.length)||0))return i&&i({}),null;let h={},p=()=>{Object.keys(h).map((e=>M(e))).filter((e=>!!e)).forEach((e=>{let{changes:t}=e.GetBackend();h[e.GetId()].forEach((e=>t.Unsubscribe(e)))})),h={}},m=!1,f=()=>{m=!0},v=t=>{let i=M(e);if(!i||m)return void p();let{changes:r}=i.GetBackend();r.PushOrigin(v);try{n({changes:t||[],cancel:f})}catch(t){o(t,`InlineJS.Component<${e}>.SubscribeToChanges.OnChange`)}r.PopOrigin(),m&&p()},_={};return null===(l=u||d)||void 0===l||l.entries.forEach((e=>(_[e.path]=_[e.path]||{})[e.compnentId]=!0)),Object.entries(_).forEach((([e,t])=>{Object.keys(t).map((e=>M(e))).filter((e=>!!e)).forEach((t=>{(h[t.GetId()]=h[t.GetId()]||[]).push(t.GetBackend().changes.Subscribe(e,v))}))})),r&&(null===(c=null===(a=M(e))||void 0===a?void 0:a.FindElementScope(r))||void 0===c||c.AddUninitCallback((()=>{f(),p()}))),i&&i(h),p}function nt({componentId:e,callback:t,contextElement:n,options:i,subscriptionsCallback:r}){var s;let l=()=>{let i=M(e);if(!i)return;let{changes:s}=i.GetBackend(),l=!1,a=n?i.FindElementScope(n):null,c=()=>{l=!0},u=null==a?void 0:a.GetElement();try{s.PushGetAccessStorage(),t({changes:[],cancel:c})}catch(t){o(t,`InlineJS.Component<${e}>.UseEffect`,u)}if(l)return s.PopAllGetAccessStorageSnapshots(!1),s.RestoreOptimizedGetAccessStorage(),void s.PopGetAccessStorage();tt({componentId:e,changes:s,callback:t,subscriptionsCallback:r,contextElement:u})};(null==i?void 0:i.nextTick)?null===(s=M(e))||void 0===s||s.GetBackend().changes.AddNextTickHandler(l):l()}function it(e,t,n,i={}){var r;let o=null;if(o=e instanceof HTMLElement?(null===(r="string"==typeof n?M(n):n)||void 0===r?void 0:r.FindElementScope(e))||null:e,!o)return i;let s=o.GetLocal(t);return De().IsNothing(s)&&o.SetLocal(t,s=i),s}const rt="__InlineJS_GLOBAL_COMPONENT_KEY__";function ot(e){let t=globalThis[rt];if(t||!1===e)return t.component;let n=document.createElement("template");return globalThis[rt]={root:n,component:De().CreateComponent(n)},globalThis[rt]}const st=300,lt=0,at=0;function ct(e,t){if(!e||De().IsNothing(e)||e.allowed&&"both"!==e.allowed&&e.allowed!==(t?"reversed":"normal"))return null;let n=De().GetConcept("animation");return e.ease=e.ease||(null==n?void 0:n.GetEaseCollection().Find("default"))||null,e.actor=e.actor||(null==n?void 0:n.GetActorCollection().Find("default"))||null,e.duration=e.duration||st,e.delay=e.delay||lt,e.repeats=e.repeats||at,e}function ut({componentId:e,contextElement:t,target:n,callback:i,onAbort:r,reverse:o,allowRepeats:l}){var a,c,u,d;let h=ct((null===(c=null===(a=M(e))||void 0===a?void 0:a.FindElementScope(t))||void 0===c?void 0:c.GetData("transition"))||null,o||!1);if(!h||!h.actor||!h.ease||"number"!=typeof h.duration||h.duration<=0)return i(!1),null;let p=e=>{var t;return"function"==typeof(null==h?void 0:h.actor)?null==h?void 0:h.actor(e):h&&(null===(t=h.actor)||void 0===t?void 0:t.Handle(e))},m=e=>{var t;return"function"==typeof h.ease?h.ease(e):h&&(null===(t=h.ease)||void 0===t?void 0:t.Handle(e))||0},f=!1,v=()=>f=!0,_=0,g=e=>o?1-e:e,b=()=>{var i,o;return null===(o=null===(i=M(e))||void 0===i?void 0:i.FindElementScope(t))||void 0===o||o.RemoveUninitCallback(v),(n||t).dispatchEvent(new CustomEvent("transition.canceled")),r&&r(),!1};return null===(d=null===(u=M(e))||void 0===u?void 0:u.FindElementScope(t))||void 0===d||d.AddUninitCallback(v),E(h.duration,0,l?h.repeats:0,h.delay).While((({elapsed:e})=>{if(f)return b();0==_&&((n||t).style.transform="",(n||t).style.transformOrigin="50% 50%",(n||t).dispatchEvent(new CustomEvent("transition.enter"))),p({target:n||t,stage:0==_++?"start":"middle",fraction:m({duration:h.duration,elapsed:e,fraction:g(e/h.duration)})})})).Final((()=>{f?b():(p({target:n||t,stage:"end",fraction:m({duration:h.duration,elapsed:h.duration,fraction:g(1)})}),(n||t).dispatchEvent(new CustomEvent("transition.leave")),s((()=>i(!0))))})),v}function dt({element:e,html:t,type:n="replace",component:i,processDirectives:r=!0,afterInsert:o,afterTransitionCallback:l,transitionScope:a}){let c="string"==typeof i?i:(null==i?void 0:i.GetId())||"",u=()=>{let i=document.createElement("template");i.innerHTML=t,"replace"===n||"append"===n?e.append(...Array.from(i.content.childNodes)):"prepend"===n&&e.prepend(...Array.from(i.content.childNodes)),o&&s(o,"InlineJS.InsertHtml",e);let u=M(c);r&&u&&Array.from(e.children).forEach((e=>q({component:u,element:e,options:{checkTemplate:!0,checkDocument:!0,ignoreChildren:!1}}))),l&&((a||e).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!0}})),ut({componentId:c,contextElement:a||e,target:e,callback:()=>((a||e).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!0}})),l())}))};if("replace"===n){let t=e=>{let n=M(c);Array.from(e.children).forEach((e=>{let i=null==n?void 0:n.FindElementScope(e);i?i.Destroy():t(e)}))},n=()=>{t(e),Array.from(e.childNodes).forEach((e=>e.remove())),u()};l?((a||e).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!1}})),ut({componentId:c,contextElement:a||e,target:e,reverse:!0,callback:()=>((a||e).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!1}})),n())})):n()}else u()}class ht{constructor(e,t,n=!1){this.componentId_=e,this.callback_=t,this.initialized_=n,this.queued_=!1,this.setCallback_=null}Queue(e){var t;let n=()=>(this.setCallback_||e||this.callback_)&&(this.setCallback_||e||this.callback_)();!this.queued_&&this.initialized_?(this.queued_=!0,null===(t=M(this.componentId_))||void 0===t||t.GetBackend().changes.AddNextTickHandler((()=>{this.queued_=!1,n()}))):this.initialized_?this.setCallback_=e||null:(this.initialized_=!0,n())}}const pt=/\{\{\s*(.+?)\s*\}\}/g,mt=/\{%(.+?)%\}/g,ft=/\{\{.+?\}\}/,vt=/\{%.+?%\}/;function _t(e){let t=e=>[...e.childNodes].reduce(((e,t)=>`${e}${3!=t.nodeType?n(t):t.textContent||""}`),""),n=e=>`${[...e.attributes].reduce(((e,t)=>`${e} ${t.name}="${t.value}"`),`<${e.tagName.toLowerCase()}`)+">"}${t(e)}</${e.tagName.toLowerCase()}>`;return t(e)}function gt({componentId:e,contextElement:t,text:n,handler:i}){var r;let o="";if(n){if(!ft.test(n)&&!vt.test(n))return}else{let e=e=>ft.test(e)||vt.test(e);if(![...t.childNodes].filter((e=>3==e.nodeType)).find((t=>e(t.textContent||""))))return;o=_t(t)}let s=Qe({componentId:e,contextElement:t,expression:"let output = "+JSON.stringify(o||n).replace(pt,'"+($1)+"').replace(mt,'";$1\noutput+="')+"; return output;"});null===(r=M(e))||void 0===r||r.CreateElementScope(t),nt({componentId:e,contextElement:t,callback:()=>s(i)})}function bt({componentId:e,contextElement:t,name:n,value:i}){gt({componentId:e,contextElement:t,text:i,handler:e=>t.setAttribute(n,e)})}function yt({componentId:e,contextElement:t}){gt({componentId:e,contextElement:t,handler:n=>dt({component:e,element:t,html:n,processDirectives:!0})})}function Ct(e){let t=De(),n=t.GetConfig();[n.GetDirectiveName("data",!0),n.GetDirectiveName("data",!1)].forEach((n=>{(e||document).querySelectorAll(`[${n}]`).forEach((e=>{e.hasAttribute(n)&&document.contains(e)&&q({component:t.CreateComponent(e),element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})}))}))}function kt(e){Ne(),setTimeout((()=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>{Ct(e)})):Ct(e)}),0)}function xt(e,t){let n="",i=null;if("function"==typeof e){let t=e();t?({name:n,callback:i}=t):(n=e("name"),i=e("callback"))}else v(e)?({name:n,callback:i}=e):De().GetDirectiveManager().AddHandler(e);n&&i&&(t?De().GetDirectiveManager().AddHandlerExtension(t,i,n):De().GetDirectiveManager().AddHandler(i,n))}function Et(e,t){return{name:e,callback:t}}function Gt(e,t,n,i,r){let o=De().GetConfig().GetDirectiveName("on"),s=(r||[]).join("."),l=z(s?`${o}:${n}.${s}`:`${o}:${n}`,i||"");return!!l&&D(e,t,l)}const At=["bind","event","on"];function It({component:e,contextElement:t,key:n,event:i,expression:r,options:o,defaultEvent:s,eventWhitelist:l=[],optionBlacklist:a}){let c=()=>a?null==o?void 0:o.filter((e=>!a.includes(e))):o,u=e=>n?`${n}-${e}.join`:e;return l.includes(i)?Gt(e,t,u(i),r,c()):!(!s||i!==s&&!At.includes(i))&&Gt(e,t,u(s),r,c())}function St(e,t,n){let i=De().GetConfig().GetDirectiveName(t,!1),r=De().GetConfig().GetDirectiveName(t,!0);return e.getAttribute(i)||e.getAttribute(r)||n&&e.getAttribute(n)||null}function Pt({componentId:e,contextElement:t,key:n,expression:i,callback:r,arrayCallback:o,useEffect:s=!0}){let l=0,a=Qe({componentId:e,contextElement:t,expression:i}),c=(e,t)=>{Xe(e,(e=>{t==l&&(n?r([n,e]):v(e)?Object.entries(e).forEach(r):o&&("string"==typeof e||Array.isArray(e))&&o("string"==typeof e?e.trim().split(" ").filter((e=>!!e)):e))}))};s?nt({componentId:e,contextElement:t,callback:()=>a((e=>c(e,++l)))}):a((e=>c(e,l)))}const wt=Array.from(Array(100).keys()).map((e=>e/100));function Ot(e){let t={root:null,rootMargin:"0px",threshold:0};return v(e)&&Object.entries(t).forEach((([n,i])=>t[n]=n in e&&e[n]||i)),e.spread&&(t.threshold=wt),t}class Mt{constructor(e,t){this.id_=e,this.observer_=null,this.handlers_=new Array;let n=this.id_;this.observer_=new globalThis.IntersectionObserver(((e,t)=>{e.forEach((e=>{this.handlers_.filter((({target:t})=>t===e.target)).forEach((i=>{s((()=>i.handler({entry:e,id:n,observer:t})),"InlineJS.IntersectionObserver")}))}))}),Ot(t))}GetId(){return this.id_}GetNative(){return this.observer_}Observe(e,t){var n;this.handlers_.push({target:e,handler:t}),null===(n=this.observer_)||void 0===n||n.observe(e)}Unobserve(e){var t;this.handlers_=this.handlers_.filter((t=>t.target===e)),null===(t=this.observer_)||void 0===t||t.unobserve(e)}}function Ft(e,t=0){return e&&e.match(/^[0-9]+(s|ms)?$/)?-1==e.indexOf("m")&&-1!=e.indexOf("s")?1e3*parseInt(e):parseInt(e):t}function $t({options:e,list:t,defaultNumber:n,callback:i,unknownCallback:r}){let o=Array.isArray(e)?e:[e],s=e=>("number"==typeof n?n:n&&n(e))||0;return t.forEach(((n,l)=>{let a=o.find((e=>e&&n in e));if(!a)return r&&r({options:e,list:t,option:n,index:l});i&&!0===i({options:e,list:t,option:n,index:l})||("number"==typeof a[n]?l<t.length-1?a[n]=Ft(t[l+1].trim(),s(n)):a[n]=s(n):"boolean"==typeof a[n]&&(a[n]=!0))})),e}function Nt({componentId:e,component:t,contextElement:n,expression:i,argOptions:r,callback:o,options:s,defaultOptionValue:l,useEffect:a}){let c=Qe({componentId:e,contextElement:n,expression:i}),u=$t({options:s||{lazy:!1,ancestor:-1,threshold:-1},list:r,defaultNumber:0===l?0:l||-1}),d=()=>c((e=>qe(e,o))),h=()=>!1===a?d():nt({componentId:e,contextElement:n,callback:d});if(u.lazy){let i=t||M(e),r={root:u.ancestor<0?null:null==i?void 0:i.FindAncestor(n,u.ancestor),threshold:u.threshold<0?0:u.threshold},o=i?new Mt(i.GenerateUniqueId("intob_"),r):null;o?(null==i||i.AddIntersectionObserver(o),o.Observe(n,(({id:t,entry:n}={})=>{var i;(null==n?void 0:n.isIntersecting)&&(null===(i=M(e))||void 0===i||i.RemoveIntersectionObserver(t),h())}))):h()}else h()}function Rt(e){let t,n="",i=null;if("function"==typeof e){let r=e();r?({name:n,callback:i,onAccess:t}=r):(n=e("name"),i=e("callback"),t=e("access"))}else v(e)?({name:n,callback:i,onAccess:t}=e):De().GetMagicManager().AddHandler(e);n&&i&&De().GetMagicManager().AddHandler(i,n,t)}function Dt(e,t,n){return{name:e,callback:t,onAccess:n}}function Tt(e){return e.startsWith(":")?De().GetConfig().GetDirectiveName("bind")+e:null}function jt(e){return e.startsWith(".")?e.replace(".",De().GetConfig().GetDirectiveName("class:")):null}function Lt(e){return e.startsWith("@")?e.replace("@",De().GetConfig().GetDirectiveName("on:")):null}function Bt(e,t,n){console.log({message:e,context:t||"N/A",contextElement:n||"N/A"})}},29:function(e,t,n){var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.MomentConcept=void 0;const r=n(992);t.MomentConcept=class{constructor(){this.checkpoints_=[{value:31536e3,label:"year"},{value:2592e3,label:"month"},{value:604800,label:"week"},{value:86400,label:"day",next:604800},{value:3600,label:"hour",next:86400},{value:60,label:"minute",next:3600},{value:45,label:"45 seconds",next:60},{value:30,label:"30 seconds",next:45},{value:15,label:"15 seconds",next:30},{value:10,label:"10 seconds",next:15},{value:5,label:"5 seconds",next:10},{value:2,label:"few seconds",next:5},{value:0,ago:"just now",until:"right now",next:1,append:!1}]}Format(e){var{date:t,until:n,thin:r}=e,o=i(e,["date","until","thin"]);let s=Date.now(),l=t.getTime();return l<s||l==s&&!n?[...this.Format_(Object.assign(Object.assign({},o),{seconds:Math.floor((s-l)/1e3),computeNext:({seconds:e,checkpoint:t})=>t.next?t.value<60?t.value-e:t.value-e%t.value:0,computeLabel:e=>{var{checkpoint:t}=e,n=i(e,["checkpoint"]);return this.ComputeLabel_(Object.assign(Object.assign({},n),{label:t.ago||t.label||"",suffix:r||!1===t.append?"":" ago"}))}})),!1]:[...this.Format_(Object.assign(Object.assign({},o),{seconds:Math.floor((l-s)/1e3),computeNext:({seconds:e,checkpoint:t})=>e-t.value,computeLabel:e=>{var{checkpoint:t}=e,n=i(e,["checkpoint"]);return this.ComputeLabel_(Object.assign(Object.assign({},n),{label:t.until||t.label||"",suffix:r||!1===t.append?"":" until"}))}})),!0]}Track(e){var{handler:t,until:n,startImmediately:o}=e,s=i(e,["handler","until","startImmediately"]);let l=!1,a=0,c="",u="",d=0,h=()=>{l||([u,d,n]=this.Format(Object.assign(Object.assign({},s),{until:n})),setTimeout(h,1e3*d),u!==c&&(()=>{let e=++a;requestAnimationFrame((()=>l=l||e==a&&!1===(0,r.JournalTry)((()=>t(c=u)))))})())},p=()=>{c="",h()};return!1!==o&&p(),{stop:()=>{l=!0,++a},resume:()=>{l&&(l=!1,p())},stopped:()=>l}}Format_(e){var{seconds:t,computeNext:n,computeLabel:r}=e,o=i(e,["seconds","computeNext","computeLabel"]);let s=this.checkpoints_.findIndex((e=>e.value<t));if(-1==s)return["",0];let l=this.checkpoints_[s],a=l.value<60?0:Math.floor(t/l.value);return[r(Object.assign({checkpoint:l,count:a},o)),n({seconds:t,checkpointIndex:s,checkpoint:l})]}ComputeLabel_({label:e,count:t,short:n,ucfirst:i,capitalize:r,prefix:o,suffix:s}){let l,a=e=>{if(!i&&!r)return e;let t=e.split(" ");if(r)return t.map((e=>e.substring(0,1).toUpperCase()+e.substring(1))).join(" ");let n=t.findIndex((e=>/[a-zA-Z]/.test(e.substring(0,1))));return t.map(((e,t)=>t==n?e.substring(0,1).toUpperCase()+e.substring(1):e)).join(" ")};return n?l="just now"===e||"right now"===e?i||r?"0S":"0s":"few seconds"===e?i||r?"2S":"2s":a(0==t?e.split(" ").reduce(((e,t)=>e?`${e}${t.substring(0,1)}`:t),""):`${t}${e.substring(0,1)}`):(l=a(t?`${t} ${e}${1==t?"":"s"}`:e),l=`${o||""}${l}${s||""}`),l}}},801:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MomentDirectiveHandlerCompact=t.MomentDirectiveHandler=void 0;const i=n(992),r=n(397);t.MomentDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)(r.MomentConceptName,(({componentId:e,component:t,contextElement:n,expression:o,argKey:s,argOptions:l})=>{if((0,i.BindEvent)({contextElement:n,expression:o,component:t||e,key:r.MomentConceptName,event:s,defaultEvent:"update",options:l,optionBlacklist:["window","document","outside"]}))return;let a=(0,i.GetGlobal)().GetConcept(r.MomentConceptName),c=`$${r.MomentConceptName}`;if(!a)return(0,i.JournalError)("Moment concept is not installed.",`InlineJS.${r.MomentConceptName}`,n);let u=t||(0,i.FindComponentById)(e),d=null==u?void 0:u.FindElementScope(n);if(!u||!d)return(0,i.JournalError)("Failed to retrieve element scope.",`InlineJS.${r.MomentConceptName}`,n);if(d.HasLocal(c))return;let h=u.GenerateUniqueId(`${r.MomentConceptName}_proxy_`),p=null,m="",f=(0,i.ResolveOptions)({options:{thin:!1,short:!1,ucfirst:!1,capitalize:!1,stopped:!1},list:l}),v=!1,_=(0,i.EvaluateLater)({componentId:e,contextElement:n,expression:o}),g=()=>(null==p?void 0:p.stop())||(p=null);(0,i.UseEffect)({componentId:e,contextElement:n,callback:()=>_((t=>{var o,s,l;let a=null;"string"==typeof t||"number"==typeof t||t instanceof Date?a=new Date(t):t instanceof HTMLTimeElement&&(a=new Date(t.dateTime)),g(),a?(p=(null===(o=(0,i.GetGlobal)().GetConcept(r.MomentConceptName))||void 0===o?void 0:o.Track(Object.assign(Object.assign({date:a},f),{startImmediately:!f.stopped,handler:t=>{var o;(0,i.AddChanges)("set",`${h}.label`,"label",null===(o=(0,i.FindComponentById)(e))||void 0===o?void 0:o.GetBackend().changes),m=t,n.dispatchEvent(new CustomEvent(`${r.MomentConceptName}.update`,{detail:{label:t}}))}})))||null,p&&!v&&(v=!0,(0,i.AddChanges)("set",`${h}.valid`,"valid",null===(s=(0,i.FindComponentById)(e))||void 0===s?void 0:s.GetBackend().changes))):v&&(v=!1,(0,i.AddChanges)("set",`${h}.valid`,"valid",null===(l=(0,i.FindComponentById)(e))||void 0===l?void 0:l.GetBackend().changes))}))}),d.SetLocal(c,(0,i.CreateInplaceProxy)((0,i.BuildProxyOptions)({getter:t=>{var n,r,o;return"valid"===t?(null===(n=(0,i.FindComponentById)(e))||void 0===n||n.GetBackend().changes.AddGetAccess(`${h}.${t}`),v):"label"===t?(null===(r=(0,i.FindComponentById)(e))||void 0===r||r.GetBackend().changes.AddGetAccess(`${h}.${t}`),m):"stopped"===t?(null===(o=(0,i.FindComponentById)(e))||void 0===o||o.GetBackend().changes.AddGetAccess(`${h}.${t}`),!p||p.stopped()):void 0},setter:(t,n)=>{var r;return"stopped"===t&&p&&!!n!=!!p.stopped()&&(n?null==p||p.stop():null==p||p.resume(),(0,i.AddChanges)("set",`${h}.${t}`,t,null===(r=(0,i.FindComponentById)(e))||void 0===r?void 0:r.GetBackend().changes)),!0},lookup:["valid","label","stopped"]}))),d.AddUninitCallback(g)})),t.MomentDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.MomentDirectiveHandler)}},61:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MomentMagicHandlerCompact=t.MomentMagicHandler=void 0;const i=n(992),r=n(397),o=function(){let e={format:e=>{var t;return null===(t=(0,i.GetGlobal)().GetConcept(r.MomentConceptName))||void 0===t?void 0:t.Format(e)},track:e=>{var t;return null===(t=(0,i.GetGlobal)().GetConcept(r.MomentConceptName))||void 0===t?void 0:t.Track(e)}};return(0,i.CreateReadonlyProxy)(e)}();t.MomentMagicHandler=(0,i.CreateMagicHandlerCallback)(r.MomentConceptName,(()=>o)),t.MomentMagicHandlerCompact=function(){(0,i.AddMagicHandler)(t.MomentMagicHandler)}},397:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MomentConceptName=void 0,t.MomentConceptName="moment"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(992),t=n(397),i=n(29),r=n(801),o=n(61);(0,e.WaitForGlobal)().then((()=>{(0,e.GetGlobal)().SetConcept(t.MomentConceptName,new i.MomentConcept),(0,r.MomentDirectiveHandlerCompact)(),(0,o.MomentMagicHandlerCompact)()}))})()})();