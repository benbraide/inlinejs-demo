(()=>{"use strict";var e={5527:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BootstrapAndAttach=void 0;const r=n(3697),o=n(581);t.BootstrapAndAttach=function(e){let t=(0,o.GetGlobal)(),n=t.GetConfig();[n.GetDirectiveName("data",!0),n.GetDirectiveName("data",!1)].forEach((n=>{(e||document).querySelectorAll(`[${n}]`).forEach((e=>{if(!e.hasAttribute(n)||!document.contains(e))return;let o=t.CreateComponent(e);(0,r.ProcessDirectives)({component:o,element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})}))}))}},4176:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AutoBootstrap=void 0;const r=n(690),o=n(5527);t.AutoBootstrap=function(e){(0,r.GetOrCreateGlobal)(),setTimeout((()=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>{(0,o.BootstrapAndAttach)(e)})):(0,o.BootstrapAndAttach)(e)}),0)}},4510:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0;const r=n(3697),o=n(581),i=n(8645),s=n(1134),l=n(1588),a=n(5419),c=n(1347),u=n(2418),d=n(6578),h=n(4307),p=n(535),_=n(8312),m=n(5987);t.BaseComponent=class{constructor(e,t){this.id_=e,this.root_=t,this.reactiveState_="default",this.name_="",this.context_=new u.Context,this.scopes_={},this.elementScopes_={},this.proxies_={},this.refs_={},this.currentScope_=new s.Stack,this.selectionScopes_=new s.Stack,this.uniqueMarkers_=(0,a.GetDefaultUniqueMarkers)(),this.observers_={intersections:{}},this.changes_=new c.Changes(this.id_),this.rootProxy_=new i.RootProxy(this.id_,{}),this.proxies_[this.rootProxy_.GetPath()]=this.rootProxy_,this.CreateElementScope(this.root_),(0,o.GetGlobal)().GetMutationObserver().Observe(this.root_,(({added:t,removed:n,attributes:i})=>{let s=(0,p.FindComponentById)(e);if(!s)return;let l=new Array,a=(0,o.GetGlobal)().GetConfig().GetDirectiveRegex();null==i||i.filter((e=>e.target instanceof HTMLElement)).forEach((e=>{var t;a.test(e.name)?e.target.hasAttribute(e.name)&&!l.includes(e.target)&&l.push(e.target):null===(t=null==s?void 0:s.FindElementScope(e.target))||void 0===t||t.ExecuteAttributeChangeCallbacks(e.name)})),l.forEach((e=>(0,r.ProcessDirectives)({element:e,component:s,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})));let c=[...t||[]];null==t||t.filter((e=>!(null==n?void 0:n.includes(e)))).forEach((e=>{var t;if(e instanceof HTMLElement){(0,r.ProcessDirectives)({component:s,element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}});for(let n=e.parentElement;n&&(null===(t=null==s?void 0:s.FindElementScope(n))||void 0===t||t.ExecuteTreeChangeCallbacks([e],[]),n!==this.root_);n=n.parentElement);}})),null==n||n.filter((e=>!c.includes(e))).forEach((e=>{var t;e instanceof HTMLElement&&(null===(t=s.FindElementScope(e))||void 0===t||t.Destroy())}))}),["add","remove","attribute"])}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return"default"===this.reactiveState_?(0,_.GetConfig)().GetReactiveState():this.reactiveState_}GetId(){return this.id_}GenerateUniqueId(e,t){return(0,a.GenerateUniqueId)(this.uniqueMarkers_,`Cmpnt<${this.id_}>.`,e,t)}SetName(e){this.name_=e}GetName(){return this.name_}CreateScope(e){let t=Object.values(this.scopes_).find((t=>t.GetRoot()===e));if(t)return t;if(e===this.root_||!this.root_.contains(e))return null;let n=new m.Scope(this.id_,this.GenerateUniqueId("scope_"),e);return this.scopes_[n.GetId()]=n,n}RemoveScope(e){let t="string"==typeof e?e:e.GetId();t in this.scopes_&&delete this.scopes_[t]}FindScopeById(e){return e in this.scopes_?this.scopes_[e]:null}FindScopeByName(e){return Object.values(this.scopes_).find((t=>t.GetName()===e))||null}FindScopeByRoot(e){return Object.values(this.scopes_).find((t=>t.GetRoot()===e))||null}PushCurrentScope(e){this.currentScope_.Push(e)}PopCurrentScope(){return this.currentScope_.Pop()}PeekCurrentScope(){return this.currentScope_.Peek()}InferScopeFrom(e){var t;return this.FindScopeById((null===(t=this.FindElementScope((0,h.GetElementScopeId)(e)))||void 0===t?void 0:t.GetScopeId())||"")||null}PushSelectionScope(){let e={set:!1};return this.selectionScopes_.Push(e),e}PopSelectionScope(){return this.selectionScopes_.Pop()}PeekSelectionScope(){return this.selectionScopes_.Peek()}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}CreateElementScope(e){let t=Object.values(this.elementScopes_).find((t=>t.GetElement()===e));if(t)return t;if(e!==this.root_&&!this.root_.contains(e))return null;let n=new d.ElementScope(this.id_,this.GenerateUniqueId("elscope_"),e,e===this.root_);return this.elementScopes_[n.GetId()]=n,e[h.ElementScopeKey]=n.GetId(),n}RemoveElementScope(e){delete this.elementScopes_[e]}FindElementScope(e){if("string"==typeof e)return e in this.elementScopes_?this.elementScopes_[e]:null;let t=!0===e?this.context_.Peek(l.ContextKeys.self):e instanceof Node?e:this.root_;return t&&h.ElementScopeKey in t&&t[h.ElementScopeKey]in this.elementScopes_?this.elementScopes_[t[h.ElementScopeKey]]:null}FindElementLocalValue(e,t,n){let r=this.FindElementScope(e),i=r?r.GetLocal(t):(0,o.GetGlobal)().CreateNothing();if(!(0,o.GetGlobal)().IsNothing(i)||!n||!r&&"string"==typeof e)return i;let s=(null==r?void 0:r.GetElement())||(!0===e?this.context_.Peek(l.ContextKeys.self):e instanceof Node?e:this.root_);if(!s)return i;let a=this.FindAncestor(s);return a?this.FindElementLocalValue(a,t,!0):i}AddProxy(e){this.proxies_[e.GetPath()]=e}RemoveProxy(e){let t="string"==typeof e?e:e.GetPath();t in this.proxies_&&delete this.proxies_[t]}GetRootProxy(){return this.rootProxy_}FindProxy(e){return e in this.proxies_?this.proxies_[e]:null}AddRefElement(e,t){this.refs_[e]=t}FindRefElement(e){return e in this.refs_?this.refs_[e]:null}AddIntersectionObserver(e){this.observers_.intersections[e.GetId()]=e}FindIntersectionObserver(e){return e in this.observers_.intersections?this.observers_.intersections[e]:null}RemoveIntersectionObserver(e){e in this.observers_.intersections&&delete this.observers_.intersections[e]}GetBackend(){return{context:this.context_,changes:this.changes_}}GetGlobal(){return(0,o.GetGlobal)()}}},1347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Changes=void 0;const r=n(2044),o=n(1134),i=n(9448),s=n(3970),l=n(535);t.Changes=class{constructor(e){this.componentId_=e,this.nextTickHandlers_=new Array,this.isScheduled_=!1,this.list_=new Array,this.subscribers_={},this.lastAccessContext_="",this.getAccessStorages_=new o.Stack,this.origins_=new o.Stack}GetComponentId(){return this.componentId_}AddNextTickHandler(e){this.nextTickHandlers_.push(e)}Schedule(){this.isScheduled_||(this.isScheduled_=!0,queueMicrotask((()=>{this.isScheduled_=!1;let e=new Array;this.list_.splice(0).forEach((t=>{Object.values(this.subscribers_).filter((e=>e.path===t.path&&e.callback!==(e=>"original"in e?e.original.origin:e.origin)(t))).forEach((n=>((t,n)=>{let r=e.find((e=>e.callback===n));r?r.changes.push(t):e.push({callback:n,changes:new Array(t)})})(t,n.callback)))})),e.forEach((e=>e.callback(e.changes))),this.nextTickHandlers_.splice(0).forEach((e=>{try{e()}catch(e){(0,r.JournalError)(e,`InlineJs.Region<${this.componentId_}>.NextTick`)}}))})))}Add(e){this.list_.push(e),this.Schedule()}AddComposed(e,t,n){let r={componentId:this.componentId_,type:"set",path:t?`${t}.${e}`:e,prop:e,origin:this.origins_.Peek()};n?this.Add({original:r,path:n}):this.Add(r)}GetLastChange(e=0){return(0,i.DeepCopy)(this.list_.at(-(e+1))||null)}AddGetAccess(e){var t,n,r,o;let i=(null===(t=(0,l.FindComponentById)((0,s.PeekCurrentComponent)()||""))||void 0===t?void 0:t.GetBackend().changes)||this,a=e.lastIndexOf(".");this.lastAccessContext_=-1==a?"":e.substring(0,a);let c=i.getAccessStorages_.Peek();(null==c?void 0:c.details)&&(null===(n=c.details.raw)||void 0===n||n.entries.push({compnentId:this.componentId_,path:e}),c.details.optimized&&c.details.optimized.entries!==(null===(r=c.details.raw)||void 0===r?void 0:r.entries)&&0!=c.details.optimized.entries.length&&c.lastAccessPath&&c.lastAccessPath.length<e.length&&0==e.indexOf(`${c.lastAccessPath}.`)?c.details.optimized.entries.at(-1).path=e:c.details.optimized&&c.details.optimized.entries!==(null===(o=c.details.raw)||void 0===o?void 0:o.entries)&&c.details.optimized.entries.push({compnentId:this.componentId_,path:e}),c.lastAccessPath=e)}GetLastAccessContext(){return this.lastAccessContext_}ResetLastAccessContext(){this.lastAccessContext_=""}PushGetAccessStorage(e){var t;this.getAccessStorages_.Push({details:e||{optimized:"optimized"===(null===(t=(0,l.FindComponentById)(this.componentId_))||void 0===t?void 0:t.GetReactiveState())?{entries:new Array,snapshots:new o.Stack}:void 0,raw:{entries:new Array,snapshots:new o.Stack}},lastAccessPath:""})}PopGetAccessStorage(){var e;return(null===(e=this.getAccessStorages_.Pop())||void 0===e?void 0:e.details)||null}SwapOptimizedGetAccessStorage(){let e=this.getAccessStorages_.Peek();(null==e?void 0:e.details.optimized)&&e.details.raw&&(e.details.optimized.entries=e.details.raw.entries)}RestoreOptimizedGetAccessStorage(){var e;let t=this.getAccessStorages_.Peek();(null==t?void 0:t.details.optimized)&&t.details.optimized.entries===(null===(e=t.details.raw)||void 0===e?void 0:e.entries)&&(t.details.optimized.entries=t.details.raw.entries.slice(0))}FlushRawGetAccessStorage(){var e,t;null===(t=null===(e=this.getAccessStorages_.Peek())||void 0===e?void 0:e.details.raw)||void 0===t||t.entries.splice(0)}PushGetAccessStorageSnapshot(){var e,t;let n=this.getAccessStorages_.Peek();null===(e=null==n?void 0:n.details.optimized)||void 0===e||e.snapshots.Push(n.details.optimized.entries.slice(0).map((e=>Object.assign({},e)))),null===(t=null==n?void 0:n.details.raw)||void 0===t||t.snapshots.Push(n.details.raw.entries.slice(0).map((e=>Object.assign({},e))))}PopGetAccessStorageSnapshot(e){var t,n,r,o;let i=this.getAccessStorages_.Peek(),s=null===(t=null==i?void 0:i.details.optimized)||void 0===t?void 0:t.snapshots.Pop();!e&&s&&(null===(n=null==i?void 0:i.details.optimized)||void 0===n?void 0:n.entries)&&(i.details.optimized.entries=s);let l=null===(r=null==i?void 0:i.details.raw)||void 0===r?void 0:r.snapshots.Pop();!e&&l&&(null===(o=null==i?void 0:i.details.raw)||void 0===o?void 0:o.entries)&&(i.details.raw.entries=l)}PopAllGetAccessStorageSnapshots(e){var t,n,r,o,i,s;let l=this.getAccessStorages_.Peek(),a=null===(t=null==l?void 0:l.details.optimized)||void 0===t?void 0:t.snapshots.Pop();for(;(null===(n=null==l?void 0:l.details.optimized)||void 0===n?void 0:n.snapshots)&&!l.details.optimized.snapshots.IsEmpty();)a=l.details.optimized.snapshots.Pop();!e&&a&&(null===(r=null==l?void 0:l.details.optimized)||void 0===r?void 0:r.entries)&&(l.details.optimized.entries=a);let c=null===(o=null==l?void 0:l.details.raw)||void 0===o?void 0:o.snapshots.Pop();for(;(null===(i=null==l?void 0:l.details.raw)||void 0===i?void 0:i.snapshots)&&!l.details.raw.snapshots.IsEmpty();)c=l.details.raw.snapshots.Pop();!e&&c&&(null===(s=null==l?void 0:l.details.raw)||void 0===s?void 0:s.entries)&&(l.details.raw.entries=c)}PushOrigin(e){this.origins_.Push(e)}PeekOrigin(){return this.origins_.Peek()}PopOrigin(){return this.origins_.Pop()}Subscribe(e,t){var n;let r=null===(n=(0,l.FindComponentById)(this.componentId_))||void 0===n?void 0:n.GenerateUniqueId("sub_");return r&&(this.subscribers_[r]={path:e,callback:t}),r||""}Unsubscribe(e,t){"string"!=typeof e?Object.entries(this.subscribers_).filter((([n,r])=>e===r.callback&&(!t||t===r.path))).map((([e])=>e)).forEach((e=>{this.Unsubscribe_(e)})):e in this.subscribers_&&this.Unsubscribe_(e)}Unsubscribe_(e){delete this.subscribers_[e]}}},2418:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;const r=n(1134);t.Context=class{constructor(){this.record_={}}Push(e,t){(this.record_[e]=this.record_[e]||new r.Stack).Push(t)}Pop(e,t){return e in this.record_?this.record_[e].Pop():t||null}Peek(e,t){return e in this.record_?this.record_[e].Peek():t||null}Get(e){return e in this.record_?this.record_[e]:null}}},6026:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PeekCurrentScope=t.PopCurrentScope=t.PushCurrentScope=void 0;const r=n(535);t.PushCurrentScope=function(e,t){var n;null===(n="string"==typeof e?(0,r.FindComponentById)(e):e)||void 0===n||n.PushCurrentScope(t)},t.PopCurrentScope=function(e){var t;return(null===(t="string"==typeof e?(0,r.FindComponentById)(e):e)||void 0===t?void 0:t.PopCurrentScope())||null},t.PeekCurrentScope=function(e){var t;return(null===(t="string"==typeof e?(0,r.FindComponentById)(e):e)||void 0===t?void 0:t.PeekCurrentScope())||null}},3970:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PeekCurrentComponent=t.PopCurrentComponent=t.PushCurrentComponent=void 0;const r=n(581);t.PushCurrentComponent=function(e){(0,r.GetGlobal)().PushCurrentComponent(e)},t.PopCurrentComponent=function(){return(0,r.GetGlobal)().PopCurrentComponent()},t.PeekCurrentComponent=function(){return(0,r.GetGlobal)().PeekCurrentComponent()}},4307:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetElementScopeId=t.ElementScopeKey=void 0,t.ElementScopeKey="__InlineJS_ELSCOPE_KEY__",t.GetElementScopeId=function(e){let n="";for(;e;){if(r=e,n=t.ElementScopeKey in r&&r[t.ElementScopeKey],n||e===document.body)return n||"";e=e.parentElement}var r;return""}},6578:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementScope=void 0;const r=n(939),o=n(581),i=n(3920),s=n(6026),l=n(4307),a=n(1912),c=n(535);t.ElementScope=class{constructor(e,t,n,r){this.componentId_=e,this.id_=t,this.element_=n,this.isRoot_=r,this.scopeId_="",this.key_="",this.locals_={},this.data_={},this.managers_={directive:null},this.callbacks_={post:new Array,uninit:new Array,treeChange:new Array,attributeChange:new Array},this.state_={isMarked:!1,isDestroyed:!1},this.scopeId_=(0,s.PeekCurrentScope)(this.componentId_)||""}GetComponentId(){return this.componentId_}GetScopeId(){return this.scopeId_}GetId(){return this.id_}SetKey(e){this.key_=e}GetKey(){return this.key_}GetElement(){return this.element_}IsRoot(){return this.isRoot_}SetLocal(e,t){this.state_.isMarked||(this.locals_[e]=t)}DeleteLocal(e){delete this.locals_[e]}HasLocal(e){return e in this.locals_}GetLocal(e){return e in this.locals_?this.locals_[e]:(0,o.GetGlobal)().CreateNothing()}GetLocals(){return this.locals_}SetData(e,t){this.state_.isMarked||(this.data_[e]=t)}GetData(e){return e in this.data_?this.data_[e]:(0,o.GetGlobal)().CreateNothing()}AddPostProcessCallback(e){this.state_.isMarked||this.callbacks_.post.push(e)}ExecutePostProcessCallbacks(){(this.callbacks_.post||[]).forEach((e=>(0,i.JournalTry)(e,"ElementScope.ExecutePostProcessCallbacks")))}AddUninitCallback(e){this.state_.isMarked||this.callbacks_.uninit.push(e)}RemoveUninitCallback(e){this.callbacks_.uninit=this.callbacks_.uninit.filter((t=>t!==e))}AddTreeChangeCallback(e){this.callbacks_.treeChange.push(e)}RemoveTreeChangeCallback(e){this.callbacks_.treeChange=this.callbacks_.treeChange.filter((t=>t!==e))}ExecuteTreeChangeCallbacks(e,t){this.callbacks_.treeChange.forEach((n=>(0,i.JournalTry)((()=>n({added:e,removed:t})))))}AddAttributeChangeCallback(e,t){if(this.state_.isMarked)return;let n=this.callbacks_.attributeChange.find((t=>t.callback===e));n?n.whitelist.push(...t||[]):this.callbacks_.attributeChange.push({callback:e,whitelist:"string"==typeof t?[t]:t||[]})}RemoveAttributeChangeCallback(e,t){let n=this.callbacks_.attributeChange.findIndex((t=>t.callback===e));if(-1==n)return;let r="string"==typeof t?[t]:t||[];0!=r.length&&0!=this.callbacks_.attributeChange[n].whitelist.length?r.forEach((e=>{this.callbacks_.attributeChange[n].whitelist=this.callbacks_.attributeChange[n].whitelist.filter((t=>t!==e))})):this.callbacks_.attributeChange[n].whitelist.splice(0),0==this.callbacks_.attributeChange[n].whitelist.length&&this.callbacks_.attributeChange.splice(n,1)}ExecuteAttributeChangeCallbacks(e){(this.callbacks_.attributeChange||[]).filter((t=>0==(t.whitelist||[]).length||t.whitelist.includes(e))).forEach((t=>(0,i.JournalTry)((()=>t.callback(e)))))}Destroy(e){if(this.state_.isDestroyed)return;if(this.state_.isMarked=!0,!(this.element_ instanceof HTMLTemplateElement)&&"svg"!==this.element_.tagName.toLowerCase()){let t=(0,c.FindComponentById)(this.componentId_);t&&this.DestroyChildren_(t,this.element_,e||!1)}if(e)return;this.callbacks_.uninit.splice(0).forEach((e=>{try{e()}catch(e){}})),this.callbacks_.post.splice(0),this.callbacks_.treeChange.splice(0),this.callbacks_.attributeChange.splice(0),this.data_={},this.locals_={},this.state_.isDestroyed=!0,(0,a.UnbindOutsideEvent)(this.element_),(0,o.GetGlobal)().GetMutationObserver().Unobserve(this.element_);let t=(0,c.FindComponentById)(this.componentId_);if(null==t||t.RemoveElementScope(this.id_),delete this.element_[l.ElementScopeKey],this.isRoot_){let e=this.componentId_;null==t||t.GetBackend().changes.AddNextTickHandler((()=>(0,o.GetGlobal)().RemoveComponent(e)))}}IsMarked(){return this.state_.isMarked}IsDestroyed(){return this.state_.isDestroyed}GetDirectiveManager(){return this.managers_.directive=this.managers_.directive||new r.DirectiveManager}DestroyChildren_(e,t,n){Array.from(t.children).forEach((t=>{let r=e.FindElementScope(t);r?r.Destroy(n):this.DestroyChildren_(e,t,n)}))}}},1912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnbindOutsideEvent=t.AddOutsideEventExcept=t.RemoveOutsideEventListener=t.AddOutsideEventListener=void 0;const r=n(3920);function o(){return globalThis.InlineJS_OutsideEvent=globalThis.InlineJS_OutsideEvent||{targetScopes:new Array,eventCallbacks:{}}}t.AddOutsideEventListener=function(e,t,n){let i=o(),s=i.targetScopes.find((t=>t.target===e));s||(s={target:e,listeners:{}},i.targetScopes.push(s)),(Array.isArray(t)?t:[t]).forEach((e=>{e in s.listeners||(s.listeners[e]={handlers:new Array,excepts:null}),s.listeners[e].handlers.push({callback:n,excepts:null}),e in i.eventCallbacks||(i.eventCallbacks[e]=e=>{i.targetScopes.forEach((t=>{e.type in t.listeners&&t.target!==e.target&&!t.target.contains(e.target)&&-1==(t.listeners[e.type].excepts||[]).findIndex((t=>t===e.target||t.contains(e.target)))&&t.listeners[e.type].handlers.filter((t=>-1==(t.excepts||[]).findIndex((t=>t===e.target||t.contains(e.target))))).forEach((t=>(0,r.JournalTry)((()=>t.callback(e)),"InlineJS.OutsideEventListener")))}))},window.addEventListener(e,i.eventCallbacks[e]))}))},t.RemoveOutsideEventListener=function(e,t,n){let r=o().targetScopes.find((t=>t.target===e));r&&(Array.isArray(t)?t:[t]).forEach((e=>{e in r.listeners&&(n?r.listeners[e].handlers=r.listeners[e].handlers.filter((e=>e.callback!==n)):delete r.listeners[e])}))},t.AddOutsideEventExcept=function(e,t,n){let r=o().targetScopes.find((t=>t.target===e));r&&Object.keys(t).forEach((e=>{if(e in r.listeners)if(n){let o=r.listeners[e].handlers.find((e=>e.callback===n));o&&(o.excepts=o.excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((e=>{o.excepts.push(e)})))}else r.listeners[e].excepts=r.listeners[e].excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((t=>{r.listeners[e].excepts.push(t)}))}))},t.UnbindOutsideEvent=function(e){o().targetScopes=o().targetScopes.filter((t=>t.target!==e&&e.contains(t.target)))}},535:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FindComponentByRoot=t.FindComponentByName=t.FindComponentById=t.InitComponentCache=void 0;const r=n(581),o="InlineJS_Comp_Cache";function i(){return globalThis[o]={id:"",component:null}}t.InitComponentCache=i,t.FindComponentById=function(e){let t=globalThis[o]=globalThis[o]||i();return e===t.id||(t.component=(0,r.GetGlobal)().FindComponentById(e),t.id=t.component?e:""),t.component},t.FindComponentByName=function(e){return(0,r.GetGlobal)().FindComponentByName(e)},t.FindComponentByRoot=function(e){return(0,r.GetGlobal)().FindComponentByRoot(e)}},8312:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetConfig=void 0;const r=n(581);t.GetConfig=function(){return(0,r.GetGlobal)().GetConfig()}},9203:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InferComponent=void 0;const r=n(4307),o=n(535);t.InferComponent=function(e){let t=(0,r.GetElementScopeId)(e).match(/^Cmpnt\<([0-9_]+)\>/);return t?(0,o.FindComponentById)(t[1]):null}},5987:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Scope=void 0,t.Scope=class{constructor(e,t,n){this.componentId_=e,this.id_=t,this.root_=n,this.name_=""}GetComponentId(){return this.componentId_}GetId(){return this.id_}SetName(e){this.name_=e}GetName(){return this.name_}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}}},411:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateDirective=void 0;const r=n(8312),o=n(6719);let i={};t.CreateDirective=function(e,t){if(!e||!(e=e.trim()))return null;if((t=t.trim())===e&&(t=""),e in i)return{meta:i[e],value:t};let n=(0,o.ApplyDirectiveExpansionRules)(e),s=n.match((0,r.GetConfig)().GetDirectiveRegex());if(!s||3!=s.length||!s[2])return null;let l=s[2].indexOf(":"),a=-1==l?[s[2]]:[s[2].substring(0,l),s[2].substring(l+1)],c="",u="";a.length>1?[c,u]=a:[u]=a;let d=u.split("."),h="";c?h=d[0]:c=d[0],d.splice(0,1);let p=c.split("-"),_={view:{original:e,expanded:n},name:{value:c,joined:p.join("."),parts:p},arg:{key:h,options:d||[]}};return i[e]=_,{meta:_,value:t}}},347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DispatchDirective=void 0;const r=n(535),o=n(581),i=n(2044),s=n(3920),l=n(2735),a=n(5966);t.DispatchDirective=function(e,t,n,c=0){let u="string"==typeof e?(0,r.FindComponentById)(e):e;if(!u)return(0,i.JournalError)(`Failed to find component for '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1;let d=null,h=u.FindElementScope(t);if(h&&(d=h.GetDirectiveManager().FindHandler(n.meta.name.joined),++c),d=d||(0,o.GetGlobal)().GetDirectiveManager().FindHandler(n.meta.name.joined),!d){let e=`${n.meta.name.parts.reduce(((e,t)=>e?`${e}${t.substring(0,1).toUpperCase()}${t.substring(1)}`:t),"")}DirectiveHandler`;e in globalThis&&"function"==typeof globalThis[e]&&(d=globalThis[e])}return d?(0!=c||h||u.CreateElementScope(t),(0,s.JournalTry)((()=>{d(Object.assign(Object.assign({},(0,a.FlattenDirective)(n)),{componentId:u.GetId(),component:u,contextElement:t}))}),"InlineJS.DispatchDirective",t),!0):((0,l.JournalWarn)(`No handler found '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1)}},6719:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApplyDirectiveExpansionRules=t.RemoveDirectiveExpansionRule=t.AddDirectiveExpansionRule=t.CreateDirectiveExpansionRule=void 0;const r=n(581);t.CreateDirectiveExpansionRule=function(e,t){return n=>-1==n.search(e)?null:n.replace(e,t)},t.AddDirectiveExpansionRule=function(e){return(0,r.GetGlobal)().GetDirectiveManager().AddExpansionRule(e)},t.RemoveDirectiveExpansionRule=function(e){(0,r.GetGlobal)().GetDirectiveManager().RemoveExpansionRule(e)},t.ApplyDirectiveExpansionRules=function(e){return(0,r.GetGlobal)().GetDirectiveManager().Expand(e)}},5966:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenDirective=void 0,t.FlattenDirective=function(e){return{originalView:e.meta.view.original,expandedView:e.meta.view.expanded,nameValue:e.meta.name.value,nameJoined:e.meta.name.joined,nameParts:e.meta.name.parts,argKey:e.meta.arg.key,argOptions:e.meta.arg.options,expression:e.value}}},939:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveManager=void 0;const o=n(581);function i(e,t){let n="",r=null;return"function"==typeof e?(n=t||"",r=e):(n=e.GetName(),r=t=>e.Handle(t)),{computedName:n,callback:r}}t.DirectiveManager=class{constructor(){this.expansionRules_={},this.handlers_={}}AddExpansionRule(e){let t=(0,o.GetGlobal)().GenerateUniqueId("exrule_");return this.expansionRules_[t]=e,t}RemoveExpansionRule(e){e in this.expansionRules_&&delete this.expansionRules_[e]}Expand(e){if(!(e=e.trim()))return e;for(let t in this.expansionRules_){let n=this.expansionRules_[t](e);if(n)return n}return e}AddHandler(e,t){let{computedName:n,callback:r}=i(e,t);n&&r&&(this.handlers_[n]=r)}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e){if(!this.handlers_.hasOwnProperty(e))return null;let t=this.handlers_[e];return"function"==typeof t?t:t.handler.bind(t)}AddHandlerExtension(e,t,n){let o=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;if(!o)return;let{computedName:s,callback:l}=i(t,n);s&&l&&(this.handlers_[e]=function(e,t,n){let o="function"==typeof e?function(e){return{handler(t){var{argKey:n}=t,o=r(t,["argKey"]);this.extensions.hasOwnProperty(n)?this.extensions[n](Object.assign({argKey:n},o)):e(Object.assign({argKey:n},o))},extensions:{}}}(e):e;return o.extensions[t]=n,o}(o,s,l))}RemoveHandlerExtension(e,t){let n=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;n&&function(e,t){"function"!=typeof e&&e.extensions.hasOwnProperty(t)&&delete e.extensions[t]}(n,t)}}},3697:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessDirectives=void 0;const r=n(535),o=n(581),i=n(2044),s=n(347),l=n(4591);t.ProcessDirectives=function e({component:t,element:n,options:a={}}){var c;if(!function(e,{checkTemplate:t=!0,checkDocument:n=!0}){return 1===(null==e?void 0:e.nodeType)&&(!n||document.contains(e))&&(!t||e instanceof HTMLTemplateElement||!e.closest("template"))}(n,a))return;let u="string"==typeof t?(0,r.FindComponentById)(t):t;if(!u)return(0,i.JournalError)("Failed to find component.","InlineJS.ProcessDirectives",n),!1;let d=0;(0,l.TraverseDirectives)({element:n,callback:e=>{(0,s.DispatchDirective)(t,n,e,d)&&(n.removeAttribute(e.meta.view.original),++d)},attributeCallback:(e,t)=>(0,o.GetGlobal)().DispatchAttributeProcessing({name:e,value:t,componentId:u.GetId(),component:u,contextElement:n})}),(0,o.GetGlobal)().DispatchTextContentProcessing({componentId:u.GetId(),component:u,contextElement:n}),a.ignoreChildren||n instanceof HTMLTemplateElement||(null==u||u.PushSelectionScope(),Array.from(n.children).forEach((n=>e({component:t,options:a,element:n}))),null==u||u.PopSelectionScope()),null===(c=null==u?void 0:u.CreateElementScope(n))||void 0===c||c.ExecutePostProcessCallbacks()}},4591:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraverseDirectives=void 0;const r=n(2044),o=n(411);t.TraverseDirectives=function({element:e,callback:t,attributeCallback:n}){Array.from(e.attributes||[]).forEach((i=>{try{n&&n(i.name,i.value||"");let e=(0,o.CreateDirective)(i.name,i.value||"");e&&t(e)}catch(t){(0,r.JournalError)(t,"InlineJS.TraverseDirectives",e)}}))}},8974:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluateLater=void 0;const r=n(2602);t.EvaluateLater=function(e){return(0,r.GenerateFunctionFromString)(e)}},2602:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateFunctionFromString=t.CallIfFunction=t.GenerateVoidFunction=t.GenerateValueReturningFunction=void 0;const r=n(3970),o=n(535),i=n(581),s=n(2044),l=n(1588),a=n(1952),c="__InlineJS_Context__";let u={},d={};function h(e,t,n){if(u.hasOwnProperty(e))return u[e];if(d.hasOwnProperty(e))return null;try{let n=new Function(c,`\n            with (__InlineJS_Context__){\n                return (${e});\n            };\n        `).bind(t);return u[e]=n}catch(e){e instanceof SyntaxError||(0,s.JournalError)(e,`InlineJs.Region<${n||"NIL"}>.GenerateValueReturningFunction`)}return null}function p(e,t,n){if(d.hasOwnProperty(e))return d[e];try{let n=new Function(c,`\n            with (__InlineJS_Context__){\n                ${e};\n            };\n        `).bind(t);return d[e]=n}catch(e){(0,s.JournalError)(e,`InlineJs.Region<${n||"NIL"}>.GenerateVoidFunction`)}return null}function _(e,t,n,r=[]){var i;if("function"==typeof e){let s=(0,o.FindComponentById)(n||""),l=null==s?void 0:s.FindProxy(null==s?void 0:s.GetBackend().changes.GetLastAccessContext()),a=e.apply((null===(i=l||(null==s?void 0:s.GetRootProxy()))||void 0===i?void 0:i.GetNative())||null,r||[]);return t?t(a):a}return t?t(e):e}t.GenerateValueReturningFunction=h,t.GenerateVoidFunction=p,t.CallIfFunction=_,t.GenerateFunctionFromString=function({componentId:e,contextElement:t,expression:n,disableFunctionCall:c=!1,waitPromise:u="recursive"}){if(!(n=n.trim()))return e=>(e&&e(null),null);let d=(d,h,p,m,v=!0)=>{var f;let b=(0,o.FindComponentById)(e),y=null==b?void 0:b.GetRootProxy().GetNative();if(!y||(null===(f=null==b?void 0:b.FindElementScope(t))||void 0===f?void 0:f.IsDestroyed()))return;let{context:g=null,changes:C=null}=(null==b?void 0:b.GetBackend())||{};null==g||g.Push(l.ContextKeys.self,t),null==C||C.ResetLastAccessContext(),(0,r.PushCurrentComponent)(e),Object.entries(m||{}).forEach((([e,t])=>null==g?void 0:g.Push(e,t)));try{let t=h(y);if((0,i.GetGlobal)().IsFuture(t)&&(t=t.Get()),!d)return c?t:_(t,d,e,p);let n=e=>{"none"!==u?(0,a.WaitPromise)(e,d,"recursive"===u):d(e)};c?n(t):_(t,n,e,p)}catch(t){if(v&&t instanceof SyntaxError)throw t;(0,s.JournalError)(t,`InlineJs.Region<${e}>.RunFunction('${n}')`)}finally{Object.entries(m||{}).forEach((([e,t])=>null==g?void 0:g.Pop(e,t))),(0,r.PopCurrentComponent)(),null==g||g.Pop(l.ContextKeys.self)}},m=h(n,t,e),v=null;return m||(v=p(n,t,e)),(r,o=[],i)=>{if(!v&&m)try{return d(r,m,o||[],i||{})}catch(r){if(!(r instanceof SyntaxError))throw r;v=p(n,t,e)}return v?d(r,v,o||[],i||{},!1)||null:(r&&r(null),null)}}},1952:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitPromise=void 0,t.WaitPromise=function e(t,n,r){if(!(t instanceof Promise))return n(t);r?t.then((t=>e(t,n,!0))):t.then(n)}},5861:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseGlobal=void 0;const r=n(4510),o=n(939),i=n(3920),s=n(7919),l=n(9540),a=n(5363),c=n(1134),u=n(5419),d=n(8690),h=n(3418),p=n(4329),_=n(6759);t.BaseGlobal=class{constructor(e,t=0){this.nothing_=new h.Nothing,this.componentsMonitorList_=new Array,this.components_={},this.currentComponent_=new c.Stack,this.attributeProcessors_=new Array,this.textContentProcessors_=new Array,this.managers_={directive:new o.DirectiveManager,magic:new s.MagicManager},this.uniqueMarkers_=(0,u.GetDefaultUniqueMarkers)(),this.mutationObserver_=new l.MutationObserver,this.nativeFetch_=new _.NativeFetchConcept,this.fetchConcept_=null,this.concepts_={},this.config_=new p.Config(e||{}),this.uniqueMarkers_.level0=t||0}SwapConfig(e){this.config_=e}GetConfig(){return this.config_}GenerateUniqueId(e,t){return(0,u.GenerateUniqueId)(this.uniqueMarkers_,"",e,t)}AddComponentMonitor(e){this.componentsMonitorList_.push(e)}RemoveComponentMonitor(e){this.componentsMonitorList_=this.componentsMonitorList_.filter((t=>t!==e))}CreateComponent(e){let t=this.InferComponentFrom(e);if(t)return t;let n=new r.BaseComponent(this.GenerateUniqueId(),e);return this.components_[n.GetId()]=n,this.componentsMonitorList_.slice(0).forEach((e=>(0,i.JournalTry)((()=>e({action:"add",component:n})),"InlineJS.Global.CreateComponent"))),n}RemoveComponent(e){let t="string"==typeof e?e:e.GetId();if(this.components_.hasOwnProperty(t)){let e=this.components_[t];delete this.components_[t],this.componentsMonitorList_.slice(0).forEach((t=>(0,i.JournalTry)((()=>t({action:"remove",component:e})),"InlineJS.Global.RemoveComponent")))}}TraverseComponents(e){Object.values(this.components_).some((t=>!1===e(t)))}FindComponentById(e){return e&&e in this.components_?this.components_[e]:null}FindComponentByName(e){return e&&Object.values(this.components_).find((t=>t.GetName()===e))||null}FindComponentByRoot(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e))||null}PushCurrentComponent(e){this.currentComponent_.Push(e)}PopCurrentComponent(){return this.currentComponent_.Pop()}PeekCurrentComponent(){return this.currentComponent_.Peek()}GetCurrentComponent(){return this.FindComponentById(this.PeekCurrentComponent()||"")}InferComponentFrom(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e||t.GetRoot().contains(e)))||null}GetDirectiveManager(){return this.managers_.directive}GetMagicManager(){return this.managers_.magic}AddAttributeProcessor(e){this.attributeProcessors_.push(e)}DispatchAttributeProcessing(e){this.attributeProcessors_.forEach((t=>(0,i.JournalTry)((()=>t(e)),"InlineJS.Global.DispatchAttribute",e.contextElement)))}AddTextContentProcessor(e){this.textContentProcessors_.push(e)}DispatchTextContentProcessing(e){this.textContentProcessors_.forEach((t=>(0,i.JournalTry)((()=>t(e)),"InlineJS.Global.DispatchTextContent",e.contextElement)))}GetMutationObserver(){return this.mutationObserver_}SetFetchConcept(e){this.fetchConcept_=e}GetFetchConcept(){return this.fetchConcept_||this.nativeFetch_}SetConcept(e,t){this.concepts_[e]=t}RemoveConcept(e){delete this.concepts_[e]}GetConcept(e){return this.concepts_.hasOwnProperty(e)?this.concepts_[e]:null}CreateChildProxy(e,t,n){return new a.ChildProxy(e,t,n)}CreateFuture(e){return new d.Future(e)}IsFuture(e){return e instanceof d.Future}CreateNothing(){return this.nothing_}IsNothing(e){return e instanceof h.Nothing}}},4329:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0,t.Config=class{constructor({appName:e="",reactiveState:t="unoptimized",directivePrefix:n="x",directiveRegex:r,directiveNameBuilder:o}={}){this.keyMap_={return:"enter",ctrl:"control",esc:"escape",space:" ",menu:"contextmenu",del:"delete",ins:"insert",plus:"+",minus:"-",star:"*",slash:"/",alpha:Array.from({length:26}).map(((e,t)=>String.fromCharCode(t+97))),digit:Array.from({length:10}).map(((e,t)=>t.toString()))},this.booleanAttributes_=new Array("allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"),this.appName_=e,this.reactiveState_=t,this.directiveRegex_=r||new RegExp(`^(data-)?${n||"x"}-(.+)$`),this.directiveNameBuilder_=o||((e,t=!1)=>t?`data-${n||"x"}-${e}`:`${n||"x"}-${e}`)}GetAppName(){return this.appName_}GetDirectiveRegex(){return this.directiveRegex_}GetDirectiveName(e,t){return this.directiveNameBuilder_(e,t)}AddKeyEventMap(e,t){this.keyMap_[e]=t}RemoveKeyEventMap(e){delete this.keyMap_[e]}MapKeyEvent(e){return e in this.keyMap_?this.keyMap_[e]:e}AddBooleanAttribute(e){this.booleanAttributes_.push(e)}RemoveBooleanAttribute(e){this.booleanAttributes_=this.booleanAttributes_.filter((t=>t!==e))}IsBooleanAttribute(e){return this.booleanAttributes_.includes(e)}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return this.reactiveState_}}},690:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetOrCreateGlobal=t.CreateGlobal=t.InlineJSGlobalKey=void 0;const r=n(535),o=n(5861),i=n(581);function s(e,n=0){return(0,r.InitComponentCache)(),globalThis[t.InlineJSGlobalKey]=new o.BaseGlobal(e,n),window.dispatchEvent(new CustomEvent(i.GlobalCreatedEvent)),globalThis[t.InlineJSGlobalKey]}t.InlineJSGlobalKey="__InlineJS_GLOBAL_KEY__",t.CreateGlobal=s,t.GetOrCreateGlobal=function(e,t=0){return(0,i.GetGlobal)()||s(e,t)}},581:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitForGlobal=t.GetGlobal=t.GlobalCreatedEvent=void 0;const r=n(690);function o(){return globalThis[r.InlineJSGlobalKey]}t.GlobalCreatedEvent="inlinejs.global.created",t.GetGlobal=o,t.WaitForGlobal=function(){return o()?Promise.resolve():new Promise((e=>window.addEventListener(t.GlobalCreatedEvent,e)))}},155:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextContentInterpolator=t.AttributeInterpolator=void 0;const r=n(3401);t.AttributeInterpolator=function({componentId:e,contextElement:t,name:n,value:o}){(0,r.Interpolate)({componentId:e,contextElement:t,text:o,handler:e=>t.setAttribute(n,e)})},t.TextContentInterpolator=function({componentId:e,contextElement:t}){(0,r.Interpolate)({componentId:e,contextElement:t})}},3401:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Interpolate=t.InterpolateText=t.ReplaceText=t.GetElementContent=void 0;const o=n(535),i=n(8974),s=n(3920),l=n(9757),a=/\{\{\s*(.+?)\s*\}\}/g,c=/\{\{.+?\}\}/;function u({componentId:e,contextElement:t,text:n,handler:r}){var s;let c=(0,i.EvaluateLater)({componentId:e,contextElement:t,expression:"let output = "+JSON.stringify(n).replace(a,'"+($1)+"')+"; return output;"});null===(s=(0,o.FindComponentById)(e))||void 0===s||s.CreateElementScope(t),(0,l.UseEffect)({componentId:e,contextElement:t,callback:()=>c(r)})}function d(e){var{text:t}=e,n=r(e,["text"]);c.test(t)&&u(Object.assign({text:t},n))}t.GetElementContent=function(e){let t=e=>[...e.childNodes].reduce(((e,t)=>`${e}${3!=t.nodeType?n(t):t.textContent||""}`),""),n=e=>`${[...e.attributes].reduce(((e,t)=>`${e} ${t.name}="${t.value}"`),`<${e.tagName.toLowerCase()}`)+">"}${t(e)}</${e.tagName.toLowerCase()}>`;return t(e)},t.ReplaceText=u,t.InterpolateText=d,t.Interpolate=function({componentId:e,contextElement:t,text:n,handler:r}){if("string"==typeof n)return r&&d({componentId:e,contextElement:t,text:n,handler:r});if(!c.test(t.textContent||""))return;let o=new Array,i=new Array;[...t.childNodes].forEach((n=>{if(3==n.nodeType&&n.textContent&&c.test(n.textContent)){let r={text:n.textContent||"",evaluated:n.textContent||""};o.push(r),i.push((()=>u({componentId:e,contextElement:t,text:r.text,handler:e=>{r.evaluated=e,(()=>{for(;t.firstChild;)t.firstChild.remove();let e=null;o.forEach((n=>{let r=n instanceof Element?n:document.createTextNode("string"==typeof n?n:n.evaluated);e?t.insertBefore(r,e):t.append(r),e=r}))})()}})))}else 3==n.nodeType?o.push(n.textContent||""):o.push(n)})),o.reverse(),i.forEach((e=>(0,s.JournalTry)(e,"InlineJS.Interpolate",t)))}},6759:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeFetchConcept=void 0,t.NativeFetchConcept=class{Get(e,t){return fetch(e,t)}}},2044:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JournalError=void 0,t.JournalError=function(e,t,n){console.error({message:e,context:t||"N/A",contextElement:n||"N/A"})}},3920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JournalTry=void 0;const r=n(2044);t.JournalTry=function(e,t,n){try{return e()}catch(e){(0,r.JournalError)(e,t,n)}}},2735:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JournalWarn=void 0,t.JournalWarn=function(e,t,n){console.warn({message:e,context:t||"N/A",contextElement:n||"N/A"})}},461:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluateMagicProperty=void 0;const r=n(535),o=n(9203),i=n(581),s=n(2044),l=n(3920);t.EvaluateMagicProperty=function e(t,n,a,c="",u=!0){let d="string"==typeof t?(0,r.FindComponentById)(t):t;if(!d)return(0,s.JournalError)(`Failed to find component for '$${a}'`,"InlineJS.EvaluateMagicProperty",n),(0,i.GetGlobal)().CreateNothing();let h=(0,i.GetGlobal)().GetMagicManager().FindHandler(c&&a.startsWith(c)?a.substring(c.length):a,{contextElement:n,componentId:d.GetId(),component:d});if(!h){if(u&&c&&a.startsWith(`${c}${c}`)){let t=d.GetId();return n=>{let s=(0,o.InferComponent)(n)||(0,r.FindComponentById)(t);if(!s)return null;let l=s.FindElementScope(n),u=l&&l.GetLocal(a.substring(c.length));return l&&!(0,i.GetGlobal)().IsNothing(u)?u:e(s.GetId(),n,a,`${c}${c}`,!1)}}return(0,i.GetGlobal)().CreateNothing()}return(0,l.JournalTry)((()=>h({componentId:d.GetId(),component:d,contextElement:n})),"InlineJS.EvaluateMagicProperty",n)}},7919:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MagicManager=void 0,t.MagicManager=class{constructor(){this.handlers_={}}AddHandler(e,t,n){let r="",o=null;"function"==typeof e?(r=t||"",o=e):(r=e.GetName(),o=t=>e.Handle(t)),r&&o&&(this.handlers_[r]={callback:o,onAccess:n})}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e,t){return e in this.handlers_?(t&&this.handlers_[e].onAccess&&this.handlers_[e].onAccess(t),this.handlers_[e].callback):null}}},9540:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MutationObserver=void 0;const r=n(4307),o=n(9203),i=n(3920),s=n(5419);t.MutationObserver=class{constructor(){if(this.uniqueMarkers_=(0,s.GetDefaultUniqueMarkers)(),this.observer_=null,this.handlers_={},globalThis.MutationObserver)try{this.observer_=new globalThis.MutationObserver((e=>{let t={},n=e=>t[e]=t[e]||{added:new Array,removed:new Array,attributes:new Array};e.forEach((e=>{var t;let i=e.target instanceof HTMLElement?(0,r.GetElementScopeId)((null===(t=(0,o.InferComponent)(e.target))||void 0===t?void 0:t.GetRoot())||null):"";if(i)if("childList"===(null==e?void 0:e.type)){let t=n(i);t.added.push(...Array.from(e.addedNodes)),t.removed.push(...Array.from(e.removedNodes))}else"attributes"===(null==e?void 0:e.type)&&e.attributeName&&n(i).attributes.push({name:e.attributeName,target:e.target})})),0!=Object.keys(t).length&&Object.entries(this.handlers_).forEach((([e,n])=>{let o=n.target instanceof HTMLElement?(0,r.GetElementScopeId)(n.target):"";if(!o||!(o in t))return;let s=(e,t,n)=>!t.whitelist||t.whitelist.includes(e)?n:void 0,l=s("add",n,t[o].added),a=s("remove",n,t[o].removed),c=s("attribute",n,t[o].attributes);(l||a||c)&&(0,i.JournalTry)((()=>n.handler({id:e,added:l,removed:a,attributes:c})),"InlineJS.MutationObserver")}))})),this.observer_.observe(document,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}catch(e){this.observer_=null}}GetNative(){return this.observer_}Observe(e,t,n){let r=(0,s.GenerateUniqueId)(this.uniqueMarkers_);return this.handlers_[r]={target:e,handler:t,whitelist:n},r}Unobserve(e){"string"!=typeof e?Object.entries(this.handlers_).filter((([t,n])=>n.target===e)).forEach((([e])=>delete this.handlers_[e])):delete this.handlers_[e]}}},3052:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddChanges=void 0,t.AddChanges=function(e,t,n,r,o=!0){if(!r)return;let i={componentId:r.GetComponentId(),type:e,path:t,prop:n,origin:r.PeekOrigin()};if(r.Add(i),!o)return;let s=t.split(".");for(;s.length>2;)s.pop(),r.Add({original:i,path:s.join(".")})}},5363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProxy=void 0;const r=n(3819);class o extends r.GenericProxy{constructor(e,t,n){super(e.GetComponentId(),n,t,e)}}t.ChildProxy=o},9112:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateChildProxy=void 0;const r=n(581),o=n(6391);t.CreateChildProxy=function(e,t,n,i){if(!e)return null;let s=e.FindChild(t);if(s)return s;if(!Array.isArray(n)&&!(0,o.IsObject)(n))return null;let l=(0,r.GetGlobal)().CreateChildProxy(e,t,n);return i&&i.AddProxy(l),l}},4760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteProxyProp=void 0;const r=n(535),o=n(3052);t.DeleteProxyProp=function(e,t,n,i){var s;if(!(i in t))return!1;let l=(0,r.FindComponentById)(e);return null===(s=null==l?void 0:l.FindProxy(n))||void 0===s||s.RemoveChild(i),delete t[i],null==l||l.RemoveProxy(`${n}.${i}`),(0,o.AddChanges)("delete",n,i,null==l?void 0:l.GetBackend().changes),!0}},3819:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericProxy=void 0;const r=n(581),o=n(461),i=n(1588),s=n(4760),l=n(7817),a=n(6392);t.GenericProxy=class{constructor(e,t,n,c){this.componentId_=e,this.target_=t,this.name_=n,this.native_=null,this.children_={},this.parentPath_=(null==c?void 0:c.GetPath())||"",null==c||c.AddChild(this);let u=this.componentId_,d=this.GetPath(),h=(e,t)=>{let{context:n}=null==e?void 0:e.GetBackend(),s=null==t?void 0:t.startsWith("$");if(s){let e=n.Peek(t.substring(1),(0,r.GetGlobal)().CreateNothing());if(!(0,r.GetGlobal)().IsNothing(e))return e}let l=n.Peek(i.ContextKeys.self),a=null==e?void 0:e.FindElementLocalValue(l||e.GetRoot(),t,!0);if(!(0,r.GetGlobal)().IsNothing(a))return a;let c=s?(0,o.EvaluateMagicProperty)(e,l,t,"$"):(0,r.GetGlobal)().CreateNothing();return(0,r.GetGlobal)().IsNothing(c)&&t&&t in globalThis&&(c=globalThis[t]),c},p=!this.parentPath_,_={get:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):(0,l.GetProxyProp)(u,e,d,t.toString(),p?h:void 0),set:(e,t,n)=>"symbol"==typeof t||"prototype"===t?Reflect.set(e,t,n):(0,a.SetProxyProp)(u,e,d,t.toString(),n),deleteProperty:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):(0,s.DeleteProxyProp)(u,e,d,t.toString()),has:(e,t)=>"symbol"!=typeof t||Reflect.has(e,t)};this.native_=new window.Proxy(this.target_,_)}IsRoot(){return!this.parentPath_}GetComponentId(){return this.componentId_}GetTarget(){return this.target_}GetNative(){return this.native_}GetName(){return this.name_}GetPath(){return this.parentPath_?`${this.parentPath_}.${this.name_}`:this.name_}GetParentPath(){return this.parentPath_}AddChild(e){this.children_[e.GetName()]=e}RemoveChild(e){delete this.children_["string"==typeof e?e:e.GetName()]}FindChild(e){return this.children_.hasOwnProperty(e)?this.children_[e]:null}}},7817:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetProxyProp=void 0;const r=n(535),o=n(581),i=n(4244),s=n(9112);t.GetProxyProp=function(e,t,n,l,a){var c;if(l===i.ProxyKeys.target)return t;if(l===i.ProxyKeys.componentId)return e;if(l===i.ProxyKeys.name)return n.split(".").at(-1);if(l===i.ProxyKeys.path)return n;if(l===i.ProxyKeys.parentPath)return n.split(".").slice(0,-1).join(".")||"";let u=l in t;if(!u&&a){let t=a((0,r.FindComponentById)(e)||void 0,l);if(!(0,o.GetGlobal)().IsNothing(t))return(0,o.GetGlobal)().IsFuture(t)?t.Get():t}if(u&&!t.hasOwnProperty(l))return t[l];let d=u?t[l]:null;if((0,o.GetGlobal)().IsFuture(d))return d.Get();let h=(0,r.FindComponentById)(e);return null==h||h.GetBackend().changes.AddGetAccess(`${n}.${l}`),(null===(c=(0,s.CreateChildProxy)((null==h?void 0:h.FindProxy(n))||null,l,d,h||void 0))||void 0===c?void 0:c.GetNative())||d}},8645:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RootProxy=void 0;const r=n(3819);class o extends r.GenericProxy{constructor(e,t){super(e,t,`Proxy<${e}>`)}}t.RootProxy=o},6392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SetProxyProp=void 0;const r=n(535),o=n(3052);t.SetProxyProp=function(e,t,n,i,s){var l;if(i in t&&s===t[i])return!0;let a=(0,r.FindComponentById)(e);return null===(l=null==a?void 0:a.FindProxy(n))||void 0===l||l.RemoveChild(i),t[i]=s,null==a||a.RemoveProxy(`${n}.${i}`),(0,o.AddChanges)("set",`${n}.${i}`,i,null==a?void 0:a.GetBackend().changes),!0}},9757:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UseEffect=void 0;const r=n(535),o=n(2044),i=n(2470);t.UseEffect=function({componentId:e,callback:t,contextElement:n,options:s,subscriptionsCallback:l}){var a;let c=()=>{let s=(0,r.FindComponentById)(e);if(!s)return;let{changes:a}=s.GetBackend(),c=!1,u=n?s.FindElementScope(n):null,d=()=>{c=!0},h=null==u?void 0:u.GetElement();try{a.PushGetAccessStorage(),t({changes:[],cancel:d})}catch(t){(0,o.JournalError)(t,`InlineJS.Component<${e}>.UseEffect`,h)}if(c)return a.PopAllGetAccessStorageSnapshots(!1),a.RestoreOptimizedGetAccessStorage(),void a.PopGetAccessStorage();(0,i.SubscribeToChanges)({componentId:e,changes:a,callback:t,subscriptionsCallback:l,contextElement:h})};(null==s?void 0:s.nextTick)?null===(a=(0,r.FindComponentById)(e))||void 0===a||a.GetBackend().changes.AddNextTickHandler(c):c()}},2470:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeToChanges=void 0;const r=n(535),o=n(2044);t.SubscribeToChanges=function({componentId:e,changes:t,callback:n,subscriptionsCallback:i,contextElement:s}){var l,a,c,u;t.PopAllGetAccessStorageSnapshots(!1),t.RestoreOptimizedGetAccessStorage();let{optimized:d,raw:h}=t.PopGetAccessStorage();if(0==((null===(l=d||h)||void 0===l?void 0:l.entries.length)||0))return i&&i({}),null;let p={},_=()=>{Object.keys(p).map((e=>(0,r.FindComponentById)(e))).filter((e=>!!e)).forEach((e=>{let{changes:t}=e.GetBackend();p[e.GetId()].forEach((e=>t.Unsubscribe(e)))})),p={}},m=!1,v=()=>{m=!0},f=t=>{let i=(0,r.FindComponentById)(e);if(!i||m)return void _();let{changes:s}=i.GetBackend();s.PushOrigin(f);try{n({changes:t||[],cancel:v})}catch(t){(0,o.JournalError)(t,`InlineJS.Component<${e}>.SubscribeToChanges.OnChange`)}s.PopOrigin(),m&&_()},b={};return null===(a=d||h)||void 0===a||a.entries.forEach((e=>(b[e.path]=b[e.path]||{})[e.compnentId]=!0)),Object.entries(b).forEach((([e,t])=>{Object.keys(t).map((e=>(0,r.FindComponentById)(e))).filter((e=>!!e)).forEach((t=>{(p[t.GetId()]=p[t.GetId()]||[]).push(t.GetBackend().changes.Subscribe(e,f))}))})),s&&(null===(u=null===(c=(0,r.FindComponentById)(e))||void 0===c?void 0:c.FindElementScope(s))||void 0===u||u.AddUninitCallback((()=>{v(),_()}))),i&&i(p),_}},1134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0,t.Stack=class{constructor(e){this.list_=new Array,e&&(this.list_=e.list_.map((e=>e)))}Push(e){this.list_.push(e)}Pop(){return 0==this.list_.length?null:this.list_.pop()}Peek(){return 0==this.list_.length?null:this.list_[this.list_.length-1]}IsEmpty(){return 0==this.list_.length}}},1588:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKeys=void 0,t.ContextKeys={self:"self",event:"event",scope:"scope"}},9448:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeepCopy=void 0;const r=n(7813),o=n(6391);t.DeepCopy=function e(t){if(t=(0,r.GetTarget)(t),!Array.isArray(t)&&!(0,o.IsObject)(t))return t;if(Array.isArray(t))return t.map((t=>e(t)));let n={};return Object.entries(t).forEach((([t,r])=>n[t]=e(r))),n}},7813:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetTargets=t.GetTarget=void 0;const r=n(4244);function o(e){return(Array.isArray(e)||e&&"object"==typeof e)&&r.ProxyKeys.target in e?o(e[r.ProxyKeys.target]):e}t.GetTarget=o,t.GetTargets=function(e){return e.map((e=>o(e)))}},6391:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AreObjects=t.IsObject=void 0;const r=n(7813),o=n(4244);function i(e){return(e=(0,r.GetTarget)(e))&&"object"==typeof e&&(o.ProxyKeys.target in e||"__proto__"in e&&"Object"===e.__proto__.constructor.name)}t.IsObject=function(e){return!!i(e)},t.AreObjects=function(e){return-1==e.findIndex((e=>!i(e)))}},4244:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyKeys=void 0,t.ProxyKeys={componentId:"__InlineJS_CompnentId__",name:"__InlineJS_Name__",path:"__InlineJS_Path__",parentPath:"__InlineJS_ParentPath__",target:"__InlineJS_Target__"}},5419:(e,t)=>{function n(e,t="level0",r="level1"){e[t]==(Number.MAX_SAFE_INTEGER||9007199254740991)?("level0"===t?n(e,"level1","level2"):++e[r],e[t]=0):++e[t]}function r(e){return`${e.level2}_${e.level1}_${e.level0}`}Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateUniqueId=t.JoinUniqueMarkers=t.IncrementUniqueMarkers=t.GetDefaultUniqueMarkers=void 0,t.GetDefaultUniqueMarkers=function(){return{level0:0,level1:0,level2:0}},t.IncrementUniqueMarkers=n,t.JoinUniqueMarkers=r,t.GenerateUniqueId=function(e,t,o,i){return n(e),`${t||""}${o||""}${r(e)}${i||""}`}},8690:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Future=void 0,t.Future=class{constructor(e){this.callback_=e}Get(){return this.callback_()}}},3418:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Nothing=void 0,t.Nothing=class{}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(()=>{const e=n(4176),t=n(581),r=n(155);(0,e.AutoBootstrap)(),(0,t.GetGlobal)().AddAttributeProcessor(r.AttributeInterpolator),(0,t.GetGlobal)().AddTextContentProcessor(r.TextContentInterpolator)})()})();