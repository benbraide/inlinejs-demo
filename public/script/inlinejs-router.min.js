(()=>{"use strict";var e={992:(e,t,n)=>{n.r(t),n.d(t,{AddChanges:()=>Z,AddDirectiveExpansionRule:()=>j,AddDirectiveHandler:()=>Pt,AddMagicHandler:()=>Mt,AddOutsideEventExcept:()=>Ee,AddOutsideEventListener:()=>Ce,ApplyDirectiveExpansionRules:()=>J,AreObjects:()=>_,AttributeInterpolator:()=>bt,AutoBootstrap:()=>Et,BaseComponent:()=>Ae,BaseGlobal:()=>Oe,BeginsWith:()=>c,BindDirectiveExpansionRule:()=>Tt,BindEvent:()=>Rt,BootstrapAndAttach:()=>yt,BuildGetterProxyOptions:()=>ze,BuildIntersectionOptions:()=>It,BuildProxyOptions:()=>Be,CallIfFunction:()=>Ye,Changes:()=>de,ChildProxy:()=>we,ClassDirectiveExpansionRule:()=>Ht,Config:()=>Se,Context:()=>he,ContextKeys:()=>d,CreateChildProxy:()=>X,CreateDirective:()=>z,CreateDirectiveExpansionRule:()=>H,CreateDirectiveHandlerCallback:()=>xt,CreateGlobal:()=>Ne,CreateInplaceProxy:()=>je,CreateLoop:()=>x,CreateMagicHandlerCallback:()=>$t,CreateReadonlyProxy:()=>Le,DeepCopy:()=>g,DefaultTransitionDelay:()=>lt,DefaultTransitionDuration:()=>at,DefaultTransitionRepeats:()=>st,DeleteProxyProp:()=>Q,DirectiveManager:()=>ve,DisableProxyAction:()=>Je,DispatchDirective:()=>$,ElementScope:()=>xe,ElementScopeKey:()=>W,EndsWith:()=>b,EvaluateLater:()=>Qe,EvaluateMagicProperty:()=>Y,ExtractDuration:()=>Dt,FindComponentById:()=>O,FindComponentByName:()=>D,FindComponentByRoot:()=>N,FlattenDirective:()=>M,ForwardEvent:()=>Gt,Future:()=>i,GenerateFunctionFromString:()=>Ze,GenerateUniqueId:()=>le,GenerateValueReturningFunction:()=>Ke,GenerateVoidFunction:()=>Ve,GenericProxy:()=>ne,GetAttribute:()=>E,GetConfig:()=>T,GetDefaultUniqueMarkers:()=>ie,GetDirectiveValue:()=>kt,GetElementContent:()=>_t,GetElementScopeId:()=>K,GetGlobal:()=>$e,GetLocal:()=>rt,GetOrCreateGlobal:()=>Fe,GetProxyProp:()=>ee,GetTarget:()=>p,GetTargets:()=>m,GlobalCreatedEvent:()=>Me,IncrementUniqueMarkers:()=>oe,InferComponent:()=>V,InitComponentCache:()=>I,InitJITProxy:()=>Ue,InlineJSGlobalKey:()=>De,InsertHtml:()=>dt,Interpolate:()=>gt,IntersectionObserver:()=>Ot,IsEqual:()=>P,IsObject:()=>f,JoinPath:()=>k,JoinUniqueMarkers:()=>ae,JournalError:()=>o,JournalLog:()=>Lt,JournalTry:()=>a,JournalWarn:()=>F,LazyCheck:()=>Ft,Loop:()=>l,MagicManager:()=>Re,MutationObserver:()=>ke,NativeFetchConcept:()=>Ie,NextTick:()=>ht,Nothing:()=>s,OnDirectiveExpansionRule:()=>jt,PathToRelative:()=>A,PeekCurrentComponent:()=>ue,PeekCurrentScope:()=>ge,PopCurrentComponent:()=>ce,PopCurrentScope:()=>_e,ProcessDirectives:()=>q,ProxyKeys:()=>h,PushCurrentComponent:()=>se,PushCurrentScope:()=>fe,QueryGlobalComponent:()=>ot,RemoveDirectiveExpansionRule:()=>L,RemoveOutsideEventListener:()=>ye,ResolveKeyValue:()=>wt,ResolveOptions:()=>Nt,ResolveTransition:()=>ct,RootProxy:()=>re,Scope:()=>Ge,SetAttributeUtil:()=>w,SetProxyProp:()=>te,SplitPath:()=>R,Stack:()=>r,StreamData:()=>Xe,SubscribeToChanges:()=>tt,SupportsAttributes:()=>C,TextContentInterpolator:()=>Ct,TidyPath:()=>G,ToCamelCase:()=>u,ToString:()=>He,TraverseDirectives:()=>U,UnbindOutsideEvent:()=>Pe,UseEffect:()=>nt,WaitForGlobal:()=>Te,WaitPromise:()=>qe,WaitTransition:()=>ut,WaitWhile:()=>et});class r{constructor(e){this.list_=new Array,e&&(this.list_=e.list_.map((e=>e)))}Push(e){this.list_.push(e)}Pop(){return 0==this.list_.length?null:this.list_.pop()}Peek(){return 0==this.list_.length?null:this.list_[this.list_.length-1]}IsEmpty(){return 0==this.list_.length}}class i{constructor(e){this.callback_=e}Get(){return this.callback_()}}function o(e,t,n){console.error({message:e,context:t||"N/A",contextElement:n||"N/A"})}function a(e,t,n){try{return e()}catch(e){o(e,t,n)}}class l{constructor(e){this.whileCallbacks_=new Array,this.finalCallbacks_=new Array,e((e=>{this.whileCallbacks_.slice(0).forEach(((t,n)=>{!1===a((()=>t(e)),"InlineJS.Loop.While")&&this.whileCallbacks_.splice(n,1)}))}),(e=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0).forEach((t=>a((()=>t(e)),"InlineJS.Loop.Final")))}),(()=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0)}))}While(e){return this.whileCallbacks_.push(e),this}Final(e){return this.finalCallbacks_.push(e),this}}class s{}function c(e,t=!1){return new RegExp(`^${e}`,t?"i":void 0)}function u(e,t,n){let[r="",...i]=e.trim().split(n||"-"),o=e=>e.charAt(0).toUpperCase()+e.substring(1);return r&&(t?o(r):r)+(i||[]).map((e=>o(e))).join("")}const d={self:"self",event:"event",scope:"scope"},h={componentId:"__InlineJS_CompnentId__",name:"__InlineJS_Name__",path:"__InlineJS_Path__",parentPath:"__InlineJS_ParentPath__",target:"__InlineJS_Target__"};function p(e){return(Array.isArray(e)||e&&"object"==typeof e)&&h.target in e?p(e[h.target]):e}function m(e){return e.map((e=>p(e)))}function v(e){return(e=p(e))&&"object"==typeof e&&(h.target in e||"__proto__"in e&&"Object"===e.__proto__.constructor.name)}function f(e){return!!v(e)}function _(e){return-1==e.findIndex((e=>!v(e)))}function g(e){if(e=p(e),!Array.isArray(e)&&!f(e))return e;if(Array.isArray(e))return e.map((e=>g(e)));let t={};return Object.entries(e).forEach((([e,n])=>t[e]=g(n))),t}function b(e,t=!1){return new RegExp(`${e}$`,t?"i":void 0)}function C(e){return(e=p(e))&&"getAttribute"in e&&"setAttribute"in e}function y(e,t){return t&&C(e)?e.getAttribute(t):null}function E(e,t){for(let n of Array.isArray(t)?t:[t]){let t=y(e,n);if(t)return t}return null}function P(e,t,n=!0){let[r,i]=n?m([e,t]):[e,t];if(r===i)return!0;if(Array.isArray(r)&&Array.isArray(i))return r.length==i.length&&-1==r.findIndex(((e,t)=>!P(e,i[t],n)));if(_([r,i])){let e=Object.keys(r),t=Object.keys(i);return e.length==t.length&&-1==e.findIndex((e=>!t.includes(e)||!P(r[e],i[e],n)))}return r==i}function x(e,t=1e3,n=0,r=0){t=t||1;let i=e?Math.floor(e/t):-1,o=0,a=!1,s=-1,c=!1,u=(l,d,h,p)=>{if(c)return h();if(a)return p-s>=r&&(a=!1,s=-1,o=0),requestAnimationFrame(u.bind(null,l,d,h));if(-1==s)return s=p,requestAnimationFrame(u.bind(null,l,d,h));let m=Math.floor((p-s)/t);if(-1!=i&&m>=i){if(!n)return d({passes:i,elapsed:p-s,duration:e});l({passes:i,elapsed:p-s,duration:e,abort:()=>c=!0}),a=!0,s=p,n>0&&(n-=1)}else m!=o&&l({passes:o=m,elapsed:p-s,duration:e,abort:()=>c=!0});requestAnimationFrame(u.bind(null,l,d,h))};return new l(((e,t,n)=>{requestAnimationFrame(u.bind(null,e,t,n))}))}function G(e){return(e=e?e.trim():"")?e.replace(/[?][?&=\/]+/g,"?").replace(/[&][?&=\/]+/g,"&").replace(/[=][?=\/]+/g,"=").replace(/[\/][\/=]+/g,"/").replace(/[:]{2,}/g,":").replace(/[:][\/]([^\/])/g,"://$1").replace(/[\/?&=]+$/,"").replace(/^[\/?&=]+/,"").split(/[?&]/).reduce(((e,t,n)=>e?`${e}${n<2?"?":"&"}${t}`:t),""):""}function A(e,t,n){return(e=G(e))===t?(e=n&&n||"/").startsWith("/")?e:`/${e}`:(e.startsWith(`${t}/`)&&(e=e.substring(t.length)),/^[a-zA-Z0-9_]+:\/\//.test(e)?e:(n&&(e=e.startsWith("/")?`${n}${e}`:`${n}/${e}`),e.startsWith("/")?e:`/${e}`))}function R(e,t,n){let r=(e=t?A(e,t,n):e).indexOf("?");return{base:-1==r?e:e.substring(0,r),query:-1==r?"":e.substring(r+1)}}function k({base:e,query:t},n,r,i){let o=`${G(e)}?${t}`;return o=n?A(o,n,r):G(o),o=i?G(`${n}/${o}`):o.startsWith("/")||/^[a-zA-Z0-9_]+:\/\//.test(o)?o:`/${o}`,o}function w(e,t,n){t&&C(e)&&e.setAttribute(t,n)}const S="InlineJS_Comp_Cache";function I(){return globalThis[S]={id:"",component:null}}function O(e){let t=globalThis[S]=globalThis[S]||I();return e===t.id||(t.component=$e().FindComponentById(e),t.id=t.component?e:""),t.component}function D(e){return $e().FindComponentByName(e)}function N(e){return $e().FindComponentByRoot(e)}function F(e,t,n){console.warn({message:e,context:t||"N/A",contextElement:n||"N/A"})}function M(e){return{originalView:e.meta.view.original,expandedView:e.meta.view.expanded,nameValue:e.meta.name.value,nameJoined:e.meta.name.joined,nameParts:e.meta.name.parts,argKey:e.meta.arg.key,argOptions:e.meta.arg.options,expression:e.value}}function $(e,t,n,r=0){let i="string"==typeof e?O(e):e;if(!i)return o(`Failed to find component for '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1;let l=null,s=i.FindElementScope(t);if(s&&(l=s.GetDirectiveManager().FindHandler(n.meta.name.joined),++r),l=l||$e().GetDirectiveManager().FindHandler(n.meta.name.joined),!l){let e=`${n.meta.name.parts.reduce(((e,t)=>e?`${e}${t.substring(0,1).toUpperCase()}${t.substring(1)}`:t),"")}DirectiveHandler`;e in globalThis&&"function"==typeof globalThis[e]&&(l=globalThis[e])}return l?(0!=r||s||i.CreateElementScope(t),a((()=>{l(Object.assign(Object.assign({},M(n)),{componentId:i.GetId(),component:i,contextElement:t}))}),"InlineJS.DispatchDirective",t),!0):(F(`No handler found '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1)}function T(){return $e().GetConfig()}function H(e,t){return n=>-1==n.search(e)?null:n.replace(e,t)}function j(e){return $e().GetDirectiveManager().AddExpansionRule(e)}function L(e){$e().GetDirectiveManager().RemoveExpansionRule(e)}function J(e){return $e().GetDirectiveManager().Expand(e)}let B={};function z(e,t){if(!e||!(e=e.trim()))return null;if((t=t.trim())===e&&(t=""),e in B)return{meta:B[e],value:t};let n=J(e),r=n.match(T().GetDirectiveRegex());if(!r||3!=r.length||!r[2])return null;let i=r[2].indexOf(":"),o=-1==i?[r[2]]:[r[2].substring(0,i),r[2].substring(i+1)],a="",l="";o.length>1?[a,l]=o:[l]=o;let s=l.split("."),c="";a?c=s[0]:a=s[0],s.splice(0,1);let u=a.split("-"),d={view:{original:e,expanded:n},name:{value:a,joined:u.join("."),parts:u},arg:{key:c,options:s||[]}};return B[e]=d,{meta:d,value:t}}function U({element:e,callback:t,attributeCallback:n}){Array.from(e.attributes||[]).forEach((r=>{try{n&&n(r.name,r.value||"");let e=z(r.name,r.value||"");e&&t(e)}catch(t){o(t,"InlineJS.TraverseDirectives",e)}}))}function q({component:e,element:t,options:n={}}){var r;if(!function(e,{checkTemplate:t=!0,checkDocument:n=!0}){return 1===(null==e?void 0:e.nodeType)&&(!n||document.contains(e))&&(!t||e instanceof HTMLTemplateElement||!e.closest("template"))}(t,n))return;let i="string"==typeof e?O(e):e;if(!i)return o("Failed to find component.","InlineJS.ProcessDirectives",t),!1;let a=0;U({element:t,callback:n=>{$(e,t,n,a)&&(t.removeAttribute(n.meta.view.original),++a)},attributeCallback:(e,n)=>$e().DispatchAttributeProcessing({name:e,value:n,componentId:i.GetId(),component:i,contextElement:t})}),$e().DispatchTextContentProcessing({componentId:i.GetId(),component:i,contextElement:t}),n.ignoreChildren||t instanceof HTMLTemplateElement||(null==i||i.PushSelectionScope(),Array.from(t.children).forEach((t=>q({component:e,options:n,element:t}))),null==i||i.PopSelectionScope()),null===(r=null==i?void 0:i.CreateElementScope(t))||void 0===r||r.ExecutePostProcessCallbacks()}const W="__InlineJS_ELSCOPE_KEY__";function K(e){let t="";for(;e;){if(t=W in(n=e)&&n[W],t||e===document.body)return t||"";e=e.parentElement}var n;return""}function V(e){let t=K(e).match(/^Cmpnt\<([0-9_]+)\>/);return t?O(t[1]):null}function Y(e,t,n,r="",i=!0){let l="string"==typeof e?O(e):e;if(!l)return o(`Failed to find component for '$${n}'`,"InlineJS.EvaluateMagicProperty",t),$e().CreateNothing();let s=$e().GetMagicManager().FindHandler(r&&n.startsWith(r)?n.substring(r.length):n,{contextElement:t,componentId:l.GetId(),component:l});if(!s){if(i&&r&&n.startsWith(`${r}${r}`)){let e=l.GetId();return t=>{let i=V(t)||O(e);if(!i)return null;let o=i.FindElementScope(t),a=o&&o.GetLocal(n.substring(r.length));return o&&!$e().IsNothing(a)?a:Y(i.GetId(),t,n,`${r}${r}`,!1)}}return $e().CreateNothing()}return a((()=>s({componentId:l.GetId(),component:l,contextElement:t})),"InlineJS.EvaluateMagicProperty",t)}function Z(e,t,n,r,i=!0){if(!r)return;let o={componentId:r.GetComponentId(),type:e,path:t,prop:n,origin:r.PeekOrigin()};if(r.Add(o),!i)return;let a=t.split(".");for(;a.length>2;)a.pop(),r.Add({original:o,path:a.join(".")})}function Q(e,t,n,r){var i;if(!(r in t))return!1;let o=O(e);return null===(i=null==o?void 0:o.FindProxy(n))||void 0===i||i.RemoveChild(r),delete t[r],null==o||o.RemoveProxy(`${n}.${r}`),Z("delete",n,r,null==o?void 0:o.GetBackend().changes),!0}function X(e,t,n,r){if(!e)return null;let i=e.FindChild(t);if(i)return i;if(!Array.isArray(n)&&!f(n))return null;let o=$e().CreateChildProxy(e,t,n);return r&&r.AddProxy(o),o}function ee(e,t,n,r,i){var o;if(r===h.target)return t;if(r===h.componentId)return e;if(r===h.name)return n.split(".").at(-1);if(r===h.path)return n;if(r===h.parentPath)return n.split(".").slice(0,-1).join(".")||"";let a=r in t;if(!a&&i){let t=i(O(e)||void 0,r);if(!$e().IsNothing(t))return $e().IsFuture(t)?t.Get():t}if(a&&!t.hasOwnProperty(r))return t[r];let l=a?t[r]:null;if($e().IsFuture(l))return l.Get();let s=O(e);return null==s||s.GetBackend().changes.AddGetAccess(`${n}.${r}`),(null===(o=X((null==s?void 0:s.FindProxy(n))||null,r,l,s||void 0))||void 0===o?void 0:o.GetNative())||l}function te(e,t,n,r,i){var o;if(r in t&&i===t[r])return!0;let a=O(e);return null===(o=null==a?void 0:a.FindProxy(n))||void 0===o||o.RemoveChild(r),t[r]=i,null==a||a.RemoveProxy(`${n}.${r}`),Z("set",`${n}.${r}`,r,null==a?void 0:a.GetBackend().changes),!0}class ne{constructor(e,t,n,r){this.componentId_=e,this.target_=t,this.name_=n,this.native_=null,this.children_={},this.parentPath_=(null==r?void 0:r.GetPath())||"",null==r||r.AddChild(this);let i=this.componentId_,o=this.GetPath(),a=(e,t)=>{let{context:n}=null==e?void 0:e.GetBackend(),r=null==t?void 0:t.startsWith("$");if(r){let e=n.Peek(t.substring(1),$e().CreateNothing());if(!$e().IsNothing(e))return e}let i=n.Peek(d.self),o=null==e?void 0:e.FindElementLocalValue(i||e.GetRoot(),t,!0);if(!$e().IsNothing(o))return o;let a=r?Y(e,i,t,"$"):$e().CreateNothing();return $e().IsNothing(a)&&t&&t in globalThis&&(a=globalThis[t]),a},l=!this.parentPath_,s={get:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):ee(i,e,o,t.toString(),l?a:void 0),set:(e,t,n)=>"symbol"==typeof t||"prototype"===t?Reflect.set(e,t,n):te(i,e,o,t.toString(),n),deleteProperty:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):Q(i,e,o,t.toString()),has:(e,t)=>"symbol"!=typeof t||Reflect.has(e,t)};this.native_=new window.Proxy(this.target_,s)}IsRoot(){return!this.parentPath_}GetComponentId(){return this.componentId_}GetTarget(){return this.target_}GetNative(){return this.native_}GetName(){return this.name_}GetPath(){return this.parentPath_?`${this.parentPath_}.${this.name_}`:this.name_}GetParentPath(){return this.parentPath_}AddChild(e){this.children_[e.GetName()]=e}RemoveChild(e){delete this.children_["string"==typeof e?e:e.GetName()]}FindChild(e){return this.children_.hasOwnProperty(e)?this.children_[e]:null}}class re extends ne{constructor(e,t){super(e,t,`Proxy<${e}>`)}}function ie(){return{level0:0,level1:0,level2:0}}function oe(e,t="level0",n="level1"){e[t]==(Number.MAX_SAFE_INTEGER||9007199254740991)?("level0"===t?oe(e,"level1","level2"):++e[n],e[t]=0):++e[t]}function ae(e){return`${e.level2}_${e.level1}_${e.level0}`}function le(e,t,n,r){return oe(e),`${t||""}${n||""}${ae(e)}${r||""}`}function se(e){$e().PushCurrentComponent(e)}function ce(){return $e().PopCurrentComponent()}function ue(){return $e().PeekCurrentComponent()}class de{constructor(e){this.componentId_=e,this.nextTickHandlers_=new Array,this.isScheduled_=!1,this.list_=new Array,this.subscribers_={},this.lastAccessContext_="",this.getAccessStorages_=new r,this.origins_=new r}GetComponentId(){return this.componentId_}AddNextTickHandler(e){this.nextTickHandlers_.push(e)}Schedule(){this.isScheduled_||(this.isScheduled_=!0,queueMicrotask((()=>{this.isScheduled_=!1;let e=new Array;this.list_.splice(0).forEach((t=>{Object.values(this.subscribers_).filter((e=>e.path===t.path&&e.callback!==(e=>"original"in e?e.original.origin:e.origin)(t))).forEach((n=>((t,n)=>{let r=e.find((e=>e.callback===n));r?r.changes.push(t):e.push({callback:n,changes:new Array(t)})})(t,n.callback)))})),e.forEach((e=>e.callback(e.changes))),this.nextTickHandlers_.splice(0).forEach((e=>{try{e()}catch(e){o(e,`InlineJs.Region<${this.componentId_}>.NextTick`)}}))})))}Add(e){this.list_.push(e),this.Schedule()}AddComposed(e,t,n){let r={componentId:this.componentId_,type:"set",path:t?`${t}.${e}`:e,prop:e,origin:this.origins_.Peek()};n?this.Add({original:r,path:n}):this.Add(r)}GetLastChange(e=0){return g(this.list_.at(-(e+1))||null)}AddGetAccess(e){var t,n,r,i;let o=(null===(t=O(ue()||""))||void 0===t?void 0:t.GetBackend().changes)||this,a=e.lastIndexOf(".");this.lastAccessContext_=-1==a?"":e.substring(0,a);let l=o.getAccessStorages_.Peek();(null==l?void 0:l.details)&&(null===(n=l.details.raw)||void 0===n||n.entries.push({compnentId:this.componentId_,path:e}),l.details.optimized&&l.details.optimized.entries!==(null===(r=l.details.raw)||void 0===r?void 0:r.entries)&&0!=l.details.optimized.entries.length&&l.lastAccessPath&&l.lastAccessPath.length<e.length&&0==e.indexOf(`${l.lastAccessPath}.`)?l.details.optimized.entries.at(-1).path=e:l.details.optimized&&l.details.optimized.entries!==(null===(i=l.details.raw)||void 0===i?void 0:i.entries)&&l.details.optimized.entries.push({compnentId:this.componentId_,path:e}),l.lastAccessPath=e)}GetLastAccessContext(){return this.lastAccessContext_}ResetLastAccessContext(){this.lastAccessContext_=""}PushGetAccessStorage(e){var t;this.getAccessStorages_.Push({details:e||{optimized:"optimized"===(null===(t=O(this.componentId_))||void 0===t?void 0:t.GetReactiveState())?{entries:new Array,snapshots:new r}:void 0,raw:{entries:new Array,snapshots:new r}},lastAccessPath:""})}PopGetAccessStorage(){var e;return(null===(e=this.getAccessStorages_.Pop())||void 0===e?void 0:e.details)||null}SwapOptimizedGetAccessStorage(){let e=this.getAccessStorages_.Peek();(null==e?void 0:e.details.optimized)&&e.details.raw&&(e.details.optimized.entries=e.details.raw.entries)}RestoreOptimizedGetAccessStorage(){var e;let t=this.getAccessStorages_.Peek();(null==t?void 0:t.details.optimized)&&t.details.optimized.entries===(null===(e=t.details.raw)||void 0===e?void 0:e.entries)&&(t.details.optimized.entries=t.details.raw.entries.slice(0))}FlushRawGetAccessStorage(){var e,t;null===(t=null===(e=this.getAccessStorages_.Peek())||void 0===e?void 0:e.details.raw)||void 0===t||t.entries.splice(0)}PushGetAccessStorageSnapshot(){var e,t;let n=this.getAccessStorages_.Peek();null===(e=null==n?void 0:n.details.optimized)||void 0===e||e.snapshots.Push(n.details.optimized.entries.slice(0).map((e=>Object.assign({},e)))),null===(t=null==n?void 0:n.details.raw)||void 0===t||t.snapshots.Push(n.details.raw.entries.slice(0).map((e=>Object.assign({},e))))}PopGetAccessStorageSnapshot(e){var t,n,r,i;let o=this.getAccessStorages_.Peek(),a=null===(t=null==o?void 0:o.details.optimized)||void 0===t?void 0:t.snapshots.Pop();!e&&a&&(null===(n=null==o?void 0:o.details.optimized)||void 0===n?void 0:n.entries)&&(o.details.optimized.entries=a);let l=null===(r=null==o?void 0:o.details.raw)||void 0===r?void 0:r.snapshots.Pop();!e&&l&&(null===(i=null==o?void 0:o.details.raw)||void 0===i?void 0:i.entries)&&(o.details.raw.entries=l)}PopAllGetAccessStorageSnapshots(e){var t,n,r,i,o,a;let l=this.getAccessStorages_.Peek(),s=null===(t=null==l?void 0:l.details.optimized)||void 0===t?void 0:t.snapshots.Pop();for(;(null===(n=null==l?void 0:l.details.optimized)||void 0===n?void 0:n.snapshots)&&!l.details.optimized.snapshots.IsEmpty();)s=l.details.optimized.snapshots.Pop();!e&&s&&(null===(r=null==l?void 0:l.details.optimized)||void 0===r?void 0:r.entries)&&(l.details.optimized.entries=s);let c=null===(i=null==l?void 0:l.details.raw)||void 0===i?void 0:i.snapshots.Pop();for(;(null===(o=null==l?void 0:l.details.raw)||void 0===o?void 0:o.snapshots)&&!l.details.raw.snapshots.IsEmpty();)c=l.details.raw.snapshots.Pop();!e&&c&&(null===(a=null==l?void 0:l.details.raw)||void 0===a?void 0:a.entries)&&(l.details.raw.entries=c)}PushOrigin(e){this.origins_.Push(e)}PeekOrigin(){return this.origins_.Peek()}PopOrigin(){return this.origins_.Pop()}Subscribe(e,t){var n;let r=null===(n=O(this.componentId_))||void 0===n?void 0:n.GenerateUniqueId("sub_");return r&&(this.subscribers_[r]={path:e,callback:t}),r||""}Unsubscribe(e,t){"string"!=typeof e?Object.entries(this.subscribers_).filter((([n,r])=>e===r.callback&&(!t||t===r.path))).map((([e])=>e)).forEach((e=>{this.Unsubscribe_(e)})):e in this.subscribers_&&this.Unsubscribe_(e)}Unsubscribe_(e){delete this.subscribers_[e]}}class he{constructor(){this.record_={}}Push(e,t){(this.record_[e]=this.record_[e]||new r).Push(t)}Pop(e,t){return e in this.record_?this.record_[e].Pop():t||null}Peek(e,t){return e in this.record_?this.record_[e].Peek():t||null}Get(e){return e in this.record_?this.record_[e]:null}}function pe(e,t,n){let r="function"==typeof e?function(e){return{handler(t){var{argKey:n}=t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["argKey"]);this.extensions.hasOwnProperty(n)?this.extensions[n](Object.assign({argKey:n},r)):e(Object.assign({argKey:n},r))},extensions:{}}}(e):e;return r.extensions[t]=n,r}function me(e,t){let n="",r=null;return"function"==typeof e?(n=t||"",r=e):(n=e.GetName(),r=t=>e.Handle(t)),{computedName:n,callback:r}}class ve{constructor(){this.expansionRules_={},this.handlers_={}}AddExpansionRule(e){let t=$e().GenerateUniqueId("exrule_");return this.expansionRules_[t]=e,t}RemoveExpansionRule(e){e in this.expansionRules_&&delete this.expansionRules_[e]}Expand(e){if(!(e=e.trim()))return e;for(let t in this.expansionRules_){let n=this.expansionRules_[t](e);if(n)return n}return e}AddHandler(e,t){let{computedName:n,callback:r}=me(e,t);n&&r&&(this.handlers_[n]=r)}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e){if(!this.handlers_.hasOwnProperty(e))return null;let t=this.handlers_[e];return"function"==typeof t?t:t.handler.bind(t)}AddHandlerExtension(e,t,n){let r=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;if(!r)return;let{computedName:i,callback:o}=me(t,n);i&&o&&(this.handlers_[e]=pe(r,i,o))}RemoveHandlerExtension(e,t){let n=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;n&&function(e,t){"function"!=typeof e&&e.extensions.hasOwnProperty(t)&&delete e.extensions[t]}(n,t)}}function fe(e,t){var n;null===(n="string"==typeof e?O(e):e)||void 0===n||n.PushCurrentScope(t)}function _e(e){var t;return(null===(t="string"==typeof e?O(e):e)||void 0===t?void 0:t.PopCurrentScope())||null}function ge(e){var t;return(null===(t="string"==typeof e?O(e):e)||void 0===t?void 0:t.PeekCurrentScope())||null}function be(){return globalThis.InlineJS_OutsideEvent=globalThis.InlineJS_OutsideEvent||{targetScopes:new Array,eventCallbacks:{}}}function Ce(e,t,n){let r=be(),i=r.targetScopes.find((t=>t.target===e));i||(i={target:e,listeners:{}},r.targetScopes.push(i)),(Array.isArray(t)?t:[t]).forEach((e=>{e in i.listeners||(i.listeners[e]={handlers:new Array,excepts:null}),i.listeners[e].handlers.push({callback:n,excepts:null}),e in r.eventCallbacks||(r.eventCallbacks[e]=e=>{r.targetScopes.forEach((t=>{e.type in t.listeners&&t.target!==e.target&&!t.target.contains(e.target)&&-1==(t.listeners[e.type].excepts||[]).findIndex((t=>t===e.target||t.contains(e.target)))&&t.listeners[e.type].handlers.filter((t=>-1==(t.excepts||[]).findIndex((t=>t===e.target||t.contains(e.target))))).forEach((t=>a((()=>t.callback(e)),"InlineJS.OutsideEventListener")))}))},window.addEventListener(e,r.eventCallbacks[e]))}))}function ye(e,t,n){let r=be().targetScopes.find((t=>t.target===e));r&&(Array.isArray(t)?t:[t]).forEach((e=>{e in r.listeners&&(n?r.listeners[e].handlers=r.listeners[e].handlers.filter((e=>e.callback!==n)):delete r.listeners[e])}))}function Ee(e,t,n){let r=be().targetScopes.find((t=>t.target===e));r&&Object.keys(t).forEach((e=>{if(e in r.listeners)if(n){let i=r.listeners[e].handlers.find((e=>e.callback===n));i&&(i.excepts=i.excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((e=>{i.excepts.push(e)})))}else r.listeners[e].excepts=r.listeners[e].excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((t=>{r.listeners[e].excepts.push(t)}))}))}function Pe(e){be().targetScopes=be().targetScopes.filter((t=>t.target!==e&&e.contains(t.target)))}class xe{constructor(e,t,n,r){this.componentId_=e,this.id_=t,this.element_=n,this.isRoot_=r,this.scopeId_="",this.key_="",this.locals_={},this.data_={},this.managers_={directive:null},this.callbacks_={post:new Array,uninit:new Array,treeChange:new Array,attributeChange:new Array},this.state_={isMarked:!1,isDestroyed:!1},this.scopeId_=ge(this.componentId_)||""}GetComponentId(){return this.componentId_}GetScopeId(){return this.scopeId_}GetId(){return this.id_}SetKey(e){this.key_=e}GetKey(){return this.key_}GetElement(){return this.element_}IsRoot(){return this.isRoot_}SetLocal(e,t){this.state_.isMarked||(this.locals_[e]=t)}DeleteLocal(e){delete this.locals_[e]}HasLocal(e){return e in this.locals_}GetLocal(e){return e in this.locals_?this.locals_[e]:$e().CreateNothing()}GetLocals(){return this.locals_}SetData(e,t){this.state_.isMarked||(this.data_[e]=t)}GetData(e){return e in this.data_?this.data_[e]:$e().CreateNothing()}AddPostProcessCallback(e){this.state_.isMarked||this.callbacks_.post.push(e)}ExecutePostProcessCallbacks(){(this.callbacks_.post||[]).forEach((e=>a(e,"ElementScope.ExecutePostProcessCallbacks")))}AddUninitCallback(e){this.state_.isMarked||this.callbacks_.uninit.push(e)}RemoveUninitCallback(e){this.callbacks_.uninit=this.callbacks_.uninit.filter((t=>t!==e))}AddTreeChangeCallback(e){this.callbacks_.treeChange.push(e)}RemoveTreeChangeCallback(e){this.callbacks_.treeChange=this.callbacks_.treeChange.filter((t=>t!==e))}ExecuteTreeChangeCallbacks(e,t){this.callbacks_.treeChange.forEach((n=>a((()=>n({added:e,removed:t})))))}AddAttributeChangeCallback(e,t){if(this.state_.isMarked)return;let n=this.callbacks_.attributeChange.find((t=>t.callback===e));n?n.whitelist.push(...t||[]):this.callbacks_.attributeChange.push({callback:e,whitelist:"string"==typeof t?[t]:t||[]})}RemoveAttributeChangeCallback(e,t){let n=this.callbacks_.attributeChange.findIndex((t=>t.callback===e));if(-1==n)return;let r="string"==typeof t?[t]:t||[];0!=r.length&&0!=this.callbacks_.attributeChange[n].whitelist.length?r.forEach((e=>{this.callbacks_.attributeChange[n].whitelist=this.callbacks_.attributeChange[n].whitelist.filter((t=>t!==e))})):this.callbacks_.attributeChange[n].whitelist.splice(0),0==this.callbacks_.attributeChange[n].whitelist.length&&this.callbacks_.attributeChange.splice(n,1)}ExecuteAttributeChangeCallbacks(e){(this.callbacks_.attributeChange||[]).filter((t=>0==(t.whitelist||[]).length||t.whitelist.includes(e))).forEach((t=>a((()=>t.callback(e)))))}Destroy(e){if(this.state_.isDestroyed)return;if(this.state_.isMarked=!0,!(this.element_ instanceof HTMLTemplateElement)&&"svg"!==this.element_.tagName.toLowerCase()){let t=O(this.componentId_);t&&this.DestroyChildren_(t,this.element_,e||!1)}if(e)return;this.callbacks_.uninit.splice(0).forEach((e=>{try{e()}catch(e){}})),this.callbacks_.post.splice(0),this.callbacks_.treeChange.splice(0),this.callbacks_.attributeChange.splice(0),this.data_={},this.locals_={},this.state_.isDestroyed=!0,Pe(this.element_),$e().GetMutationObserver().Unobserve(this.element_);let t=O(this.componentId_);if(null==t||t.RemoveElementScope(this.id_),delete this.element_[W],this.isRoot_){let e=this.componentId_;null==t||t.GetBackend().changes.AddNextTickHandler((()=>$e().RemoveComponent(e)))}}IsMarked(){return this.state_.isMarked}IsDestroyed(){return this.state_.isDestroyed}GetDirectiveManager(){return this.managers_.directive=this.managers_.directive||new ve}DestroyChildren_(e,t,n){Array.from(t.children).forEach((t=>{let r=e.FindElementScope(t);r?r.Destroy(n):this.DestroyChildren_(e,t,n)}))}}class Ge{constructor(e,t,n){this.componentId_=e,this.id_=t,this.root_=n,this.name_=""}GetComponentId(){return this.componentId_}GetId(){return this.id_}SetName(e){this.name_=e}GetName(){return this.name_}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}}class Ae{constructor(e,t){this.id_=e,this.root_=t,this.reactiveState_="default",this.name_="",this.context_=new he,this.scopes_={},this.elementScopes_={},this.proxies_={},this.refs_={},this.currentScope_=new r,this.selectionScopes_=new r,this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observers_={intersections:{}},this.changes_=new de(this.id_),this.rootProxy_=new re(this.id_,{}),this.proxies_[this.rootProxy_.GetPath()]=this.rootProxy_,this.CreateElementScope(this.root_),$e().GetMutationObserver().Observe(this.root_,(({added:t,removed:n,attributes:r})=>{let i=O(e);if(!i)return;let o=new Array,a=$e().GetConfig().GetDirectiveRegex();null==r||r.filter((e=>e.target instanceof HTMLElement)).forEach((e=>{var t;a.test(e.name)?e.target.hasAttribute(e.name)&&!o.includes(e.target)&&o.push(e.target):null===(t=null==i?void 0:i.FindElementScope(e.target))||void 0===t||t.ExecuteAttributeChangeCallbacks(e.name)})),o.forEach((e=>q({element:e,component:i,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})));let l=[...t||[]];null==t||t.filter((e=>!(null==n?void 0:n.includes(e)))).forEach((e=>{var t;if(e instanceof HTMLElement){q({component:i,element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}});for(let n=e.parentElement;n&&(null===(t=null==i?void 0:i.FindElementScope(n))||void 0===t||t.ExecuteTreeChangeCallbacks([e],[]),n!==this.root_);n=n.parentElement);}})),null==n||n.filter((e=>!l.includes(e))).forEach((e=>{var t;e instanceof HTMLElement&&(null===(t=i.FindElementScope(e))||void 0===t||t.Destroy())}))}),["add","remove","attribute"])}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return"default"===this.reactiveState_?T().GetReactiveState():this.reactiveState_}GetId(){return this.id_}GenerateUniqueId(e,t){return le(this.uniqueMarkers_,`Cmpnt<${this.id_}>.`,e,t)}SetName(e){this.name_=e}GetName(){return this.name_}CreateScope(e){let t=Object.values(this.scopes_).find((t=>t.GetRoot()===e));if(t)return t;if(e===this.root_||!this.root_.contains(e))return null;let n=new Ge(this.id_,this.GenerateUniqueId("scope_"),e);return this.scopes_[n.GetId()]=n,n}RemoveScope(e){let t="string"==typeof e?e:e.GetId();t in this.scopes_&&delete this.scopes_[t]}FindScopeById(e){return e in this.scopes_?this.scopes_[e]:null}FindScopeByName(e){return Object.values(this.scopes_).find((t=>t.GetName()===e))||null}FindScopeByRoot(e){return Object.values(this.scopes_).find((t=>t.GetRoot()===e))||null}PushCurrentScope(e){this.currentScope_.Push(e)}PopCurrentScope(){return this.currentScope_.Pop()}PeekCurrentScope(){return this.currentScope_.Peek()}InferScopeFrom(e){var t;return this.FindScopeById((null===(t=this.FindElementScope(K(e)))||void 0===t?void 0:t.GetScopeId())||"")||null}PushSelectionScope(){let e={set:!1};return this.selectionScopes_.Push(e),e}PopSelectionScope(){return this.selectionScopes_.Pop()}PeekSelectionScope(){return this.selectionScopes_.Peek()}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}CreateElementScope(e){let t=Object.values(this.elementScopes_).find((t=>t.GetElement()===e));if(t)return t;if(e!==this.root_&&!this.root_.contains(e))return null;let n=new xe(this.id_,this.GenerateUniqueId("elscope_"),e,e===this.root_);return this.elementScopes_[n.GetId()]=n,e[W]=n.GetId(),n}RemoveElementScope(e){delete this.elementScopes_[e]}FindElementScope(e){if("string"==typeof e)return e in this.elementScopes_?this.elementScopes_[e]:null;let t=!0===e?this.context_.Peek(d.self):e instanceof Node?e:this.root_;return t&&W in t&&t[W]in this.elementScopes_?this.elementScopes_[t[W]]:null}FindElementLocalValue(e,t,n){let r=this.FindElementScope(e),i=r?r.GetLocal(t):$e().CreateNothing();if(!$e().IsNothing(i)||!n||!r&&"string"==typeof e)return i;let o=(null==r?void 0:r.GetElement())||(!0===e?this.context_.Peek(d.self):e instanceof Node?e:this.root_);if(!o)return i;let a=this.FindAncestor(o);return a?this.FindElementLocalValue(a,t,!0):i}AddProxy(e){this.proxies_[e.GetPath()]=e}RemoveProxy(e){let t="string"==typeof e?e:e.GetPath();t in this.proxies_&&delete this.proxies_[t]}GetRootProxy(){return this.rootProxy_}FindProxy(e){return e in this.proxies_?this.proxies_[e]:null}AddRefElement(e,t){this.refs_[e]=t}FindRefElement(e){return e in this.refs_?this.refs_[e]:null}AddIntersectionObserver(e){this.observers_.intersections[e.GetId()]=e}FindIntersectionObserver(e){return e in this.observers_.intersections?this.observers_.intersections[e]:null}RemoveIntersectionObserver(e){e in this.observers_.intersections&&delete this.observers_.intersections[e]}GetBackend(){return{context:this.context_,changes:this.changes_}}GetGlobal(){return $e()}}class Re{constructor(){this.handlers_={}}AddHandler(e,t,n){let r="",i=null;"function"==typeof e?(r=t||"",i=e):(r=e.GetName(),i=t=>e.Handle(t)),r&&i&&(this.handlers_[r]={callback:i,onAccess:n})}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e,t){return e in this.handlers_?(t&&this.handlers_[e].onAccess&&this.handlers_[e].onAccess(t),this.handlers_[e].callback):null}}class ke{constructor(){if(this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observer_=null,this.handlers_={},globalThis.MutationObserver)try{this.observer_=new globalThis.MutationObserver((e=>{let t={},n=e=>t[e]=t[e]||{added:new Array,removed:new Array,attributes:new Array};e.forEach((e=>{var t;let r=e.target instanceof HTMLElement?K((null===(t=V(e.target))||void 0===t?void 0:t.GetRoot())||null):"";if(r)if("childList"===(null==e?void 0:e.type)){let t=n(r);t.added.push(...Array.from(e.addedNodes)),t.removed.push(...Array.from(e.removedNodes))}else"attributes"===(null==e?void 0:e.type)&&e.attributeName&&n(r).attributes.push({name:e.attributeName,target:e.target})})),0!=Object.keys(t).length&&Object.entries(this.handlers_).forEach((([e,n])=>{let r=n.target instanceof HTMLElement?K(n.target):"";if(!r||!(r in t))return;let i=(e,t,n)=>!t.whitelist||t.whitelist.includes(e)?n:void 0,o=i("add",n,t[r].added),l=i("remove",n,t[r].removed),s=i("attribute",n,t[r].attributes);(o||l||s)&&a((()=>n.handler({id:e,added:o,removed:l,attributes:s})),"InlineJS.MutationObserver")}))})),this.observer_.observe(document,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}catch(e){this.observer_=null}}GetNative(){return this.observer_}Observe(e,t,n){let r=le(this.uniqueMarkers_);return this.handlers_[r]={target:e,handler:t,whitelist:n},r}Unobserve(e){"string"!=typeof e?Object.entries(this.handlers_).filter((([t,n])=>n.target===e)).forEach((([e])=>delete this.handlers_[e])):delete this.handlers_[e]}}class we extends ne{constructor(e,t,n){super(e.GetComponentId(),n,t,e)}}class Se{constructor({appName:e="",reactiveState:t="unoptimized",directivePrefix:n="x",directiveRegex:r,directiveNameBuilder:i}={}){this.keyMap_={return:"enter",ctrl:"control",esc:"escape",space:" ",menu:"contextmenu",del:"delete",ins:"insert",plus:"+",minus:"-",star:"*",slash:"/",alpha:Array.from({length:26}).map(((e,t)=>String.fromCharCode(t+97))),digit:Array.from({length:10}).map(((e,t)=>t.toString()))},this.booleanAttributes_=new Array("allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"),this.appName_=e,this.reactiveState_=t,this.directiveRegex_=r||new RegExp(`^(data-)?${n||"x"}-(.+)$`),this.directiveNameBuilder_=i||((e,t=!1)=>t?`data-${n||"x"}-${e}`:`${n||"x"}-${e}`)}GetAppName(){return this.appName_}GetDirectiveRegex(){return this.directiveRegex_}GetDirectiveName(e,t){return this.directiveNameBuilder_(e,t)}AddKeyEventMap(e,t){this.keyMap_[e]=t}RemoveKeyEventMap(e){delete this.keyMap_[e]}MapKeyEvent(e){return e in this.keyMap_?this.keyMap_[e]:e}AddBooleanAttribute(e){this.booleanAttributes_.push(e)}RemoveBooleanAttribute(e){this.booleanAttributes_=this.booleanAttributes_.filter((t=>t!==e))}IsBooleanAttribute(e){return this.booleanAttributes_.includes(e)}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return this.reactiveState_}}class Ie{Get(e,t){return fetch(e,t)}}class Oe{constructor(e,t=0){this.nothing_=new s,this.componentsMonitorList_=new Array,this.components_={},this.currentComponent_=new r,this.attributeProcessors_=new Array,this.textContentProcessors_=new Array,this.managers_={directive:new ve,magic:new Re},this.uniqueMarkers_={level0:0,level1:0,level2:0},this.mutationObserver_=new ke,this.nativeFetch_=new Ie,this.fetchConcept_=null,this.concepts_={},this.config_=new Se(e||{}),this.uniqueMarkers_.level0=t||0}SwapConfig(e){this.config_=e}GetConfig(){return this.config_}GenerateUniqueId(e,t){return le(this.uniqueMarkers_,"",e,t)}AddComponentMonitor(e){this.componentsMonitorList_.push(e)}RemoveComponentMonitor(e){this.componentsMonitorList_=this.componentsMonitorList_.filter((t=>t!==e))}CreateComponent(e){let t=this.InferComponentFrom(e);if(t)return t;let n=new Ae(this.GenerateUniqueId(),e);return this.components_[n.GetId()]=n,this.componentsMonitorList_.slice(0).forEach((e=>a((()=>e({action:"add",component:n})),"InlineJS.Global.CreateComponent"))),n}RemoveComponent(e){let t="string"==typeof e?e:e.GetId();if(this.components_.hasOwnProperty(t)){let e=this.components_[t];delete this.components_[t],this.componentsMonitorList_.slice(0).forEach((t=>a((()=>t({action:"remove",component:e})),"InlineJS.Global.RemoveComponent")))}}TraverseComponents(e){Object.values(this.components_).some((t=>!1===e(t)))}FindComponentById(e){return e&&e in this.components_?this.components_[e]:null}FindComponentByName(e){return e&&Object.values(this.components_).find((t=>t.GetName()===e))||null}FindComponentByRoot(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e))||null}PushCurrentComponent(e){this.currentComponent_.Push(e)}PopCurrentComponent(){return this.currentComponent_.Pop()}PeekCurrentComponent(){return this.currentComponent_.Peek()}GetCurrentComponent(){return this.FindComponentById(this.PeekCurrentComponent()||"")}InferComponentFrom(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e||t.GetRoot().contains(e)))||null}GetDirectiveManager(){return this.managers_.directive}GetMagicManager(){return this.managers_.magic}AddAttributeProcessor(e){this.attributeProcessors_.push(e)}DispatchAttributeProcessing(e){this.attributeProcessors_.forEach((t=>a((()=>t(e)),"InlineJS.Global.DispatchAttribute",e.contextElement)))}AddTextContentProcessor(e){this.textContentProcessors_.push(e)}DispatchTextContentProcessing(e){this.textContentProcessors_.forEach((t=>a((()=>t(e)),"InlineJS.Global.DispatchTextContent",e.contextElement)))}GetMutationObserver(){return this.mutationObserver_}SetFetchConcept(e){this.fetchConcept_=e}GetFetchConcept(){return this.fetchConcept_||this.nativeFetch_}SetConcept(e,t){this.concepts_[e]=t}RemoveConcept(e){delete this.concepts_[e]}GetConcept(e){return this.concepts_.hasOwnProperty(e)?this.concepts_[e]:null}CreateChildProxy(e,t,n){return new we(e,t,n)}CreateFuture(e){return new i(e)}IsFuture(e){return e instanceof i}CreateNothing(){return this.nothing_}IsNothing(e){return e instanceof s}}const De="__InlineJS_GLOBAL_KEY__";function Ne(e,t=0){return I(),globalThis[De]=new Oe(e,t),window.dispatchEvent(new CustomEvent(Me)),globalThis[De]}function Fe(e,t=0){return $e()||Ne(e,t)}const Me="inlinejs.global.created";function $e(){return globalThis[De]}function Te(){return $e()?Promise.resolve():new Promise((e=>window.addEventListener(Me,e)))}function He(e){return e=p(e),$e().IsFuture(e)?He(e.Get()):!e&&!1!==e&&0!==e||$e().IsNothing(e)?"":"boolean"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():JSON.stringify(e)}function je({target:e,getter:t,setter:n,deleter:r,lookup:i,alert:o}){let a={get(e,n){var r;if("symbol"==typeof n||"string"==typeof n&&"prototype"===n)return Reflect.get(e,n);let i=t?t(n.toString(),e):e[n];return $e().IsNothing(i)?Reflect.get(e,n):(!o||o.list&&!(n in o.list)||null===(r=O(o.componentId))||void 0===r||r.GetBackend().changes.AddGetAccess(`${o.id}.${n}`),i)},set:(e,t,r)=>"symbol"==typeof t||"string"==typeof t&&"prototype"===t?Reflect.set(e,t,r):n?n(t.toString(),r,e):!!e[t]||!0,deleteProperty:(e,t)=>"symbol"==typeof t||"string"==typeof t&&"prototype"===t?Reflect.deleteProperty(e,t):r?r(t.toString(),e):!!delete e[t]||!0,has:(e,t)=>!!Reflect.has(e,t)||(Array.isArray(i)?i.includes(t.toString()):i?i(t.toString(),e):t in e)};return new window.Proxy(e||{},a)}function Le(e){return je(ze({getter:t=>t&&t in e&&e[t]||null,lookup:[...Object.keys(e)]}))}function Je(){return!1}function Be(e){var{setter:t,deleter:n,lookup:r}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["setter","deleter","lookup"]);return Object.assign(Object.assign({},i),{setter:t||Je,deleter:n||Je,lookup:r||Je})}function ze(e){return Be(e)}function Ue(e,t,n){let r=null==t?void 0:t.FindElementScope(n),i=null==r?void 0:r.GetId();if(!i)return["",null,null];let o=globalThis.InlineJS_ProxyGlobal=globalThis.InlineJS_ProxyGlobal||{},a=o[e]=o[e]||{};return i in a?[i,a[i],a]:(null==r||r.AddUninitCallback((()=>delete a[i])),[i,null,a])}function qe(e,t,n){if(!(e instanceof Promise))return t(e);n?e.then((e=>qe(e,t,!0))):e.then(t)}const We="__InlineJS_Context__";function Ke(e,t,n){try{return new Function(We,`\n            with (__InlineJS_Context__){\n                return (${e});\n            };\n        `).bind(t)}catch(e){e instanceof SyntaxError||o(e,`InlineJs.Region<${n||"NIL"}>.GenerateValueReturningFunction`)}return null}function Ve(e,t,n){try{return new Function(We,`\n            with (__InlineJS_Context__){\n                ${e};\n            };\n        `).bind(t)}catch(e){o(e,`InlineJs.Region<${n||"NIL"}>.GenerateVoidFunction`)}return null}function Ye(e,t,n,r=[]){var i;if("function"==typeof e){let o=O(n||""),a=null==o?void 0:o.FindProxy(null==o?void 0:o.GetBackend().changes.GetLastAccessContext()),l=e.apply((null===(i=a||(null==o?void 0:o.GetRootProxy()))||void 0===i?void 0:i.GetNative())||null,r||[]);return t?t(l):l}return t?t(e):e}function Ze({componentId:e,contextElement:t,expression:n,disableFunctionCall:r=!1,waitPromise:i="recursive"}){if(!(n=n.trim()))return(e,t=[],n)=>e?e(null):null;let a=(a,l,s,c,u=!0)=>{var h;let p=O(e),m=null==p?void 0:p.GetRootProxy().GetNative();if(!m||(null===(h=null==p?void 0:p.FindElementScope(t))||void 0===h?void 0:h.IsDestroyed()))return;let{context:v=null,changes:f=null}=(null==p?void 0:p.GetBackend())||{};null==v||v.Push(d.self,t),null==f||f.ResetLastAccessContext(),se(e),Object.entries(c||{}).forEach((([e,t])=>null==v?void 0:v.Push(e,t)));try{let t=l(m);if($e().IsFuture(t)&&(t=t.Get()),!a)return r?t:Ye(t,a,e,s);let n=e=>{"none"!==i?qe(e,a,"recursive"===i):a(e)};r?n(t):Ye(t,n,e,s)}catch(t){if(u&&t instanceof SyntaxError)throw t;o(t,`InlineJs.Region<${e}>.RunFunction('${n}')`)}finally{Object.entries(c||{}).forEach((([e,t])=>null==v?void 0:v.Pop(e,t))),ce(),null==v||v.Pop(d.self)}},l=Ke(n,t,e),s=null;return l||(s=Ve(n,t,e)),(r,i=[],o)=>{if(!s&&l)try{return a(r,l,i||[],o||{})}catch(r){if(!(r instanceof SyntaxError))throw r;s=Ve(n,t,e)}return s?a(r,s,i||[],o||{},!1)||null:r?r(null):null}}function Qe(e){return Ze(e)}function Xe(e,t){let n=(e,t)=>qe(e,t,!0);return e instanceof l?new l(((r,i)=>{e.While((e=>{n(e,(e=>{n(t(e),(e=>r(e)))}))})),e.Final((e=>{n(e,(e=>{n(t(e),(e=>i(e)))}))}))})):e instanceof Promise?new Promise((r=>{n(e,(e=>{n(t(e),(e=>r(e)))}))})):t(e)}function et(e,t,n){e instanceof l?e.While(t).Final(!1===n?()=>{}:n||t):t(e)}function tt({componentId:e,changes:t,callback:n,subscriptionsCallback:r,contextElement:i}){var a,l,s,c;t.PopAllGetAccessStorageSnapshots(!1),t.RestoreOptimizedGetAccessStorage();let{optimized:u,raw:d}=t.PopGetAccessStorage();if(0==((null===(a=u||d)||void 0===a?void 0:a.entries.length)||0))return r&&r({}),null;let h={},p=()=>{Object.keys(h).map((e=>O(e))).filter((e=>!!e)).forEach((e=>{let{changes:t}=e.GetBackend();h[e.GetId()].forEach((e=>t.Unsubscribe(e)))})),h={}},m=!1,v=()=>{m=!0},f=t=>{let r=O(e);if(!r||m)return void p();let{changes:i}=r.GetBackend();i.PushOrigin(f);try{n({changes:t||[],cancel:v})}catch(t){o(t,`InlineJS.Component<${e}>.SubscribeToChanges.OnChange`)}i.PopOrigin(),m&&p()},_={};return null===(l=u||d)||void 0===l||l.entries.forEach((e=>(_[e.path]=_[e.path]||{})[e.compnentId]=!0)),Object.entries(_).forEach((([e,t])=>{Object.keys(t).map((e=>O(e))).filter((e=>!!e)).forEach((t=>{(h[t.GetId()]=h[t.GetId()]||[]).push(t.GetBackend().changes.Subscribe(e,f))}))})),i&&(null===(c=null===(s=O(e))||void 0===s?void 0:s.FindElementScope(i))||void 0===c||c.AddUninitCallback((()=>{v(),p()}))),r&&r(h),p}function nt({componentId:e,callback:t,contextElement:n,options:r,subscriptionsCallback:i}){var a;let l=()=>{let r=O(e);if(!r)return;let{changes:a}=r.GetBackend(),l=!1,s=n?r.FindElementScope(n):null,c=()=>{l=!0},u=null==s?void 0:s.GetElement();try{a.PushGetAccessStorage(),t({changes:[],cancel:c})}catch(t){o(t,`InlineJS.Component<${e}>.UseEffect`,u)}if(l)return a.PopAllGetAccessStorageSnapshots(!1),a.RestoreOptimizedGetAccessStorage(),void a.PopGetAccessStorage();tt({componentId:e,changes:a,callback:t,subscriptionsCallback:i,contextElement:u})};(null==r?void 0:r.nextTick)?null===(a=O(e))||void 0===a||a.GetBackend().changes.AddNextTickHandler(l):l()}function rt(e,t,n,r={}){var i;let o=null;if(o=e instanceof HTMLElement?(null===(i="string"==typeof n?O(n):n)||void 0===i?void 0:i.FindElementScope(e))||null:e,!o)return r;let a=o.GetLocal(t);return $e().IsNothing(a)&&o.SetLocal(t,a=r),a}const it="__InlineJS_GLOBAL_COMPONENT_KEY__";function ot(e){let t=globalThis[it];if(t||!1===e)return t.component;let n=document.createElement("template");return globalThis[it]={root:n,component:$e().CreateComponent(n)},globalThis[it]}const at=300,lt=0,st=0;function ct(e,t){if(!e||$e().IsNothing(e)||e.allowed&&"both"!==e.allowed&&e.allowed!==(t?"reversed":"normal"))return null;let n=$e().GetConcept("animation");return e.ease=e.ease||(null==n?void 0:n.GetEaseCollection().Find("default"))||null,e.actor=e.actor||(null==n?void 0:n.GetActorCollection().Find("default"))||null,e.duration=e.duration||at,e.delay=e.delay||lt,e.repeats=e.repeats||st,e}function ut({componentId:e,contextElement:t,target:n,callback:r,onAbort:i,reverse:o,allowRepeats:l}){var s,c,u,d;let h=ct((null===(c=null===(s=O(e))||void 0===s?void 0:s.FindElementScope(t))||void 0===c?void 0:c.GetData("transition"))||null,o||!1);if(!h||!h.actor||!h.ease||"number"!=typeof h.duration||h.duration<=0)return r(!1),null;let p=e=>{var t;return"function"==typeof(null==h?void 0:h.actor)?null==h?void 0:h.actor(e):h&&(null===(t=h.actor)||void 0===t?void 0:t.Handle(e))},m=e=>{var t;return"function"==typeof h.ease?h.ease(e):h&&(null===(t=h.ease)||void 0===t?void 0:t.Handle(e))||0},v=!1,f=()=>v=!0,_=0,g=e=>o?1-e:e,b=()=>{var r,o;return null===(o=null===(r=O(e))||void 0===r?void 0:r.FindElementScope(t))||void 0===o||o.RemoveUninitCallback(f),(n||t).dispatchEvent(new CustomEvent("transition.canceled")),i&&i(),!1};return null===(d=null===(u=O(e))||void 0===u?void 0:u.FindElementScope(t))||void 0===d||d.AddUninitCallback(f),x(h.duration,0,l?h.repeats:0,h.delay).While((({elapsed:e})=>{if(v)return b();0==_&&((n||t).style.transform="",(n||t).style.transformOrigin="50% 50%",(n||t).dispatchEvent(new CustomEvent("transition.enter"))),p({target:n||t,stage:0==_++?"start":"middle",fraction:m({duration:h.duration,elapsed:e,fraction:g(e/h.duration)})})})).Final((()=>{v?b():(p({target:n||t,stage:"end",fraction:m({duration:h.duration,elapsed:h.duration,fraction:g(1)})}),(n||t).dispatchEvent(new CustomEvent("transition.leave")),a((()=>r(!0))))})),f}function dt({element:e,html:t,type:n="replace",component:r,processDirectives:i=!0,afterInsert:o,afterTransitionCallback:l,transitionScope:s}){let c="string"==typeof r?r:(null==r?void 0:r.GetId())||"",u=()=>{let r=document.createElement("template");r.innerHTML=t,"replace"===n||"append"===n?e.append(...Array.from(r.content.childNodes)):"prepend"===n&&e.prepend(...Array.from(r.content.childNodes)),o&&a(o,"InlineJS.InsertHtml",e);let u=O(c);i&&u&&Array.from(e.children).forEach((e=>q({component:u,element:e,options:{checkTemplate:!0,checkDocument:!0,ignoreChildren:!1}}))),l&&((s||e).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!0}})),ut({componentId:c,contextElement:s||e,target:e,callback:()=>((s||e).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!0}})),l())}))};if("replace"===n){let t=e=>{let n=O(c);Array.from(e.children).forEach((e=>{let r=null==n?void 0:n.FindElementScope(e);r?r.Destroy():t(e)}))},n=()=>{t(e),Array.from(e.childNodes).forEach((e=>e.remove())),u()};l?((s||e).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!1}})),ut({componentId:c,contextElement:s||e,target:e,reverse:!0,callback:()=>((s||e).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!1}})),n())})):n()}else u()}class ht{constructor(e,t,n=!1){this.componentId_=e,this.callback_=t,this.initialized_=n,this.queued_=!1,this.setCallback_=null}Queue(e){var t;let n=()=>(this.setCallback_||e||this.callback_)&&(this.setCallback_||e||this.callback_)();!this.queued_&&this.initialized_?(this.queued_=!0,null===(t=O(this.componentId_))||void 0===t||t.GetBackend().changes.AddNextTickHandler((()=>{this.queued_=!1,n()}))):this.initialized_?this.setCallback_=e||null:(this.initialized_=!0,n())}}const pt=/\{\{\s*(.+?)\s*\}\}/g,mt=/\{%(.+?)%\}/g,vt=/\{\{.+?\}\}/,ft=/\{%.+?%\}/;function _t(e){let t=e=>[...e.childNodes].reduce(((e,t)=>`${e}${3!=t.nodeType?n(t):t.textContent||""}`),""),n=e=>`${[...e.attributes].reduce(((e,t)=>`${e} ${t.name}="${t.value}"`),`<${e.tagName.toLowerCase()}`)+">"}${t(e)}</${e.tagName.toLowerCase()}>`;return t(e)}function gt({componentId:e,contextElement:t,text:n,handler:r}){var i;let o="";if(n){if(!vt.test(n)&&!ft.test(n))return}else{let e=e=>vt.test(e)||ft.test(e);if(![...t.childNodes].filter((e=>3==e.nodeType)).find((t=>e(t.textContent||""))))return;o=_t(t)}let a=Qe({componentId:e,contextElement:t,expression:"let output = "+JSON.stringify(o||n).replace(pt,'"+($1)+"').replace(mt,'";$1\noutput+="')+"; return output;"});null===(i=O(e))||void 0===i||i.CreateElementScope(t),nt({componentId:e,contextElement:t,callback:()=>a(r)})}function bt({componentId:e,contextElement:t,name:n,value:r}){gt({componentId:e,contextElement:t,text:r,handler:e=>t.setAttribute(n,e)})}function Ct({componentId:e,contextElement:t}){gt({componentId:e,contextElement:t,handler:n=>dt({component:e,element:t,html:n,processDirectives:!0})})}function yt(e){let t=$e(),n=t.GetConfig();[n.GetDirectiveName("data",!0),n.GetDirectiveName("data",!1)].forEach((n=>{(e||document).querySelectorAll(`[${n}]`).forEach((e=>{e.hasAttribute(n)&&document.contains(e)&&q({component:t.CreateComponent(e),element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})}))}))}function Et(e){Fe(),setTimeout((()=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>{yt(e)})):yt(e)}),0)}function Pt(e,t){let n="",r=null;if("function"==typeof e){let t=e();t?({name:n,callback:r}=t):(n=e("name"),r=e("callback"))}else f(e)?({name:n,callback:r}=e):$e().GetDirectiveManager().AddHandler(e);n&&r&&(t?$e().GetDirectiveManager().AddHandlerExtension(t,r,n):$e().GetDirectiveManager().AddHandler(r,n))}function xt(e,t){return{name:e,callback:t}}function Gt(e,t,n,r,i){let o=$e().GetConfig().GetDirectiveName("on"),a=(i||[]).join("."),l=z(a?`${o}:${n}.${a}`:`${o}:${n}`,r||"");return!!l&&$(e,t,l)}const At=["bind","event","on"];function Rt({component:e,contextElement:t,key:n,event:r,expression:i,options:o,defaultEvent:a,eventWhitelist:l=[],optionBlacklist:s}){let c=()=>s?null==o?void 0:o.filter((e=>!s.includes(e))):o,u=e=>n?`${n}-${e}.join`:e;return l.includes(r)?Gt(e,t,u(r),i,c()):!(!a||r!==a&&!At.includes(r))&&Gt(e,t,u(a),i,c())}function kt(e,t,n){let r=$e().GetConfig().GetDirectiveName(t,!1),i=$e().GetConfig().GetDirectiveName(t,!0);return e.getAttribute(r)||e.getAttribute(i)||n&&e.getAttribute(n)||null}function wt({componentId:e,contextElement:t,key:n,expression:r,callback:i,arrayCallback:o,useEffect:a=!0}){let l=0,s=Qe({componentId:e,contextElement:t,expression:r}),c=(e,t)=>{Xe(e,(e=>{t==l&&(n?i([n,e]):f(e)?Object.entries(e).forEach(i):o&&("string"==typeof e||Array.isArray(e))&&o("string"==typeof e?e.trim().split(" ").filter((e=>!!e)):e))}))};a?nt({componentId:e,contextElement:t,callback:()=>s((e=>c(e,++l)))}):s((e=>c(e,l)))}const St=Array.from(Array(100).keys()).map((e=>e/100));function It(e){let t={root:null,rootMargin:"0px",threshold:0};return f(e)&&Object.entries(t).forEach((([n,r])=>t[n]=n in e&&e[n]||r)),e.spread&&(t.threshold=St),t}class Ot{constructor(e,t){this.id_=e,this.observer_=null,this.handlers_=new Array;let n=this.id_;this.observer_=new globalThis.IntersectionObserver(((e,t)=>{e.forEach((e=>{this.handlers_.filter((({target:t})=>t===e.target)).forEach((r=>{a((()=>r.handler({entry:e,id:n,observer:t})),"InlineJS.IntersectionObserver")}))}))}),It(t))}GetId(){return this.id_}GetNative(){return this.observer_}Observe(e,t){var n;this.handlers_.push({target:e,handler:t}),null===(n=this.observer_)||void 0===n||n.observe(e)}Unobserve(e){var t;this.handlers_=this.handlers_.filter((t=>t.target===e)),null===(t=this.observer_)||void 0===t||t.unobserve(e)}}function Dt(e,t=0){return e&&e.match(/^[0-9]+(s|ms)?$/)?-1==e.indexOf("m")&&-1!=e.indexOf("s")?1e3*parseInt(e):parseInt(e):t}function Nt({options:e,list:t,defaultNumber:n,callback:r,unknownCallback:i}){let o=Array.isArray(e)?e:[e],a=e=>("number"==typeof n?n:n&&n(e))||0;return t.forEach(((n,l)=>{let s=o.find((e=>e&&n in e));if(!s)return i&&i({options:e,list:t,option:n,index:l});r&&!0===r({options:e,list:t,option:n,index:l})||("number"==typeof s[n]?l<t.length-1?s[n]=Dt(t[l+1].trim(),a(n)):s[n]=a(n):"boolean"==typeof s[n]&&(s[n]=!0))})),e}function Ft({componentId:e,component:t,contextElement:n,expression:r,argOptions:i,callback:o,options:a,defaultOptionValue:l,useEffect:s}){let c=Qe({componentId:e,contextElement:n,expression:r}),u=Nt({options:a||{lazy:!1,ancestor:-1,threshold:-1},list:i,defaultNumber:0===l?0:l||-1}),d=()=>c((e=>qe(e,o))),h=()=>!1===s?d():nt({componentId:e,contextElement:n,callback:d});if(u.lazy){let r=t||O(e),i={root:u.ancestor<0?null:null==r?void 0:r.FindAncestor(n,u.ancestor),threshold:u.threshold<0?0:u.threshold},o=r?new Ot(r.GenerateUniqueId("intob_"),i):null;o?(null==r||r.AddIntersectionObserver(o),o.Observe(n,(({id:t,entry:n}={})=>{var r;(null==n?void 0:n.isIntersecting)&&(null===(r=O(e))||void 0===r||r.RemoveIntersectionObserver(t),h())}))):h()}else h()}function Mt(e){let t,n="",r=null;if("function"==typeof e){let i=e();i?({name:n,callback:r,onAccess:t}=i):(n=e("name"),r=e("callback"),t=e("access"))}else f(e)?({name:n,callback:r,onAccess:t}=e):$e().GetMagicManager().AddHandler(e);n&&r&&$e().GetMagicManager().AddHandler(r,n,t)}function $t(e,t,n){return{name:e,callback:t,onAccess:n}}function Tt(e){return e.startsWith(":")?$e().GetConfig().GetDirectiveName("bind")+e:null}function Ht(e){return e.startsWith(".")?e.replace(".",$e().GetConfig().GetDirectiveName("class:")):null}function jt(e){return e.startsWith("@")?e.replace("@",$e().GetConfig().GetDirectiveName("on:")):null}function Lt(e,t,n){console.log({message:e,context:t||"N/A",contextElement:n||"N/A"})}},29:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.RouterConcept=void 0;const o=n(992),a=n(397),l=n(602);t.RouterConcept=class{constructor(e="",t=""){this.prefix_=e,this.origin_=t,this.markers_=(0,o.GetDefaultUniqueMarkers)(),this.checkpoint_=0,this.active_=!1,this.middlewares_={},this.fetchers_=new Array,this.protocolHandlers_=new Array,this.dataHandlers_=new Array,this.pathChangeHandlers_=new Array,this.pages_={},this.current_={path:"",page:null,initialData:null,data:null},this.origin_=this.origin_||window.location.origin,this.origin_&&(this.origin_=this.origin_.replace(/\/+$/,"")),this.onEvent_=e=>{e.state&&(0,o.IsObject)(e.state)&&e.state.hasOwnProperty("base")&&e.state.hasOwnProperty("query")&&this.Load_(e.state,!1)}}GetOrigin(){return this.origin_}SetPrefix(e){this.prefix_=e}GetPrefix(){return this.prefix_}AddMiddleware(e){this.middlewares_[e.GetName()]=e}RemoveMiddleware(e){let t="string"==typeof e?e:e.GetName();this.middlewares_.hasOwnProperty(t)&&delete this.middlewares_[t]}AddFetcher(e){this.fetchers_.push({fetcher:e,optimized:(0,l.ProcessPathPlaceholders)(e.GetPath())||void 0})}FindFetcher(e){let t=(e=(0,o.PathToRelative)(e,this.origin_)).split("/").filter((e=>!!e)),n={},r=this.fetchers_.find((r=>(0,l.MatchPath)(e,r,n,t)));return r?{fetcher:r.fetcher,params:n}:null}RemoveFetcher(e){this.fetchers_=this.fetchers_.filter((t=>t.fetcher!==e))}AddProtocolHandler(e,t){this.protocolHandlers_.push({protocol:e,handler:t})}RemoveProtocolHandler(e){this.protocolHandlers_=this.protocolHandlers_.filter((t=>t.handler!==e))}AddDataHandler(e){this.dataHandlers_.push(e)}RemoveDataHandler(e){this.dataHandlers_=this.dataHandlers_.filter((t=>t!==e))}AddPathChangeHandler(e){this.pathChangeHandlers_.push(e)}RemovePathChangeHandler(e){this.pathChangeHandlers_=this.pathChangeHandlers_.filter((t=>t!==e))}AddPage(e){var{path:t}=e,n=i(e,["path"]);let r=(0,o.GenerateUniqueId)(this.markers_,"router","page_");return this.pages_[r]=Object.assign(Object.assign({},n),{id:r,path:"string"==typeof t?(0,o.PathToRelative)(t,this.origin_):t}),r}RemovePage(e){let t=this.FindPage(e);return t?Object.assign({},t):null}FindPage(e){return"string"==typeof e?this.pages_.hasOwnProperty(e)?this.pages_[e]:null:Object.values(this.pages_).find((t=>t.name===e.name))||null}FindMatchingPage(e){return Object.values(this.pages_).find((t=>"string"==typeof t.path?t.path===e:t.path.test(e)))||null}Mount(e){window.addEventListener("popstate",this.onEvent_);let t=(0,o.PathToRelative)(window.location.href,this.origin_),n=(0,o.SplitPath)(t);e?this.Load_(n,!1):(this.current_.path=t,this.current_.page=this.FindMatchingPage(n.base),this.pathChangeHandlers_.forEach((e=>(0,o.JournalTry)((()=>e(t)),"InlineJS.RouterConcept.Mount"))))}Goto(e,t,n){let r=null;if("string"!=typeof e)if("name"in e){let t=this.FindPage(e);t&&"string"==typeof t.path&&(r=(0,o.SplitPath)(t.path,this.origin_))}else r={base:(0,o.PathToRelative)(e.base,this.origin_),query:(0,o.TidyPath)(e.query)};else r=(0,o.SplitPath)(e,this.origin_);r&&this.Load_(r,!0,t,n)}Reload(){this.Goto(this.current_.path,!0)}GetCurrentPath(){return this.current_.path}GetActivePage(){return this.current_.page}GetActivePageData(e){return e?(0,o.IsObject)(this.current_.data)&&this.current_.data.hasOwnProperty(e)?this.current_.data[e]:null:this.current_.data}FindProtocolHandler_(e){let t=this.protocolHandlers_.find((t=>"string"==typeof t.protocol?t.protocol===e:t.protocol.test(e)));return t?t.handler:null}Load_(e,t,n,i){let l=e.base.match(/^([a-zA-Z0-9_]+):\/\//),s=l?this.FindProtocolHandler_(l[1]):null;s&&(e.base=e.base.substring(l[1].length+2));let c=(0,o.JoinPath)(e),u=s?s({protocol:l[1],path:c}):null;if(!0===u)return;let d=this.current_.path===c;if(d&&!n&&(!(0,o.IsObject)(u)||!u.shouldReload))return void window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.reload`,{detail:{path:Object.assign({},e),url:c}}));let h=null;if(!u){if(h=this.FindMatchingPage(e.base),!h)return window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.404`,{detail:{path:(0,o.JoinPath)(e)}}));i?(this.current_.initialData=(0,o.DeepCopy)(i),this.current_.data=i):d?this.current_.data=(0,o.DeepCopy)(this.current_.initialData)||i:this.current_.initialData=this.current_.data=null,d||this.pathChangeHandlers_.forEach((e=>(0,o.JournalTry)((()=>e(c)),"InlineJS.RouterConcept.Load")))}this.SetActiveState_(!0),window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.entered`,{detail:{page:Object.assign({},h)}}));let p=()=>this.DoLoad_(m,h,e,c,t,u||void 0),m=++this.checkpoint_;!u&&h.middleware?(()=>{r(this,void 0,void 0,(function*(){for(let e of"string"==typeof h.middleware?[h.middleware]:h.middleware)if(m!=this.checkpoint_||this.middlewares_.hasOwnProperty(e)&&!(yield this.middlewares_[e].Handle(c)))return void(m==this.checkpoint_&&this.SetActiveState_(!1));p()}))})():p()}DoLoad_(e,t,n,r,i,l){var s,c;if(e!=this.checkpoint_)return;l||(t.id!==(null===(s=this.current_.page)||void 0===s?void 0:s.id)?(document.title=t.title||"Untitled",this.current_.page=t,this.current_.path=r,window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.page`,{detail:{page:Object.assign({},t)}})),window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.path`,{detail:{path:Object.assign({},n)}}))):this.current_.path!==r&&(this.current_.path=r,window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.path`,{detail:{path:Object.assign({},n)}}))),i&&window.history.pushState(n,t.title||"Untitled",r));let u="function"==typeof l?r:(null==l?void 0:l.path)||r,d=this.FindFetcher(u),h=t=>{e==this.checkpoint_&&(l?"function"==typeof l?l(t,n):l.dataHandler(t,n):(this.dataHandlers_.slice(0).forEach((e=>(0,o.JournalTry)((()=>e({data:t,path:n,url:r})))),"InlineJS.RouterConcept.HandleData"),window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.load`)))),this.SetActiveState_(!1)},p=e=>{window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.error`,{detail:{path:n}})),this.SetActiveState_(!1),(0,o.JournalError)(e,"InlineJS.RouterConcept.Fetch")};d?d.fetcher.Handle({path:r,params:d.params||{}}).then(h).catch(p):(u=this.prefix_?(0,o.PathToRelative)(u,this.origin_,this.prefix_):u,!l&&t.cache&&(0,o.GetGlobal)().GetConcept(a.ResourceConceptName)?null===(c=(0,o.GetGlobal)().GetConcept(a.ResourceConceptName))||void 0===c||c.GetData(u,!0,!1).then(h).catch(p):(0,o.GetGlobal)().GetFetchConcept().Get(u,{method:"GET",credentials:"same-origin"}).then((e=>e.text())).then(h).catch(p))}SetActiveState_(e){e!=this.active_&&(this.active_=e,window.dispatchEvent(new CustomEvent(`${a.RouterConceptName}.active`,{detail:{state:e}})))}}},556:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FetchRouterDirectiveExtensionCompact=t.FetchRouterDirectiveExtension=void 0;const r=n(992),i=n(397),o=n(810);function a(e,t){let n=e(t);return n instanceof Promise?new Promise(((e,t)=>{n.then((t=>e((0,r.ToString)(t)))).catch((e=>t(e)))})):Promise.resolve((0,r.ToString)(n))}t.FetchRouterDirectiveExtension=(0,r.CreateDirectiveHandlerCallback)("fetch",(({componentId:e,contextElement:t,expression:n,argKey:l,argOptions:s})=>{if(!(t instanceof HTMLTemplateElement))return(0,r.JournalError)("Target is not a template element.",`${i.RouterConceptName}:${l}`,t);let c=n=>{var s,c;let u=null;if("string"==typeof n||n instanceof RegExp)u={path:n,handler:({params:e})=>{let n;return n=0!=Object.keys(e).length?t.innerHTML.replace(/\{\{\s*(.+?)\s*\}\}/g,((t,n)=>{let r=n.split("||").map((e=>e.trim())).filter((e=>!!e));return 0!=r.length&&e.hasOwnProperty(r[0])?e[r[0]]:r.length>1?r[1]:t})):t.innerHTML,Promise.resolve(n)}};else if("function"==typeof n)u={path:/^.+$/,handler:e=>a(n,e)};else if((0,r.IsObject)(n)){let{path:e,handler:t}=n;u={path:e,handler:e=>a(t,e)}}if(u){let n=(0,r.GetGlobal)().GetConcept(i.RouterConceptName);if(n){let i=new o.RouterFetcher(u.path,u.handler);n.AddFetcher(i),null===(c=null===(s=(0,r.FindComponentById)(e))||void 0===s?void 0:s.FindElementScope(t))||void 0===c||c.AddUninitCallback((()=>null==n?void 0:n.RemoveFetcher(i)))}}else(0,r.JournalError)("Target path is invalid.",`${i.RouterConceptName}:${l}`,t)};s.includes("evaluate")?(0,r.EvaluateLater)({componentId:e,contextElement:t,expression:n})(c):c(n)})),t.FetchRouterDirectiveExtensionCompact=function(){(0,r.AddDirectiveHandler)(t.FetchRouterDirectiveExtension,i.RouterConceptName)}},689:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRouterDirectiveExtensionCompact=t.LinkRouterDirectiveExtension=void 0;const r=n(992),i=n(397);t.LinkRouterDirectiveExtension=(0,r.CreateDirectiveHandlerCallback)("link",(({componentId:e,component:t,contextElement:n,expression:o,argKey:a,argOptions:l})=>{var s,c,u,d;if(!(n instanceof HTMLAnchorElement||n instanceof HTMLFormElement))return(0,r.JournalError)("Target must be a anchor or form element.",`${i.RouterConceptName}:${a}`,n);let h,p;if(n instanceof HTMLFormElement){if("get"!==n.method.toLowerCase())return(0,r.JournalError)("Form element must use the GET method.",`${i.RouterConceptName}:${a}`,n);h=()=>{let e=n.action,t="";return new FormData(n).forEach(((e,n)=>{t=t?`${t}&${n}=${e.toString()}`:`${n}=${e.toString()}`})),t?e.includes("?")?`${e}&${t}`:`${e}?${t}`:e},p=()=>"submit"}else h=()=>n.href,p=()=>"click";let m=(0,r.ResolveOptions)({options:{reload:!1},list:l});if(n.addEventListener(p(),(e=>{var t;e.preventDefault(),e.stopPropagation(),null===(t=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===t||t.Goto(h(),m.reload)})),o=o.trim()){let a=(0,r.EvaluateLater)({componentId:e,contextElement:n,expression:o}),l=!1,p=e=>{l!=(e=>(0,r.TidyPath)(e)===(0,r.TidyPath)((0,r.PathToRelative)(h(),(()=>{var e;return(null===(e=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===e?void 0:e.GetOrigin())||window.location.origin})())))(e)&&a(void 0,void 0,{active:l=!l})};null===(s=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===s||s.AddPathChangeHandler(p),null===(u=null===(c=t||(0,r.FindComponentById)(e))||void 0===c?void 0:c.FindElementScope(n))||void 0===u||u.AddUninitCallback((()=>{var e;null===(e=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===e||e.RemovePathChangeHandler(p)})),p((null===(d=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===d?void 0:d.GetCurrentPath())||"")}})),t.LinkRouterDirectiveExtensionCompact=function(){(0,r.AddDirectiveHandler)(t.LinkRouterDirectiveExtension,i.RouterConceptName)}},35:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MountRouterDirectiveExtensionCompact=t.MountEnteredRouterDirectiveExtension=t.MountReloadRouterDirectiveExtension=t.MountLoadRouterDirectiveExtension=t.MountRouterDirectiveExtension=void 0;const r=n(992),i=n(397);function o(e){return(0,r.CreateDirectiveHandlerCallback)(`mount-${e}`,(({componentId:e,contextElement:t,expression:n,argKey:o,argOptions:a})=>{(0,r.ForwardEvent)(e,t,`${i.RouterConceptName}-${o}.join`,n,a)}))}t.MountRouterDirectiveExtension=(0,r.CreateDirectiveHandlerCallback)("mount",(({componentId:e,contextElement:t,expression:n,argKey:o,argOptions:a})=>{if(!(t instanceof HTMLTemplateElement))return(0,r.JournalError)("Target is not a template element.",`${i.RouterConceptName}:${o}`,t);let l=(0,r.GetGlobal)().GetConcept(i.RouterConceptName);if(!l)return(0,r.JournalError)(`${i.RouterConceptName} concept is not installed.`,`${i.RouterConceptName}:${o}`,t);if(!t.parentElement)return(0,r.JournalError)("Target must have a parent element.",`${i.RouterConceptName}:${o}`,t);let s=(0,r.ResolveOptions)({options:{main:!1,section:!1,scroll:!1,prepend:!1,plural:!1,reload:!1,evaluate:!1},list:a}),c=n=>{var a,c;if(n&&"string"!=typeof n&&!(n instanceof RegExp)&&!(n instanceof HTMLElement))return(0,r.JournalError)("Target protocol is invalid.",`${i.RouterConceptName}:${o}`,t);let u;if(n instanceof HTMLElement?(u=n,n=null):u=document.createElement(s.main?"main":s.section?"section":"div"),!u)return(0,r.JournalError)("Mount target is invalid.",`${i.RouterConceptName}:${o}`,t);let d=null;t.parentElement&&!u.parentElement&&(t.parentElement.insertBefore(u,t),d=()=>u.remove());let h=null,p=({data:o,url:a})=>{let l=h;!s.scroll&&a===h||n||window.scrollTo({top:0,left:0}),h=a,Array.from(u.attributes).forEach((e=>u.removeAttribute(e.name))),(0,r.InsertHtml)({element:u,html:o,component:e,processDirectives:!1,afterInsert:()=>{(0,r.BootstrapAndAttach)(u),a===l&&t.dispatchEvent(new CustomEvent(`${i.RouterConceptName}.mount.reload`)),t.dispatchEvent(new CustomEvent(`${i.RouterConceptName}.mount.load`))},afterTransitionCallback:()=>{},transitionScope:t})},m=0,v=({path:e})=>{if(t.dispatchEvent(new CustomEvent(`${i.RouterConceptName}.mount.entered`)),e===h&&!s.reload)return t.dispatchEvent(new CustomEvent(`${i.RouterConceptName}.mount.reload`)),!0;let r=++m,o=(t,n)=>r==m&&p({data:t,path:n,url:e});return s.prepend?{dataHandler:o,path:e=`/${n}${s.plural?"s":""}/${e.startsWith("/")?e.substring(1):e}`,shouldReload:s.reload}:o};n?l.AddProtocolHandler(n,v):l.AddDataHandler(p),null===(c=null===(a=(0,r.FindComponentById)(e))||void 0===a?void 0:a.FindElementScope(t))||void 0===c||c.AddUninitCallback((()=>{var e,t;n?null===(e=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===e||e.RemoveProtocolHandler(v):null===(t=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===t||t.RemoveDataHandler(p),d&&d()}))};s.evaluate?(0,r.EvaluateLater)({componentId:e,contextElement:t,expression:n})(c):c(n)})),t.MountLoadRouterDirectiveExtension=o("load"),t.MountReloadRouterDirectiveExtension=o("reload"),t.MountEnteredRouterDirectiveExtension=o("entered"),t.MountRouterDirectiveExtensionCompact=function(){(0,r.AddDirectiveHandler)(t.MountRouterDirectiveExtension,i.RouterConceptName),(0,r.AddDirectiveHandler)(t.MountLoadRouterDirectiveExtension,i.RouterConceptName),(0,r.AddDirectiveHandler)(t.MountReloadRouterDirectiveExtension,i.RouterConceptName),(0,r.AddDirectiveHandler)(t.MountEnteredRouterDirectiveExtension,i.RouterConceptName)}},869:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageRouterDirectiveExtensionCompact=t.PageRouterDirectiveExtension=void 0;const r=n(992),i=n(397);t.PageRouterDirectiveExtension=(0,r.CreateDirectiveHandlerCallback)("page",(({componentId:e,component:t,contextElement:n,expression:o,argKey:a,argOptions:l})=>{if(!(n instanceof HTMLTemplateElement))return(0,r.JournalError)("Target is not a template element.",`${i.RouterConceptName}:${a}`,n);let s=(0,r.ResolveOptions)({options:{cache:!1,reload:!1,evaluate:!1},list:l}),c=o=>{var a,l,c,u;let d;"string"==typeof o||o instanceof RegExp?d=null===(a=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===a?void 0:a.AddPage({path:o,cache:s.cache,reload:s.reload&&!s.cache}):(0,r.IsObject)(o)&&(d=null===(l=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===l?void 0:l.AddPage({path:o.path,name:o.name,title:o.title,cache:o.cache||s.cache,reload:o.reload||s.reload&&!s.cache,middleware:o.middleware})),d&&(null===(u=null===(c=t||(0,r.FindComponentById)(e))||void 0===c?void 0:c.FindElementScope(n))||void 0===u||u.AddUninitCallback((()=>{var e;null===(e=(0,r.GetGlobal)().GetConcept(i.RouterConceptName))||void 0===e||e.RemovePage(d)})))};s.evaluate?(0,r.EvaluateLater)({componentId:e,contextElement:n,expression:o})(c):c(o)})),t.PageRouterDirectiveExtensionCompact=function(){(0,r.AddDirectiveHandler)(t.PageRouterDirectiveExtension,i.RouterConceptName)}},919:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RouterDirectiveHandlerCompact=t.RouterDirectiveHandler=void 0;const r=n(992),i=n(397);t.RouterDirectiveHandler=(0,r.CreateDirectiveHandlerCallback)(i.RouterConceptName,(({componentId:e,component:t,contextElement:n,expression:o,argKey:a,argOptions:l})=>{(0,r.BindEvent)({contextElement:n,expression:o,component:t||e,key:i.RouterConceptName,event:a,defaultEvent:i.DefaultRouterEvent,eventWhitelist:i.RouterEvents,options:[...l,"window"],optionBlacklist:["document","outside"]})})),t.RouterDirectiveHandlerCompact=function(){(0,r.AddDirectiveHandler)(t.RouterDirectiveHandler)}},810:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RouterFetcher=void 0,t.RouterFetcher=class{constructor(e,t){this.path_=e,this.handler_=t}GetPath(){return this.path_}Handle(e){return this.handler_(e)}}},910:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RouterMagicHandlerCompact=t.RouterMagicHandler=void 0;const r=n(992),i=n(397),o=function(){const e=()=>(0,r.GetGlobal)().GetConcept(i.RouterConceptName);let t={setPrefix:t=>{var n;return null===(n=e())||void 0===n?void 0:n.SetPrefix(t)},addMiddleware:t=>{var n;return null===(n=e())||void 0===n?void 0:n.AddMiddleware(t)},removeMiddleware:t=>{var n;return null===(n=e())||void 0===n?void 0:n.RemoveMiddleware(t)},addFetcher:t=>{var n;return null===(n=e())||void 0===n?void 0:n.AddFetcher(t)},removeFetcher:t=>{var n;return null===(n=e())||void 0===n?void 0:n.RemoveFetcher(t)},addProtocolHandler:(t,n)=>{var r;return null===(r=e())||void 0===r?void 0:r.AddProtocolHandler(t,n)},removeProtocolHandler:t=>{var n;return null===(n=e())||void 0===n?void 0:n.RemoveProtocolHandler(t)},addPage:t=>{var n;return null===(n=e())||void 0===n?void 0:n.AddPage(t)},removePage:t=>{var n;return null===(n=e())||void 0===n?void 0:n.RemovePage(t)},findPage:t=>{var n;return null===(n=e())||void 0===n?void 0:n.FindPage(t)},findMatchingPage:t=>{var n;return null===(n=e())||void 0===n?void 0:n.FindMatchingPage(t)},mount:t=>{var n;return null===(n=e())||void 0===n?void 0:n.Mount(t)},goto:(t,n,r)=>{var i;return null===(i=e())||void 0===i?void 0:i.Goto(t,n,r)},reload:()=>{var t;return null===(t=e())||void 0===t?void 0:t.Reload()},getCurrentPath:()=>{var t;return null===(t=e())||void 0===t?void 0:t.GetCurrentPath()},getActivePage:()=>{var t;return null===(t=e())||void 0===t?void 0:t.GetActivePage()},getActivePageData:t=>{var n;return null===(n=e())||void 0===n?void 0:n.GetActivePageData(t)}};return(0,r.CreateReadonlyProxy)(t)}();t.RouterMagicHandler=(0,r.CreateMagicHandlerCallback)(i.RouterConceptName,(()=>o)),t.RouterMagicHandlerCompact=function(){(0,r.AddMagicHandler)(t.RouterMagicHandler)}},397:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RouterEvents=t.DefaultRouterEvent=t.RouterConceptName=t.ResourceConceptName=void 0,t.ResourceConceptName="resource",t.RouterConceptName="router",t.DefaultRouterEvent="load",t.RouterEvents=["load","reload","error","404","entered","page","path"]},602:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MatchPath=t.ProcessPathPlaceholders=void 0;const n=["integer","number","string","boolean","array"];t.ProcessPathPlaceholders=function(e){if("string"!=typeof e)return null;let t=[...e.matchAll(/\/(\:[^\/]+)/g)].map((e=>e[1].split(":").map((e=>e.trim())).filter((e=>!!e)))).filter((e=>e.length<=2));return 0!=t.length?e.split("/").map((e=>e.trim())).filter((e=>!!e)).map((e=>{let[r,i]=t.find((t=>`:${t.join(":")}`===e))||[];if(!r)return e;let o=e.endsWith("?");return{isOptional:o,value:o?r.substring(0,r.length-1):r,type:i&&n.includes(i)?i:void 0}})):null},t.MatchPath=function(e,t,n,r){Object.keys(n).forEach((e=>delete n[e]));let i=t.fetcher.GetPath();if("string"!=typeof i)return i.test(e);if(!t.optimized)return i===e;r=r||e.split("/").map((e=>e.trim())).filter((e=>!!e));let o=0,a=0,l={path:-1,params:-1},s=()=>-1!=l.path&&-1!=l.params&&(o=l.path,a=l.params+1,delete n[t.optimized[l.params].value],l={path:-1,params:-1},!0),c=(e,t)=>t.startsWith("%")&&t.endsWith("%")?new RegExp(t.substring(1,t.length-1)).test(e):e===t;for(;o<r.length&&a<t.optimized.length;){let e=t.optimized[a],i=r[o];if("string"==typeof e&&!c(i,e)){if(s())continue;return!1}if("string"!=typeof e){let t=t=>{n[e.value]=t,e.isOptional&&-1==l.path&&-1==l.params&&(l={path:o,params:a})};if(e.type&&"string"!==e.type)if("integer"===e.type||"number"===e.type){let n=parseFloat(i);if(n||0===n){if("number"===e.type||Number.isInteger(n))t(n);else if(!e.isOptional)return!1}else if(!e.isOptional)return!1}else if("boolean"===e.type){if("true"===i||"false"===i)t("true"===i);else if(!e.isOptional)return!1}else t(i.split(",").map((e=>e.trim())).filter((e=>!!e)));else t(i)}if(++o,++a,o>=r.length&&a<t.optimized.length&&(e=t.optimized[a],-1!=t.optimized.slice(a).findIndex((e=>"string"==typeof e||!e.isOptional))&&!s()))return!1}if(o<r.length)return!1;for(;a<t.optimized.length;++a){let e=t.optimized[a];if("string"==typeof e||!e.isOptional)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(992),t=n(397),r=n(29),i=n(919),o=n(556),a=n(35),l=n(689),s=n(869),c=n(910);(0,e.WaitForGlobal)().then((()=>{(0,e.GetGlobal)().SetConcept(t.RouterConceptName,new r.RouterConcept),(0,i.RouterDirectiveHandlerCompact)(),(0,o.FetchRouterDirectiveExtensionCompact)(),(0,a.MountRouterDirectiveExtensionCompact)(),(0,l.LinkRouterDirectiveExtensionCompact)(),(0,s.PageRouterDirectiveExtensionCompact)(),(0,c.RouterMagicHandlerCompact)()}))})()})();