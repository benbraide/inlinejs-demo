(()=>{"use strict";var e={992:(e,t,n)=>{n.r(t),n.d(t,{AddChanges:()=>X,AddDirectiveExpansionRule:()=>N,AddDirectiveHandler:()=>It,AddMagicHandler:()=>$t,AddOutsideEventExcept:()=>Ee,AddOutsideEventListener:()=>_e,ApplyDirectiveExpansionRules:()=>B,AreObjects:()=>g,AttributeInterpolator:()=>Ct,AutoBootstrap:()=>xt,BaseComponent:()=>Ae,BaseGlobal:()=>Fe,BeginsWith:()=>c,BindDirectiveExpansionRule:()=>Nt,BindEvent:()=>Pt,BootstrapAndAttach:()=>kt,BuildGetterProxyOptions:()=>ze,BuildIntersectionOptions:()=>Mt,BuildProxyOptions:()=>Je,CallIfFunction:()=>Qe,Changes:()=>ue,ChildProxy:()=>Pe,ClassDirectiveExpansionRule:()=>jt,Config:()=>Se,Context:()=>he,ContextKeys:()=>u,CreateChildProxy:()=>Z,CreateDirective:()=>z,CreateDirectiveExpansionRule:()=>L,CreateDirectiveHandlerCallback:()=>At,CreateGlobal:()=>He,CreateInplaceProxy:()=>Ne,CreateLoop:()=>x,CreateMagicHandlerCallback:()=>Lt,CreateReadonlyProxy:()=>je,DeepCopy:()=>b,DefaultTransitionDelay:()=>ct,DefaultTransitionDuration:()=>st,DefaultTransitionRepeats:()=>dt,DeleteProxyProp:()=>Q,DirectiveManager:()=>ve,DisableProxyAction:()=>Be,DispatchDirective:()=>T,ElementScope:()=>xe,ElementScopeKey:()=>K,EndsWith:()=>y,EvaluateLater:()=>et,EvaluateMagicProperty:()=>Y,ExtractDuration:()=>Dt,FindComponentById:()=>F,FindComponentByName:()=>M,FindComponentByRoot:()=>H,FlattenDirective:()=>R,ForwardEvent:()=>Gt,Future:()=>r,GenerateFunctionFromString:()=>Ze,GenerateUniqueId:()=>ae,GenerateValueReturningFunction:()=>Ye,GenerateVoidFunction:()=>Xe,GenericProxy:()=>ne,GetAttribute:()=>E,GetConfig:()=>$,GetDefaultUniqueMarkers:()=>re,GetDirectiveValue:()=>St,GetElementContent:()=>gt,GetElementScopeId:()=>W,GetGlobal:()=>Te,GetLocal:()=>ot,GetOrCreateGlobal:()=>De,GetProxyProp:()=>ee,GetTarget:()=>p,GetTargets:()=>m,GlobalCreatedEvent:()=>Re,IncrementUniqueMarkers:()=>oe,InferComponent:()=>V,InitComponentCache:()=>O,InitJITProxy:()=>Ue,InlineJSGlobalKey:()=>Me,InsertHtml:()=>pt,Interpolate:()=>_t,InterpolateText:()=>yt,IntersectionObserver:()=>Ht,IsEqual:()=>k,IsObject:()=>f,JoinPath:()=>w,JoinUniqueMarkers:()=>le,JournalError:()=>o,JournalLog:()=>Jt,JournalTry:()=>l,JournalWarn:()=>D,LazyCheck:()=>Tt,Loop:()=>a,MagicManager:()=>Ge,MutationObserver:()=>we,NativeFetchConcept:()=>Oe,NextTick:()=>mt,Nothing:()=>s,OnDirectiveExpansionRule:()=>Bt,PathToRelative:()=>A,PeekCurrentComponent:()=>de,PeekCurrentScope:()=>be,PopCurrentComponent:()=>ce,PopCurrentScope:()=>ge,ProcessDirectives:()=>q,ProxyKeys:()=>h,PushCurrentComponent:()=>se,PushCurrentScope:()=>fe,QueryGlobalComponent:()=>at,RemoveDirectiveExpansionRule:()=>j,RemoveOutsideEventListener:()=>Ce,ReplaceText:()=>bt,ResolveKeyValue:()=>Ot,ResolveOptions:()=>Rt,ResolveTransition:()=>ut,RootProxy:()=>ie,Scope:()=>Ie,SetAttributeUtil:()=>P,SetProxyProp:()=>te,SplitPath:()=>G,Stack:()=>i,StreamData:()=>tt,SubscribeToChanges:()=>it,SupportsAttributes:()=>_,TextContentInterpolator:()=>Et,TidyPath:()=>I,ToCamelCase:()=>d,ToString:()=>Le,TraverseDirectives:()=>U,UnbindOutsideEvent:()=>ke,UseEffect:()=>rt,WaitForGlobal:()=>$e,WaitPromise:()=>qe,WaitTransition:()=>ht,WaitWhile:()=>nt});class i{constructor(e){this.list_=new Array,e&&(this.list_=e.list_.map((e=>e)))}Push(e){this.list_.push(e)}Pop(){return 0==this.list_.length?null:this.list_.pop()}Peek(){return 0==this.list_.length?null:this.list_[this.list_.length-1]}IsEmpty(){return 0==this.list_.length}}class r{constructor(e){this.callback_=e}Get(){return this.callback_()}}function o(e,t,n){console.error({message:e,context:t||"N/A",contextElement:n||"N/A"})}function l(e,t,n){try{return e()}catch(e){o(e,t,n)}}class a{constructor(e){this.whileCallbacks_=new Array,this.finalCallbacks_=new Array,e((e=>{this.whileCallbacks_.slice(0).forEach(((t,n)=>{!1===l((()=>t(e)),"InlineJS.Loop.While")&&this.whileCallbacks_.splice(n,1)}))}),(e=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0).forEach((t=>l((()=>t(e)),"InlineJS.Loop.Final")))}),(()=>{this.whileCallbacks_.splice(0),this.finalCallbacks_.splice(0)}))}While(e){return this.whileCallbacks_.push(e),this}Final(e){return this.finalCallbacks_.push(e),this}}class s{}function c(e,t=!1){return new RegExp(`^${e}`,t?"i":void 0)}function d(e,t,n){let[i="",...r]=e.trim().split(n||"-"),o=e=>e.charAt(0).toUpperCase()+e.substring(1);return i&&(t?o(i):i)+(r||[]).map((e=>o(e))).join("")}const u={self:"self",event:"event",scope:"scope"},h={componentId:"__InlineJS_CompnentId__",name:"__InlineJS_Name__",path:"__InlineJS_Path__",parentPath:"__InlineJS_ParentPath__",target:"__InlineJS_Target__"};function p(e){return(Array.isArray(e)||e&&"object"==typeof e)&&h.target in e?p(e[h.target]):e}function m(e){return e.map((e=>p(e)))}function v(e){return(e=p(e))&&"object"==typeof e&&(h.target in e||"__proto__"in e&&"Object"===e.__proto__.constructor.name)}function f(e){return!!v(e)}function g(e){return-1==e.findIndex((e=>!v(e)))}function b(e){if(e=p(e),!Array.isArray(e)&&!f(e))return e;if(Array.isArray(e))return e.map((e=>b(e)));let t={};return Object.entries(e).forEach((([e,n])=>t[e]=b(n))),t}function y(e,t=!1){return new RegExp(`${e}$`,t?"i":void 0)}function _(e){return(e=p(e))&&"getAttribute"in e&&"setAttribute"in e}function C(e,t){return t&&_(e)?e.getAttribute(t):null}function E(e,t){for(let n of Array.isArray(t)?t:[t]){let t=C(e,n);if(t)return t}return null}function k(e,t,n=!0){let[i,r]=n?m([e,t]):[e,t];if(i===r)return!0;if(Array.isArray(i)&&Array.isArray(r))return i.length==r.length&&-1==i.findIndex(((e,t)=>!k(e,r[t],n)));if(g([i,r])){let e=Object.keys(i),t=Object.keys(r);return e.length==t.length&&-1==e.findIndex((e=>!t.includes(e)||!k(i[e],r[e],n)))}return i==r}function x(e,t=1e3,n=0,i=0,r=!0){t=t||1;let o=e?Math.floor(e/t):-1,l=0,s=!1,c=0,d=(n,i)=>{if(r){let r=++c;requestAnimationFrame((()=>r==c&&i({passes:n,elapsed:n*t,duration:e,abort:()=>s=!0})))}else i({passes:n,elapsed:n*t,duration:e,abort:()=>s=!0})},u=(r,a,c)=>{if(s)return c();if(l+=1,o>=0&&l>=o){if(!n)return a({passes:o,elapsed:o*t,duration:e});setTimeout((()=>setTimeout(u.bind(null,r,a,c),t)),i),d(o,r),n>0&&(n-=1)}else setTimeout(u.bind(null,r,a,c),t),d(l,r)};return new a(((e,n,i)=>{setTimeout(u.bind(null,e,n,i),t)}))}function I(e){return(e=e?e.trim():"")?e.replace(/[?][?&=\/]+/g,"?").replace(/[&][?&=\/]+/g,"&").replace(/[=][?=\/]+/g,"=").replace(/[\/][\/=]+/g,"/").replace(/[:]{2,}/g,":").replace(/[:][\/]([^\/])/g,"://$1").replace(/[\/?&=]+$/,"").replace(/^[\/?&=]+/,"").split(/[?&]/).reduce(((e,t,n)=>e?`${e}${n<2?"?":"&"}${t}`:t),""):""}function A(e,t,n){return(e=I(e))===t?(e=n&&n||"/").startsWith("/")?e:`/${e}`:(e.startsWith(`${t}/`)&&(e=e.substring(t.length)),/^[a-zA-Z0-9_]+:\/\//.test(e)?e:(n&&(e=e.startsWith("/")?`${n}${e}`:`${n}/${e}`),e.startsWith("/")?e:`/${e}`))}function G(e,t,n){let i=(e=t?A(e,t,n):e).indexOf("?");return{base:-1==i?e:e.substring(0,i),query:-1==i?"":e.substring(i+1)}}function w({base:e,query:t},n,i,r){let o=`${I(e)}?${t}`;return o=n?A(o,n,i):I(o),o=r?I(`${n}/${o}`):o.startsWith("/")||/^[a-zA-Z0-9_]+:\/\//.test(o)?o:`/${o}`,o}function P(e,t,n){t&&_(e)&&e.setAttribute(t,n)}const S="InlineJS_Comp_Cache";function O(){return globalThis[S]={id:"",component:null}}function F(e){let t=globalThis[S]=globalThis[S]||O();return e===t.id||(t.component=Te().FindComponentById(e),t.id=t.component?e:""),t.component}function M(e){return Te().FindComponentByName(e)}function H(e){return Te().FindComponentByRoot(e)}function D(e,t,n){console.warn({message:e,context:t||"N/A",contextElement:n||"N/A"})}function R(e){return{originalView:e.meta.view.original,expandedView:e.meta.view.expanded,nameValue:e.meta.name.value,nameJoined:e.meta.name.joined,nameParts:e.meta.name.parts,argKey:e.meta.arg.key,argOptions:e.meta.arg.options,expression:e.value}}function T(e,t,n,i=0){let r="string"==typeof e?F(e):e;if(!r)return o(`Failed to find component for '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1;let a=null,s=r.FindElementScope(t);if(s&&(a=s.GetDirectiveManager().FindHandler(n.meta.name.joined),++i),a=a||Te().GetDirectiveManager().FindHandler(n.meta.name.joined),!a){let e=`${n.meta.name.parts.reduce(((e,t)=>e?`${e}${t.substring(0,1).toUpperCase()}${t.substring(1)}`:t),"")}DirectiveHandler`;e in globalThis&&"function"==typeof globalThis[e]&&(a=globalThis[e])}return a?(0!=i||s||r.CreateElementScope(t),l((()=>{a(Object.assign(Object.assign({},R(n)),{componentId:r.GetId(),component:r,contextElement:t}))}),"InlineJS.DispatchDirective",t),!0):(D(`No handler found '${n.meta.view.original}'`,"InlineJS.DispatchDirective",t),!1)}function $(){return Te().GetConfig()}function L(e,t){return n=>-1==n.search(e)?null:n.replace(e,t)}function N(e){return Te().GetDirectiveManager().AddExpansionRule(e)}function j(e){Te().GetDirectiveManager().RemoveExpansionRule(e)}function B(e){return Te().GetDirectiveManager().Expand(e)}let J={};function z(e,t){if(!e||!(e=e.trim()))return null;if((t=t.trim())===e&&(t=""),e in J)return{meta:J[e],value:t};let n=B(e),i=n.match($().GetDirectiveRegex());if(!i||3!=i.length||!i[2])return null;let r=i[2].indexOf(":"),o=-1==r?[i[2]]:[i[2].substring(0,r),i[2].substring(r+1)],l="",a="";o.length>1?[l,a]=o:[a]=o;let s=a.split("."),c="";l?c=s[0]:l=s[0],s.splice(0,1);let d=l.split("-"),u={view:{original:e,expanded:n},name:{value:l,joined:d.join("."),parts:d},arg:{key:c,options:s||[]}};return J[e]=u,{meta:u,value:t}}function U({element:e,callback:t,attributeCallback:n}){Array.from(e.attributes||[]).forEach((i=>{try{n&&n(i.name,i.value||"");let e=z(i.name,i.value||"");e&&t(e)}catch(t){o(t,"InlineJS.TraverseDirectives",e)}}))}function q({component:e,element:t,options:n={}}){var i;if(!function(e,{checkTemplate:t=!0,checkDocument:n=!0}){return 1===(null==e?void 0:e.nodeType)&&(!n||document.contains(e))&&(!t||e instanceof HTMLTemplateElement||!e.closest("template"))}(t,n))return;let r="string"==typeof e?F(e):e;if(!r)return o("Failed to find component.","InlineJS.ProcessDirectives",t),!1;let l=0;U({element:t,callback:n=>{T(e,t,n,l)&&(t.removeAttribute(n.meta.view.original),++l)},attributeCallback:(e,n)=>Te().DispatchAttributeProcessing({name:e,value:n,componentId:r.GetId(),component:r,contextElement:t})}),Te().DispatchTextContentProcessing({componentId:r.GetId(),component:r,contextElement:t}),n.ignoreChildren||t instanceof HTMLTemplateElement||(null==r||r.PushSelectionScope(),Array.from(t.children).forEach((t=>q({component:e,options:n,element:t}))),null==r||r.PopSelectionScope()),null===(i=null==r?void 0:r.CreateElementScope(t))||void 0===i||i.ExecutePostProcessCallbacks()}const K="__InlineJS_ELSCOPE_KEY__";function W(e){let t="";for(;e;){if(t=K in(n=e)&&n[K],t||e===document.body)return t||"";e=e.parentElement}var n;return""}function V(e){let t=W(e).match(/^Cmpnt\<([0-9_]+)\>/);return t?F(t[1]):null}function Y(e,t,n,i="",r=!0){let a="string"==typeof e?F(e):e;if(!a)return o(`Failed to find component for '$${n}'`,"InlineJS.EvaluateMagicProperty",t),Te().CreateNothing();let s=Te().GetMagicManager().FindHandler(i&&n.startsWith(i)?n.substring(i.length):n,{contextElement:t,componentId:a.GetId(),component:a});if(!s){if(r&&i&&n.startsWith(`${i}${i}`)){let e=a.GetId();return t=>{let r=V(t)||F(e);if(!r)return null;let o=r.FindElementScope(t),l=o&&o.GetLocal(n.substring(i.length));return o&&!Te().IsNothing(l)?l:Y(r.GetId(),t,n,`${i}${i}`,!1)}}return Te().CreateNothing()}return l((()=>s({componentId:a.GetId(),component:a,contextElement:t})),"InlineJS.EvaluateMagicProperty",t)}function X(e,t,n,i,r=!0){if(!i)return;let o={componentId:i.GetComponentId(),type:e,path:t,prop:n,origin:i.PeekOrigin()};if(i.Add(o),!r)return;let l=t.split(".");for(;l.length>2;)l.pop(),i.Add({original:o,path:l.join(".")})}function Q(e,t,n,i){var r;if(!(i in t))return!1;let o=F(e);return null===(r=null==o?void 0:o.FindProxy(n))||void 0===r||r.RemoveChild(i),delete t[i],null==o||o.RemoveProxy(`${n}.${i}`),X("delete",n,i,null==o?void 0:o.GetBackend().changes),!0}function Z(e,t,n,i){if(!e)return null;let r=e.FindChild(t);if(r)return r;if(!Array.isArray(n)&&!f(n))return null;let o=Te().CreateChildProxy(e,t,n);return i&&i.AddProxy(o),o}function ee(e,t,n,i,r){var o;if(i===h.target)return t;if(i===h.componentId)return e;if(i===h.name)return n.split(".").at(-1);if(i===h.path)return n;if(i===h.parentPath)return n.split(".").slice(0,-1).join(".")||"";let l=i in t;if(!l&&r){let t=r(F(e)||void 0,i);if(!Te().IsNothing(t))return Te().IsFuture(t)?t.Get():t}if(l&&!t.hasOwnProperty(i))return t[i];let a=l?t[i]:null;if(Te().IsFuture(a))return a.Get();let s=F(e);return null==s||s.GetBackend().changes.AddGetAccess(`${n}.${i}`),(null===(o=Z((null==s?void 0:s.FindProxy(n))||null,i,a,s||void 0))||void 0===o?void 0:o.GetNative())||a}function te(e,t,n,i,r){var o;if(i in t&&r===t[i])return!0;let l=F(e);return null===(o=null==l?void 0:l.FindProxy(n))||void 0===o||o.RemoveChild(i),t[i]=r,null==l||l.RemoveProxy(`${n}.${i}`),X("set",`${n}.${i}`,i,null==l?void 0:l.GetBackend().changes),!0}class ne{constructor(e,t,n,i){this.componentId_=e,this.target_=t,this.name_=n,this.native_=null,this.children_={},this.parentPath_=(null==i?void 0:i.GetPath())||"",null==i||i.AddChild(this);let r=this.componentId_,o=this.GetPath(),l=(e,t)=>{let{context:n}=null==e?void 0:e.GetBackend(),i=null==t?void 0:t.startsWith("$");if(i){let e=n.Peek(t.substring(1),Te().CreateNothing());if(!Te().IsNothing(e))return e}let r=n.Peek(u.self),o=null==e?void 0:e.FindElementLocalValue(r||e.GetRoot(),t,!0);if(!Te().IsNothing(o))return o;let l=i?Y(e,r,t,"$"):Te().CreateNothing();return Te().IsNothing(l)&&t&&t in globalThis&&(l=globalThis[t]),l},a=!this.parentPath_,s={get:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):ee(r,e,o,t.toString(),a?l:void 0),set:(e,t,n)=>"symbol"==typeof t||"prototype"===t?Reflect.set(e,t,n):te(r,e,o,t.toString(),n),deleteProperty:(e,t)=>"symbol"==typeof t||"prototype"===t?Reflect.get(e,t):Q(r,e,o,t.toString()),has:(e,t)=>"symbol"!=typeof t||Reflect.has(e,t)};this.native_=new window.Proxy(this.target_,s)}IsRoot(){return!this.parentPath_}GetComponentId(){return this.componentId_}GetTarget(){return this.target_}GetNative(){return this.native_}GetName(){return this.name_}GetPath(){return this.parentPath_?`${this.parentPath_}.${this.name_}`:this.name_}GetParentPath(){return this.parentPath_}AddChild(e){this.children_[e.GetName()]=e}RemoveChild(e){delete this.children_["string"==typeof e?e:e.GetName()]}FindChild(e){return this.children_.hasOwnProperty(e)?this.children_[e]:null}}class ie extends ne{constructor(e,t){super(e,t,`Proxy<${e}>`)}}function re(){return{level0:0,level1:0,level2:0}}function oe(e,t="level0",n="level1"){e[t]==(Number.MAX_SAFE_INTEGER||9007199254740991)?("level0"===t?oe(e,"level1","level2"):++e[n],e[t]=0):++e[t]}function le(e){return`${e.level2}_${e.level1}_${e.level0}`}function ae(e,t,n,i){return oe(e),`${t||""}${n||""}${le(e)}${i||""}`}function se(e){Te().PushCurrentComponent(e)}function ce(){return Te().PopCurrentComponent()}function de(){return Te().PeekCurrentComponent()}class ue{constructor(e){this.componentId_=e,this.nextTickHandlers_=new Array,this.isScheduled_=!1,this.list_=new Array,this.subscribers_={},this.lastAccessContext_="",this.getAccessStorages_=new i,this.origins_=new i}GetComponentId(){return this.componentId_}AddNextTickHandler(e){this.nextTickHandlers_.push(e)}Schedule(){this.isScheduled_||(this.isScheduled_=!0,queueMicrotask((()=>{this.isScheduled_=!1;let e=new Array;this.list_.splice(0).forEach((t=>{Object.values(this.subscribers_).filter((e=>e.path===t.path&&e.callback!==(e=>"original"in e?e.original.origin:e.origin)(t))).forEach((n=>((t,n)=>{let i=e.find((e=>e.callback===n));i?i.changes.push(t):e.push({callback:n,changes:new Array(t)})})(t,n.callback)))})),e.forEach((e=>e.callback(e.changes))),this.nextTickHandlers_.splice(0).forEach((e=>{try{e()}catch(e){o(e,`InlineJs.Region<${this.componentId_}>.NextTick`)}}))})))}Add(e){this.list_.push(e),this.Schedule()}AddComposed(e,t,n){let i={componentId:this.componentId_,type:"set",path:t?`${t}.${e}`:e,prop:e,origin:this.origins_.Peek()};n?this.Add({original:i,path:n}):this.Add(i)}GetLastChange(e=0){return b(this.list_.at(-(e+1))||null)}AddGetAccess(e){var t,n,i,r;let o=(null===(t=F(de()||""))||void 0===t?void 0:t.GetBackend().changes)||this,l=e.lastIndexOf(".");this.lastAccessContext_=-1==l?"":e.substring(0,l);let a=o.getAccessStorages_.Peek();(null==a?void 0:a.details)&&(null===(n=a.details.raw)||void 0===n||n.entries.push({compnentId:this.componentId_,path:e}),a.details.optimized&&a.details.optimized.entries!==(null===(i=a.details.raw)||void 0===i?void 0:i.entries)&&0!=a.details.optimized.entries.length&&a.lastAccessPath&&a.lastAccessPath.length<e.length&&0==e.indexOf(`${a.lastAccessPath}.`)?a.details.optimized.entries.at(-1).path=e:a.details.optimized&&a.details.optimized.entries!==(null===(r=a.details.raw)||void 0===r?void 0:r.entries)&&a.details.optimized.entries.push({compnentId:this.componentId_,path:e}),a.lastAccessPath=e)}GetLastAccessContext(){return this.lastAccessContext_}ResetLastAccessContext(){this.lastAccessContext_=""}PushGetAccessStorage(e){var t;this.getAccessStorages_.Push({details:e||{optimized:"optimized"===(null===(t=F(this.componentId_))||void 0===t?void 0:t.GetReactiveState())?{entries:new Array,snapshots:new i}:void 0,raw:{entries:new Array,snapshots:new i}},lastAccessPath:""})}PopGetAccessStorage(){var e;return(null===(e=this.getAccessStorages_.Pop())||void 0===e?void 0:e.details)||null}SwapOptimizedGetAccessStorage(){let e=this.getAccessStorages_.Peek();(null==e?void 0:e.details.optimized)&&e.details.raw&&(e.details.optimized.entries=e.details.raw.entries)}RestoreOptimizedGetAccessStorage(){var e;let t=this.getAccessStorages_.Peek();(null==t?void 0:t.details.optimized)&&t.details.optimized.entries===(null===(e=t.details.raw)||void 0===e?void 0:e.entries)&&(t.details.optimized.entries=t.details.raw.entries.slice(0))}FlushRawGetAccessStorage(){var e,t;null===(t=null===(e=this.getAccessStorages_.Peek())||void 0===e?void 0:e.details.raw)||void 0===t||t.entries.splice(0)}PushGetAccessStorageSnapshot(){var e,t;let n=this.getAccessStorages_.Peek();null===(e=null==n?void 0:n.details.optimized)||void 0===e||e.snapshots.Push(n.details.optimized.entries.slice(0).map((e=>Object.assign({},e)))),null===(t=null==n?void 0:n.details.raw)||void 0===t||t.snapshots.Push(n.details.raw.entries.slice(0).map((e=>Object.assign({},e))))}PopGetAccessStorageSnapshot(e){var t,n,i,r;let o=this.getAccessStorages_.Peek(),l=null===(t=null==o?void 0:o.details.optimized)||void 0===t?void 0:t.snapshots.Pop();!e&&l&&(null===(n=null==o?void 0:o.details.optimized)||void 0===n?void 0:n.entries)&&(o.details.optimized.entries=l);let a=null===(i=null==o?void 0:o.details.raw)||void 0===i?void 0:i.snapshots.Pop();!e&&a&&(null===(r=null==o?void 0:o.details.raw)||void 0===r?void 0:r.entries)&&(o.details.raw.entries=a)}PopAllGetAccessStorageSnapshots(e){var t,n,i,r,o,l;let a=this.getAccessStorages_.Peek(),s=null===(t=null==a?void 0:a.details.optimized)||void 0===t?void 0:t.snapshots.Pop();for(;(null===(n=null==a?void 0:a.details.optimized)||void 0===n?void 0:n.snapshots)&&!a.details.optimized.snapshots.IsEmpty();)s=a.details.optimized.snapshots.Pop();!e&&s&&(null===(i=null==a?void 0:a.details.optimized)||void 0===i?void 0:i.entries)&&(a.details.optimized.entries=s);let c=null===(r=null==a?void 0:a.details.raw)||void 0===r?void 0:r.snapshots.Pop();for(;(null===(o=null==a?void 0:a.details.raw)||void 0===o?void 0:o.snapshots)&&!a.details.raw.snapshots.IsEmpty();)c=a.details.raw.snapshots.Pop();!e&&c&&(null===(l=null==a?void 0:a.details.raw)||void 0===l?void 0:l.entries)&&(a.details.raw.entries=c)}PushOrigin(e){this.origins_.Push(e)}PeekOrigin(){return this.origins_.Peek()}PopOrigin(){return this.origins_.Pop()}Subscribe(e,t){var n;let i=null===(n=F(this.componentId_))||void 0===n?void 0:n.GenerateUniqueId("sub_");return i&&(this.subscribers_[i]={path:e,callback:t}),i||""}Unsubscribe(e,t){"string"!=typeof e?Object.entries(this.subscribers_).filter((([n,i])=>e===i.callback&&(!t||t===i.path))).map((([e])=>e)).forEach((e=>{this.Unsubscribe_(e)})):e in this.subscribers_&&this.Unsubscribe_(e)}Unsubscribe_(e){delete this.subscribers_[e]}}class he{constructor(){this.record_={}}Push(e,t){(this.record_[e]=this.record_[e]||new i).Push(t)}Pop(e,t){return e in this.record_?this.record_[e].Pop():t||null}Peek(e,t){return e in this.record_?this.record_[e].Peek():t||null}Get(e){return e in this.record_?this.record_[e]:null}}function pe(e,t,n){let i="function"==typeof e?function(e){return{handler(t){var{argKey:n}=t,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["argKey"]);this.extensions.hasOwnProperty(n)?this.extensions[n](Object.assign({argKey:n},i)):e(Object.assign({argKey:n},i))},extensions:{}}}(e):e;return i.extensions[t]=n,i}function me(e,t){let n="",i=null;return"function"==typeof e?(n=t||"",i=e):(n=e.GetName(),i=t=>e.Handle(t)),{computedName:n,callback:i}}class ve{constructor(){this.expansionRules_={},this.handlers_={}}AddExpansionRule(e){let t=Te().GenerateUniqueId("exrule_");return this.expansionRules_[t]=e,t}RemoveExpansionRule(e){e in this.expansionRules_&&delete this.expansionRules_[e]}Expand(e){if(!(e=e.trim()))return e;for(let t in this.expansionRules_){let n=this.expansionRules_[t](e);if(n)return n}return e}AddHandler(e,t){let{computedName:n,callback:i}=me(e,t);n&&i&&(this.handlers_[n]=i)}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e){if(!this.handlers_.hasOwnProperty(e))return null;let t=this.handlers_[e];return"function"==typeof t?t:t.handler.bind(t)}AddHandlerExtension(e,t,n){let i=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;if(!i)return;let{computedName:r,callback:o}=me(t,n);r&&o&&(this.handlers_[e]=pe(i,r,o))}RemoveHandlerExtension(e,t){let n=this.handlers_.hasOwnProperty(e)?this.handlers_[e]:null;n&&function(e,t){"function"!=typeof e&&e.extensions.hasOwnProperty(t)&&delete e.extensions[t]}(n,t)}}function fe(e,t){var n;null===(n="string"==typeof e?F(e):e)||void 0===n||n.PushCurrentScope(t)}function ge(e){var t;return(null===(t="string"==typeof e?F(e):e)||void 0===t?void 0:t.PopCurrentScope())||null}function be(e){var t;return(null===(t="string"==typeof e?F(e):e)||void 0===t?void 0:t.PeekCurrentScope())||null}function ye(){return globalThis.InlineJS_OutsideEvent=globalThis.InlineJS_OutsideEvent||{targetScopes:new Array,eventCallbacks:{}}}function _e(e,t,n){let i=ye(),r=i.targetScopes.find((t=>t.target===e));r||(r={target:e,listeners:{}},i.targetScopes.push(r)),(Array.isArray(t)?t:[t]).forEach((e=>{e in r.listeners||(r.listeners[e]={handlers:new Array,excepts:null}),r.listeners[e].handlers.push({callback:n,excepts:null}),e in i.eventCallbacks||(i.eventCallbacks[e]=e=>{i.targetScopes.forEach((t=>{e.type in t.listeners&&t.target!==e.target&&!t.target.contains(e.target)&&-1==(t.listeners[e.type].excepts||[]).findIndex((t=>t===e.target||t.contains(e.target)))&&t.listeners[e.type].handlers.filter((t=>-1==(t.excepts||[]).findIndex((t=>t===e.target||t.contains(e.target))))).forEach((t=>l((()=>t.callback(e)),"InlineJS.OutsideEventListener")))}))},window.addEventListener(e,i.eventCallbacks[e]))}))}function Ce(e,t,n){let i=ye().targetScopes.find((t=>t.target===e));i&&(Array.isArray(t)?t:[t]).forEach((e=>{e in i.listeners&&(n?i.listeners[e].handlers=i.listeners[e].handlers.filter((e=>e.callback!==n)):delete i.listeners[e])}))}function Ee(e,t,n){let i=ye().targetScopes.find((t=>t.target===e));i&&Object.keys(t).forEach((e=>{if(e in i.listeners)if(n){let r=i.listeners[e].handlers.find((e=>e.callback===n));r&&(r.excepts=r.excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((e=>{r.excepts.push(e)})))}else i.listeners[e].excepts=i.listeners[e].excepts||new Array,(Array.isArray(t[e])?t[e]:[t[e]]).forEach((t=>{i.listeners[e].excepts.push(t)}))}))}function ke(e){ye().targetScopes=ye().targetScopes.filter((t=>t.target!==e&&e.contains(t.target)))}class xe{constructor(e,t,n,i){this.componentId_=e,this.id_=t,this.element_=n,this.isRoot_=i,this.scopeId_="",this.key_="",this.locals_={},this.data_={},this.managers_={directive:null},this.callbacks_={post:new Array,uninit:new Array,treeChange:new Array,attributeChange:new Array},this.state_={isMarked:!1,isDestroyed:!1},this.scopeId_=be(this.componentId_)||""}GetComponentId(){return this.componentId_}GetScopeId(){return this.scopeId_}GetId(){return this.id_}SetKey(e){this.key_=e}GetKey(){return this.key_}GetElement(){return this.element_}IsRoot(){return this.isRoot_}SetLocal(e,t){this.state_.isMarked||(this.locals_[e]=t)}DeleteLocal(e){delete this.locals_[e]}HasLocal(e){return e in this.locals_}GetLocal(e){return e in this.locals_?this.locals_[e]:Te().CreateNothing()}GetLocals(){return this.locals_}SetData(e,t){this.state_.isMarked||(this.data_[e]=t)}GetData(e){return e in this.data_?this.data_[e]:Te().CreateNothing()}AddPostProcessCallback(e){this.state_.isMarked||this.callbacks_.post.push(e)}ExecutePostProcessCallbacks(){(this.callbacks_.post||[]).forEach((e=>l(e,"ElementScope.ExecutePostProcessCallbacks")))}AddUninitCallback(e){this.state_.isMarked||this.callbacks_.uninit.push(e)}RemoveUninitCallback(e){this.callbacks_.uninit=this.callbacks_.uninit.filter((t=>t!==e))}AddTreeChangeCallback(e){this.callbacks_.treeChange.push(e)}RemoveTreeChangeCallback(e){this.callbacks_.treeChange=this.callbacks_.treeChange.filter((t=>t!==e))}ExecuteTreeChangeCallbacks(e,t){this.callbacks_.treeChange.forEach((n=>l((()=>n({added:e,removed:t})))))}AddAttributeChangeCallback(e,t){if(this.state_.isMarked)return;let n=this.callbacks_.attributeChange.find((t=>t.callback===e));n?n.whitelist.push(...t||[]):this.callbacks_.attributeChange.push({callback:e,whitelist:"string"==typeof t?[t]:t||[]})}RemoveAttributeChangeCallback(e,t){let n=this.callbacks_.attributeChange.findIndex((t=>t.callback===e));if(-1==n)return;let i="string"==typeof t?[t]:t||[];0!=i.length&&0!=this.callbacks_.attributeChange[n].whitelist.length?i.forEach((e=>{this.callbacks_.attributeChange[n].whitelist=this.callbacks_.attributeChange[n].whitelist.filter((t=>t!==e))})):this.callbacks_.attributeChange[n].whitelist.splice(0),0==this.callbacks_.attributeChange[n].whitelist.length&&this.callbacks_.attributeChange.splice(n,1)}ExecuteAttributeChangeCallbacks(e){(this.callbacks_.attributeChange||[]).filter((t=>0==(t.whitelist||[]).length||t.whitelist.includes(e))).forEach((t=>l((()=>t.callback(e)))))}Destroy(e){if(this.state_.isDestroyed)return;if(this.state_.isMarked=!0,!(this.element_ instanceof HTMLTemplateElement)&&"svg"!==this.element_.tagName.toLowerCase()){let t=F(this.componentId_);t&&this.DestroyChildren_(t,this.element_,e||!1)}if(e)return;this.callbacks_.uninit.splice(0).forEach((e=>{try{e()}catch(e){}})),this.callbacks_.post.splice(0),this.callbacks_.treeChange.splice(0),this.callbacks_.attributeChange.splice(0),this.data_={},this.locals_={},this.state_.isDestroyed=!0,ke(this.element_),Te().GetMutationObserver().Unobserve(this.element_);let t=F(this.componentId_);if(null==t||t.RemoveElementScope(this.id_),delete this.element_[K],this.isRoot_){let e=this.componentId_;null==t||t.GetBackend().changes.AddNextTickHandler((()=>Te().RemoveComponent(e)))}}IsMarked(){return this.state_.isMarked}IsDestroyed(){return this.state_.isDestroyed}GetDirectiveManager(){return this.managers_.directive=this.managers_.directive||new ve}DestroyChildren_(e,t,n){Array.from(t.children).forEach((t=>{let i=e.FindElementScope(t);i?i.Destroy(n):this.DestroyChildren_(e,t,n)}))}}class Ie{constructor(e,t,n){this.componentId_=e,this.id_=t,this.root_=n,this.name_=""}GetComponentId(){return this.componentId_}GetId(){return this.id_}SetName(e){this.name_=e}GetName(){return this.name_}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}}class Ae{constructor(e,t){this.id_=e,this.root_=t,this.reactiveState_="default",this.name_="",this.context_=new he,this.scopes_={},this.elementScopes_={},this.proxies_={},this.refs_={},this.currentScope_=new i,this.selectionScopes_=new i,this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observers_={intersections:{}},this.changes_=new ue(this.id_),this.rootProxy_=new ie(this.id_,{}),this.proxies_[this.rootProxy_.GetPath()]=this.rootProxy_,this.CreateElementScope(this.root_),Te().GetMutationObserver().Observe(this.root_,(({added:t,removed:n,attributes:i})=>{let r=F(e);if(!r)return;let o=new Array,l=Te().GetConfig().GetDirectiveRegex();null==i||i.filter((e=>e.target instanceof HTMLElement)).forEach((e=>{var t;l.test(e.name)?e.target.hasAttribute(e.name)&&!o.includes(e.target)&&o.push(e.target):null===(t=null==r?void 0:r.FindElementScope(e.target))||void 0===t||t.ExecuteAttributeChangeCallbacks(e.name)})),o.forEach((e=>q({element:e,component:r,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})));let a=[...t||[]];null==t||t.filter((e=>!(null==n?void 0:n.includes(e)))).forEach((e=>{var t;if(e instanceof HTMLElement){q({component:r,element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}});for(let n=e.parentElement;n&&(null===(t=null==r?void 0:r.FindElementScope(n))||void 0===t||t.ExecuteTreeChangeCallbacks([e],[]),n!==this.root_);n=n.parentElement);}})),null==n||n.filter((e=>!a.includes(e))).forEach((e=>{var t;e instanceof HTMLElement&&(null===(t=r.FindElementScope(e))||void 0===t||t.Destroy())}))}),["add","remove","attribute"])}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return"default"===this.reactiveState_?$().GetReactiveState():this.reactiveState_}GetId(){return this.id_}GenerateUniqueId(e,t){return ae(this.uniqueMarkers_,`Cmpnt<${this.id_}>.`,e,t)}SetName(e){this.name_=e}GetName(){return this.name_}CreateScope(e){let t=Object.values(this.scopes_).find((t=>t.GetRoot()===e));if(t)return t;if(e===this.root_||!this.root_.contains(e))return null;let n=new Ie(this.id_,this.GenerateUniqueId("scope_"),e);return this.scopes_[n.GetId()]=n,n}RemoveScope(e){let t="string"==typeof e?e:e.GetId();t in this.scopes_&&delete this.scopes_[t]}FindScopeById(e){return e in this.scopes_?this.scopes_[e]:null}FindScopeByName(e){return Object.values(this.scopes_).find((t=>t.GetName()===e))||null}FindScopeByRoot(e){return Object.values(this.scopes_).find((t=>t.GetRoot()===e))||null}PushCurrentScope(e){this.currentScope_.Push(e)}PopCurrentScope(){return this.currentScope_.Pop()}PeekCurrentScope(){return this.currentScope_.Peek()}InferScopeFrom(e){var t;return this.FindScopeById((null===(t=this.FindElementScope(W(e)))||void 0===t?void 0:t.GetScopeId())||"")||null}PushSelectionScope(){let e={set:!1};return this.selectionScopes_.Push(e),e}PopSelectionScope(){return this.selectionScopes_.Pop()}PeekSelectionScope(){return this.selectionScopes_.Peek()}GetRoot(){return this.root_}FindElement(e,t){if(e===this.root_||!this.root_.contains(e))return null;do{e=e.parentElement;try{if(t(e))return e}catch(e){}}while(e!==this.root_);return null}FindAncestor(e,t){let n=t||0;return this.FindElement(e,(()=>0==n--))}CreateElementScope(e){let t=Object.values(this.elementScopes_).find((t=>t.GetElement()===e));if(t)return t;if(e!==this.root_&&!this.root_.contains(e))return null;let n=new xe(this.id_,this.GenerateUniqueId("elscope_"),e,e===this.root_);return this.elementScopes_[n.GetId()]=n,e[K]=n.GetId(),n}RemoveElementScope(e){delete this.elementScopes_[e]}FindElementScope(e){if("string"==typeof e)return e in this.elementScopes_?this.elementScopes_[e]:null;let t=!0===e?this.context_.Peek(u.self):e instanceof Node?e:this.root_;return t&&K in t&&t[K]in this.elementScopes_?this.elementScopes_[t[K]]:null}FindElementLocalValue(e,t,n){let i=this.FindElementScope(e),r=i?i.GetLocal(t):Te().CreateNothing();if(!Te().IsNothing(r)||!n||!i&&"string"==typeof e)return r;let o=(null==i?void 0:i.GetElement())||(!0===e?this.context_.Peek(u.self):e instanceof Node?e:this.root_);if(!o)return r;let l=this.FindAncestor(o);return l?this.FindElementLocalValue(l,t,!0):r}AddProxy(e){this.proxies_[e.GetPath()]=e}RemoveProxy(e){let t="string"==typeof e?e:e.GetPath();t in this.proxies_&&delete this.proxies_[t]}GetRootProxy(){return this.rootProxy_}FindProxy(e){return e in this.proxies_?this.proxies_[e]:null}AddRefElement(e,t){this.refs_[e]=t}FindRefElement(e){return e in this.refs_?this.refs_[e]:null}AddIntersectionObserver(e){this.observers_.intersections[e.GetId()]=e}FindIntersectionObserver(e){return e in this.observers_.intersections?this.observers_.intersections[e]:null}RemoveIntersectionObserver(e){e in this.observers_.intersections&&delete this.observers_.intersections[e]}GetBackend(){return{context:this.context_,changes:this.changes_}}GetGlobal(){return Te()}}class Ge{constructor(){this.handlers_={}}AddHandler(e,t,n){let i="",r=null;"function"==typeof e?(i=t||"",r=e):(i=e.GetName(),r=t=>e.Handle(t)),i&&r&&(this.handlers_[i]={callback:r,onAccess:n})}RemoveHandler(e){e in this.handlers_&&delete this.handlers_[e]}FindHandler(e,t){return e in this.handlers_?(t&&this.handlers_[e].onAccess&&this.handlers_[e].onAccess(t),this.handlers_[e].callback):null}}class we{constructor(){if(this.uniqueMarkers_={level0:0,level1:0,level2:0},this.observer_=null,this.handlers_={},globalThis.MutationObserver)try{this.observer_=new globalThis.MutationObserver((e=>{let t={},n=e=>t[e]=t[e]||{added:new Array,removed:new Array,attributes:new Array};e.forEach((e=>{var t;let i=e.target instanceof HTMLElement?W((null===(t=V(e.target))||void 0===t?void 0:t.GetRoot())||null):"";if(i)if("childList"===(null==e?void 0:e.type)){let t=n(i);t.added.push(...Array.from(e.addedNodes)),t.removed.push(...Array.from(e.removedNodes))}else"attributes"===(null==e?void 0:e.type)&&e.attributeName&&n(i).attributes.push({name:e.attributeName,target:e.target})})),0!=Object.keys(t).length&&Object.entries(this.handlers_).forEach((([e,n])=>{let i=n.target instanceof HTMLElement?W(n.target):"";if(!i||!(i in t))return;let r=(e,t,n)=>!t.whitelist||t.whitelist.includes(e)?n:void 0,o=r("add",n,t[i].added),a=r("remove",n,t[i].removed),s=r("attribute",n,t[i].attributes);(o||a||s)&&l((()=>n.handler({id:e,added:o,removed:a,attributes:s})),"InlineJS.MutationObserver")}))})),this.observer_.observe(document,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}catch(e){this.observer_=null}}GetNative(){return this.observer_}Observe(e,t,n){let i=ae(this.uniqueMarkers_);return this.handlers_[i]={target:e,handler:t,whitelist:n},i}Unobserve(e){"string"!=typeof e?Object.entries(this.handlers_).filter((([t,n])=>n.target===e)).forEach((([e])=>delete this.handlers_[e])):delete this.handlers_[e]}}class Pe extends ne{constructor(e,t,n){super(e.GetComponentId(),n,t,e)}}class Se{constructor({appName:e="",reactiveState:t="unoptimized",directivePrefix:n="x",directiveRegex:i,directiveNameBuilder:r}={}){this.keyMap_={return:"enter",ctrl:"control",esc:"escape",space:" ",menu:"contextmenu",del:"delete",ins:"insert",plus:"+",minus:"-",star:"*",slash:"/",alpha:Array.from({length:26}).map(((e,t)=>String.fromCharCode(t+97))),digit:Array.from({length:10}).map(((e,t)=>t.toString()))},this.booleanAttributes_=new Array("allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"),this.appName_=e,this.reactiveState_=t,this.directiveRegex_=i||new RegExp(`^(data-)?${n||"x"}-(.+)$`),this.directiveNameBuilder_=r||((e,t=!1)=>t?`data-${n||"x"}-${e}`:`${n||"x"}-${e}`)}GetAppName(){return this.appName_}GetDirectiveRegex(){return this.directiveRegex_}GetDirectiveName(e,t){return this.directiveNameBuilder_(e,t)}AddKeyEventMap(e,t){this.keyMap_[e]=t}RemoveKeyEventMap(e){delete this.keyMap_[e]}MapKeyEvent(e){return e in this.keyMap_?this.keyMap_[e]:e}AddBooleanAttribute(e){this.booleanAttributes_.push(e)}RemoveBooleanAttribute(e){this.booleanAttributes_=this.booleanAttributes_.filter((t=>t!==e))}IsBooleanAttribute(e){return this.booleanAttributes_.includes(e)}SetReactiveState(e){this.reactiveState_=e}GetReactiveState(){return this.reactiveState_}}class Oe{Get(e,t){return fetch(e,t)}}class Fe{constructor(e,t=0){this.nothing_=new s,this.componentsMonitorList_=new Array,this.components_={},this.currentComponent_=new i,this.attributeProcessors_=new Array,this.textContentProcessors_=new Array,this.managers_={directive:new ve,magic:new Ge},this.uniqueMarkers_={level0:0,level1:0,level2:0},this.mutationObserver_=new we,this.nativeFetch_=new Oe,this.fetchConcept_=null,this.concepts_={},this.config_=new Se(e||{}),this.uniqueMarkers_.level0=t||0}SwapConfig(e){this.config_=e}GetConfig(){return this.config_}GenerateUniqueId(e,t){return ae(this.uniqueMarkers_,"",e,t)}AddComponentMonitor(e){this.componentsMonitorList_.push(e)}RemoveComponentMonitor(e){this.componentsMonitorList_=this.componentsMonitorList_.filter((t=>t!==e))}CreateComponent(e){let t=this.InferComponentFrom(e);if(t)return t;let n=new Ae(this.GenerateUniqueId(),e);return this.components_[n.GetId()]=n,this.componentsMonitorList_.slice(0).forEach((e=>l((()=>e({action:"add",component:n})),"InlineJS.Global.CreateComponent"))),n}RemoveComponent(e){let t="string"==typeof e?e:e.GetId();if(this.components_.hasOwnProperty(t)){let e=this.components_[t];delete this.components_[t],this.componentsMonitorList_.slice(0).forEach((t=>l((()=>t({action:"remove",component:e})),"InlineJS.Global.RemoveComponent")))}}TraverseComponents(e){Object.values(this.components_).some((t=>!1===e(t)))}FindComponentById(e){return e&&e in this.components_?this.components_[e]:null}FindComponentByName(e){return e&&Object.values(this.components_).find((t=>t.GetName()===e))||null}FindComponentByRoot(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e))||null}PushCurrentComponent(e){this.currentComponent_.Push(e)}PopCurrentComponent(){return this.currentComponent_.Pop()}PeekCurrentComponent(){return this.currentComponent_.Peek()}GetCurrentComponent(){return this.FindComponentById(this.PeekCurrentComponent()||"")}InferComponentFrom(e){return e&&Object.values(this.components_).find((t=>t.GetRoot()===e||t.GetRoot().contains(e)))||null}GetDirectiveManager(){return this.managers_.directive}GetMagicManager(){return this.managers_.magic}AddAttributeProcessor(e){this.attributeProcessors_.push(e)}DispatchAttributeProcessing(e){this.attributeProcessors_.forEach((t=>l((()=>t(e)),"InlineJS.Global.DispatchAttribute",e.contextElement)))}AddTextContentProcessor(e){this.textContentProcessors_.push(e)}DispatchTextContentProcessing(e){this.textContentProcessors_.forEach((t=>l((()=>t(e)),"InlineJS.Global.DispatchTextContent",e.contextElement)))}GetMutationObserver(){return this.mutationObserver_}SetFetchConcept(e){this.fetchConcept_=e}GetFetchConcept(){return this.fetchConcept_||this.nativeFetch_}SetConcept(e,t){this.concepts_[e]=t}RemoveConcept(e){delete this.concepts_[e]}GetConcept(e){return this.concepts_.hasOwnProperty(e)?this.concepts_[e]:null}CreateChildProxy(e,t,n){return new Pe(e,t,n)}CreateFuture(e){return new r(e)}IsFuture(e){return e instanceof r}CreateNothing(){return this.nothing_}IsNothing(e){return e instanceof s}}const Me="__InlineJS_GLOBAL_KEY__";function He(e,t=0){return O(),globalThis[Me]=new Fe(e,t),window.dispatchEvent(new CustomEvent(Re)),globalThis[Me]}function De(e,t=0){return Te()||He(e,t)}const Re="inlinejs.global.created";function Te(){return globalThis[Me]}function $e(){return Te()?Promise.resolve():new Promise((e=>window.addEventListener(Re,e)))}function Le(e){return e=p(e),Te().IsFuture(e)?Le(e.Get()):!e&&!1!==e&&0!==e||Te().IsNothing(e)?"":"boolean"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():JSON.stringify(e)}function Ne({target:e,getter:t,setter:n,deleter:i,lookup:r,alert:o}){let l={get(e,n){var i;if("symbol"==typeof n||"string"==typeof n&&"prototype"===n)return Reflect.get(e,n);let r=t?t(n.toString(),e):e[n];return Te().IsNothing(r)?Reflect.get(e,n):(!o||o.list&&!(n in o.list)||null===(i=F(o.componentId))||void 0===i||i.GetBackend().changes.AddGetAccess(`${o.id}.${n}`),r)},set:(e,t,i)=>"symbol"==typeof t||"string"==typeof t&&"prototype"===t?Reflect.set(e,t,i):n?n(t.toString(),i,e):!!e[t]||!0,deleteProperty:(e,t)=>"symbol"==typeof t||"string"==typeof t&&"prototype"===t?Reflect.deleteProperty(e,t):i?i(t.toString(),e):!!delete e[t]||!0,has:(e,t)=>!!Reflect.has(e,t)||(Array.isArray(r)?r.includes(t.toString()):r?r(t.toString(),e):t in e)};return new window.Proxy(e||{},l)}function je(e){return Ne(ze({getter:t=>t&&t in e&&e[t]||null,lookup:[...Object.keys(e)]}))}function Be(){return!1}function Je(e){var{setter:t,deleter:n,lookup:i}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["setter","deleter","lookup"]);return Object.assign(Object.assign({},r),{setter:t||Be,deleter:n||Be,lookup:i||Be})}function ze(e){return Je(e)}function Ue(e,t,n){let i=null==t?void 0:t.FindElementScope(n),r=null==i?void 0:i.GetId();if(!r)return["",null,null];let o=globalThis.InlineJS_ProxyGlobal=globalThis.InlineJS_ProxyGlobal||{},l=o[e]=o[e]||{};return r in l?[r,l[r],l]:(null==i||i.AddUninitCallback((()=>delete l[r])),[r,null,l])}function qe(e,t,n){if(!(e instanceof Promise))return t(e);n?e.then((e=>qe(e,t,!0))):e.then(t)}const Ke="__InlineJS_Context__";let We={},Ve={};function Ye(e,t,n){if(We.hasOwnProperty(e))return We[e];if(Ve.hasOwnProperty(e))return null;try{let n=new Function(Ke,`\n            with (__InlineJS_Context__){\n                return (${e});\n            };\n        `).bind(t);return We[e]=n}catch(e){e instanceof SyntaxError||o(e,`InlineJs.Region<${n||"NIL"}>.GenerateValueReturningFunction`)}return null}function Xe(e,t,n){if(Ve.hasOwnProperty(e))return Ve[e];try{let n=new Function(Ke,`\n            with (__InlineJS_Context__){\n                ${e};\n            };\n        `).bind(t);return Ve[e]=n}catch(e){o(e,`InlineJs.Region<${n||"NIL"}>.GenerateVoidFunction`)}return null}function Qe(e,t,n,i=[]){var r;if("function"==typeof e){let o=F(n||""),l=null==o?void 0:o.FindProxy(null==o?void 0:o.GetBackend().changes.GetLastAccessContext()),a=e.apply((null===(r=l||(null==o?void 0:o.GetRootProxy()))||void 0===r?void 0:r.GetNative())||null,i||[]);return t?t(a):a}return t?t(e):e}function Ze({componentId:e,contextElement:t,expression:n,disableFunctionCall:i=!1,waitPromise:r="recursive"}){if(!(n=n.trim()))return e=>(e&&e(null),null);let l=(l,a,s,c,d=!0)=>{var h;let p=F(e),m=null==p?void 0:p.GetRootProxy().GetNative();if(!m||(null===(h=null==p?void 0:p.FindElementScope(t))||void 0===h?void 0:h.IsDestroyed()))return;let{context:v=null,changes:f=null}=(null==p?void 0:p.GetBackend())||{};null==v||v.Push(u.self,t),null==f||f.ResetLastAccessContext(),se(e),Object.entries(c||{}).forEach((([e,t])=>null==v?void 0:v.Push(e,t)));try{let t=a(m);if(Te().IsFuture(t)&&(t=t.Get()),!l)return i?t:Qe(t,l,e,s);let n=e=>{"none"!==r?qe(e,l,"recursive"===r):l(e)};i?n(t):Qe(t,n,e,s)}catch(t){if(d&&t instanceof SyntaxError)throw t;o(t,`InlineJs.Region<${e}>.RunFunction('${n}')`)}finally{Object.entries(c||{}).forEach((([e,t])=>null==v?void 0:v.Pop(e,t))),ce(),null==v||v.Pop(u.self)}},a=Ye(n,t,e),s=null;return a||(s=Xe(n,t,e)),(i,r=[],o)=>{if(!s&&a)try{return l(i,a,r||[],o||{})}catch(i){if(!(i instanceof SyntaxError))throw i;s=Xe(n,t,e)}return s?l(i,s,r||[],o||{},!1)||null:(i&&i(null),null)}}function et(e){return Ze(e)}function tt(e,t){let n=(e,t)=>qe(e,t,!0);return e instanceof a?new a(((i,r)=>{e.While((e=>{n(e,(e=>{n(t(e),(e=>i(e)))}))})),e.Final((e=>{n(e,(e=>{n(t(e),(e=>r(e)))}))}))})):e instanceof Promise?new Promise((i=>{n(e,(e=>{n(t(e),(e=>i(e)))}))})):t(e)}function nt(e,t,n){e instanceof a?e.While(t).Final(!1===n?()=>{}:n||t):t(e)}function it({componentId:e,changes:t,callback:n,subscriptionsCallback:i,contextElement:r}){var l,a,s,c;t.PopAllGetAccessStorageSnapshots(!1),t.RestoreOptimizedGetAccessStorage();let{optimized:d,raw:u}=t.PopGetAccessStorage();if(0==((null===(l=d||u)||void 0===l?void 0:l.entries.length)||0))return i&&i({}),null;let h={},p=()=>{Object.keys(h).map((e=>F(e))).filter((e=>!!e)).forEach((e=>{let{changes:t}=e.GetBackend();h[e.GetId()].forEach((e=>t.Unsubscribe(e)))})),h={}},m=!1,v=()=>{m=!0},f=t=>{let i=F(e);if(!i||m)return void p();let{changes:r}=i.GetBackend();r.PushOrigin(f);try{n({changes:t||[],cancel:v})}catch(t){o(t,`InlineJS.Component<${e}>.SubscribeToChanges.OnChange`)}r.PopOrigin(),m&&p()},g={};return null===(a=d||u)||void 0===a||a.entries.forEach((e=>(g[e.path]=g[e.path]||{})[e.compnentId]=!0)),Object.entries(g).forEach((([e,t])=>{Object.keys(t).map((e=>F(e))).filter((e=>!!e)).forEach((t=>{(h[t.GetId()]=h[t.GetId()]||[]).push(t.GetBackend().changes.Subscribe(e,f))}))})),r&&(null===(c=null===(s=F(e))||void 0===s?void 0:s.FindElementScope(r))||void 0===c||c.AddUninitCallback((()=>{v(),p()}))),i&&i(h),p}function rt({componentId:e,callback:t,contextElement:n,options:i,subscriptionsCallback:r}){var l;let a=()=>{let i=F(e);if(!i)return;let{changes:l}=i.GetBackend(),a=!1,s=n?i.FindElementScope(n):null,c=()=>{a=!0},d=null==s?void 0:s.GetElement();try{l.PushGetAccessStorage(),t({changes:[],cancel:c})}catch(t){o(t,`InlineJS.Component<${e}>.UseEffect`,d)}if(a)return l.PopAllGetAccessStorageSnapshots(!1),l.RestoreOptimizedGetAccessStorage(),void l.PopGetAccessStorage();it({componentId:e,changes:l,callback:t,subscriptionsCallback:r,contextElement:d})};(null==i?void 0:i.nextTick)?null===(l=F(e))||void 0===l||l.GetBackend().changes.AddNextTickHandler(a):a()}function ot(e,t,n,i={}){var r;let o=null;if(o=e instanceof HTMLElement?(null===(r="string"==typeof n?F(n):n)||void 0===r?void 0:r.FindElementScope(e))||null:e,!o)return i;let l=o.GetLocal(t);return Te().IsNothing(l)&&o.SetLocal(t,l=i),l}const lt="__InlineJS_GLOBAL_COMPONENT_KEY__";function at(e){let t=globalThis[lt];if(t||!1===e)return t.component;let n=document.createElement("template");return globalThis[lt]={root:n,component:Te().CreateComponent(n)},globalThis[lt]}const st=300,ct=0,dt=0;function ut(e,t){if(!e||Te().IsNothing(e)||e.allowed&&"both"!==e.allowed&&e.allowed!==(t?"reversed":"normal"))return null;let n=Te().GetConcept("animation");return e.ease=e.ease||(null==n?void 0:n.GetEaseCollection().Find("default"))||null,e.actor=e.actor||(null==n?void 0:n.GetActorCollection().Find("default"))||null,e.duration=e.duration||st,e.delay=e.delay||ct,e.repeats=e.repeats||dt,e}function ht({componentId:e,contextElement:t,target:n,callback:i,onAbort:r,reverse:o,allowRepeats:a}){var s,c,d,u;let h=ut((null===(c=null===(s=F(e))||void 0===s?void 0:s.FindElementScope(t))||void 0===c?void 0:c.GetData("transition"))||null,o||!1);if(!h||!h.actor||!h.ease||"number"!=typeof h.duration||h.duration<=0)return i(!1),null;let p=e=>{var t;return"function"==typeof(null==h?void 0:h.actor)?null==h?void 0:h.actor(e):h&&(null===(t=h.actor)||void 0===t?void 0:t.Handle(e))},m=e=>{var t;return"function"==typeof h.ease?h.ease(e):h&&(null===(t=h.ease)||void 0===t?void 0:t.Handle(e))||0},v=!1,f=()=>v=!0,g=0,b=e=>o?1-e:e,y=()=>{var i,o;return null===(o=null===(i=F(e))||void 0===i?void 0:i.FindElementScope(t))||void 0===o||o.RemoveUninitCallback(f),(n||t).dispatchEvent(new CustomEvent("transition.canceled")),r&&r(),!1};return null===(u=null===(d=F(e))||void 0===d?void 0:d.FindElementScope(t))||void 0===u||u.AddUninitCallback(f),x(h.duration,0,a?h.repeats:0,h.delay).While((({elapsed:e})=>{if(v)return y();0==g&&((n||t).style.transform="",(n||t).style.transformOrigin="50% 50%",(n||t).dispatchEvent(new CustomEvent("transition.enter"))),p({target:n||t,stage:0==g++?"start":"middle",fraction:m({duration:h.duration,elapsed:e,fraction:b(e/h.duration)})})})).Final((()=>{v?y():(p({target:n||t,stage:"end",fraction:m({duration:h.duration,elapsed:h.duration,fraction:b(1)})}),(n||t).dispatchEvent(new CustomEvent("transition.leave")),l((()=>i(!0))))})),f}function pt({element:e,html:t,type:n="replace",component:i,processDirectives:r=!0,afterInsert:o,afterTransitionCallback:a,transitionScope:s}){let c="string"==typeof i?i:(null==i?void 0:i.GetId())||"",d=()=>{let i=document.createElement("template");i.innerHTML=t,"replace"===n||"append"===n?e.append(...Array.from(i.content.childNodes)):"prepend"===n&&e.prepend(...Array.from(i.content.childNodes)),o&&l(o,"InlineJS.InsertHtml",e);let d=F(c);r&&d&&Array.from(e.children).forEach((e=>q({component:d,element:e,options:{checkTemplate:!0,checkDocument:!0,ignoreChildren:!1}}))),a&&((s||e).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!0}})),ht({componentId:c,contextElement:s||e,target:e,callback:()=>((s||e).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!0}})),a())}))};if("replace"===n){let t=e=>{let n=F(c);Array.from(e.children).forEach((e=>{let i=null==n?void 0:n.FindElementScope(e);i?i.Destroy():t(e)}))},n=()=>{t(e),Array.from(e.childNodes).forEach((e=>e.remove())),d()};a?((s||e).dispatchEvent(new CustomEvent("html.transition.begin",{detail:{insert:!1}})),ht({componentId:c,contextElement:s||e,target:e,reverse:!0,callback:()=>((s||e).dispatchEvent(new CustomEvent("html.transition.end",{detail:{insert:!1}})),n())})):n()}else d()}class mt{constructor(e,t,n=!1){this.componentId_=e,this.callback_=t,this.initialized_=n,this.queued_=!1,this.setCallback_=null}Queue(e){var t;let n=()=>(this.setCallback_||e||this.callback_)&&(this.setCallback_||e||this.callback_)();!this.queued_&&this.initialized_?(this.queued_=!0,null===(t=F(this.componentId_))||void 0===t||t.GetBackend().changes.AddNextTickHandler((()=>{this.queued_=!1,n()}))):this.initialized_?this.setCallback_=e||null:(this.initialized_=!0,n())}}const vt=/\{\{\s*(.+?)\s*\}\}/g,ft=/\{\{.+?\}\}/;function gt(e){let t=e=>[...e.childNodes].reduce(((e,t)=>`${e}${3!=t.nodeType?n(t):t.textContent||""}`),""),n=e=>`${[...e.attributes].reduce(((e,t)=>`${e} ${t.name}="${t.value}"`),`<${e.tagName.toLowerCase()}`)+">"}${t(e)}</${e.tagName.toLowerCase()}>`;return t(e)}function bt({componentId:e,contextElement:t,text:n,handler:i}){var r;let o=et({componentId:e,contextElement:t,expression:"let output = "+JSON.stringify(n).replace(vt,'"+($1)+"')+"; return output;"});null===(r=F(e))||void 0===r||r.CreateElementScope(t),rt({componentId:e,contextElement:t,callback:()=>o(i)})}function yt(e){var{text:t}=e,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["text"]);ft.test(t)&&bt(Object.assign({text:t},n))}function _t({componentId:e,contextElement:t,text:n,handler:i}){if("string"==typeof n)return i&&yt({componentId:e,contextElement:t,text:n,handler:i});if(!ft.test(t.textContent||""))return;let r=new Array,o=new Array;[...t.childNodes].forEach((n=>{if(3==n.nodeType&&n.textContent&&ft.test(n.textContent)){let i={text:n.textContent||"",evaluated:n.textContent||""};r.push(i),o.push((()=>bt({componentId:e,contextElement:t,text:i.text,handler:e=>{i.evaluated=e,(()=>{for(;t.firstChild;)t.firstChild.remove();let e=null;r.forEach((n=>{let i=n instanceof Element?n:document.createTextNode("string"==typeof n?n:n.evaluated);e?t.insertBefore(i,e):t.append(i),e=i}))})()}})))}else 3==n.nodeType?r.push(n.textContent||""):r.push(n)})),r.reverse(),o.forEach((e=>l(e,"InlineJS.Interpolate",t)))}function Ct({componentId:e,contextElement:t,name:n,value:i}){_t({componentId:e,contextElement:t,text:i,handler:e=>t.setAttribute(n,e)})}function Et({componentId:e,contextElement:t}){_t({componentId:e,contextElement:t})}function kt(e){let t=Te(),n=t.GetConfig();[n.GetDirectiveName("data",!0),n.GetDirectiveName("data",!1)].forEach((n=>{(e||document).querySelectorAll(`[${n}]`).forEach((e=>{e.hasAttribute(n)&&document.contains(e)&&q({component:t.CreateComponent(e),element:e,options:{checkTemplate:!0,checkDocument:!1,ignoreChildren:!1}})}))}))}function xt(e){De(),setTimeout((()=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>{kt(e)})):kt(e)}),0)}function It(e,t){let n="",i=null;if("function"==typeof e){let t=e();t?({name:n,callback:i}=t):(n=e("name"),i=e("callback"))}else f(e)?({name:n,callback:i}=e):Te().GetDirectiveManager().AddHandler(e);n&&i&&(t?Te().GetDirectiveManager().AddHandlerExtension(t,i,n):Te().GetDirectiveManager().AddHandler(i,n))}function At(e,t){return{name:e,callback:t}}function Gt(e,t,n,i,r){let o=Te().GetConfig().GetDirectiveName("on"),l=(r||[]).join("."),a=z(l?`${o}:${n}.${l}`:`${o}:${n}`,i||"");return!!a&&T(e,t,a)}const wt=["bind","event","on"];function Pt({component:e,contextElement:t,key:n,event:i,expression:r,options:o,defaultEvent:l,eventWhitelist:a=[],optionBlacklist:s}){let c=()=>s?null==o?void 0:o.filter((e=>!s.includes(e))):o,d=e=>n?`${n}-${e}.join`:e;return a.includes(i)?Gt(e,t,d(i),r,c()):!(!l||i!==l&&!wt.includes(i))&&Gt(e,t,d(l),r,c())}function St(e,t,n){let i=Te().GetConfig().GetDirectiveName(t,!1),r=Te().GetConfig().GetDirectiveName(t,!0);return e.getAttribute(i)||e.getAttribute(r)||n&&e.getAttribute(n)||null}function Ot({componentId:e,contextElement:t,key:n,expression:i,callback:r,arrayCallback:o,useEffect:l=!0}){let a=0,s=et({componentId:e,contextElement:t,expression:i}),c=(e,t)=>{tt(e,(e=>{t==a&&(n?r([n,e]):f(e)?Object.entries(e).forEach(r):o&&("string"==typeof e||Array.isArray(e))&&o("string"==typeof e?e.trim().split(" ").filter((e=>!!e)):e))}))};l?rt({componentId:e,contextElement:t,callback:()=>s((e=>c(e,++a)))}):s((e=>c(e,a)))}const Ft=Array.from(Array(100).keys()).map((e=>e/100));function Mt(e){let t={root:null,rootMargin:"0px",threshold:0};return f(e)&&Object.entries(t).forEach((([n,i])=>t[n]=n in e&&e[n]||i)),e.spread&&(t.threshold=Ft),t}class Ht{constructor(e,t){this.id_=e,this.observer_=null,this.handlers_=new Array;let n=this.id_;this.observer_=new globalThis.IntersectionObserver(((e,t)=>{e.forEach((e=>{this.handlers_.filter((({target:t})=>t===e.target)).forEach((i=>{l((()=>i.handler({entry:e,id:n,observer:t})),"InlineJS.IntersectionObserver")}))}))}),Mt(t))}GetId(){return this.id_}GetNative(){return this.observer_}Observe(e,t){var n;this.handlers_.push({target:e,handler:t}),null===(n=this.observer_)||void 0===n||n.observe(e)}Unobserve(e){var t;this.handlers_=this.handlers_.filter((t=>t.target===e)),null===(t=this.observer_)||void 0===t||t.unobserve(e)}}function Dt(e,t=0){return e&&e.match(/^[0-9]+(s|ms)?$/)?-1==e.indexOf("m")&&-1!=e.indexOf("s")?1e3*parseInt(e):parseInt(e):t}function Rt({options:e,list:t,defaultNumber:n,callback:i,unknownCallback:r}){let o=Array.isArray(e)?e:[e],l=e=>("number"==typeof n?n:n&&n(e))||0;return t.forEach(((n,a)=>{let s=o.find((e=>e&&n in e));if(!s)return r&&r({options:e,list:t,option:n,index:a});i&&!0===i({options:e,list:t,option:n,index:a})||("number"==typeof s[n]?a<t.length-1?s[n]=Dt(t[a+1].trim(),l(n)):s[n]=l(n):"boolean"==typeof s[n]&&(s[n]=!0))})),e}function Tt({componentId:e,component:t,contextElement:n,expression:i,argOptions:r,callback:o,options:l,defaultOptionValue:a,useEffect:s}){let c=et({componentId:e,contextElement:n,expression:i}),d=Rt({options:l||{lazy:!1,ancestor:-1,threshold:-1},list:r,defaultNumber:0===a?0:a||-1}),u=()=>c((e=>qe(e,o))),h=()=>!1===s?u():rt({componentId:e,contextElement:n,callback:u});if(d.lazy){let i=t||F(e),r={root:d.ancestor<0?null:null==i?void 0:i.FindAncestor(n,d.ancestor),threshold:d.threshold<0?0:d.threshold},o=i?new Ht(i.GenerateUniqueId("intob_"),r):null;o?(null==i||i.AddIntersectionObserver(o),o.Observe(n,(({id:t,entry:n}={})=>{var i;(null==n?void 0:n.isIntersecting)&&(null===(i=F(e))||void 0===i||i.RemoveIntersectionObserver(t),h())}))):h()}else h()}function $t(e){let t,n="",i=null;if("function"==typeof e){let r=e();r?({name:n,callback:i,onAccess:t}=r):(n=e("name"),i=e("callback"),t=e("access"))}else f(e)?({name:n,callback:i,onAccess:t}=e):Te().GetMagicManager().AddHandler(e);n&&i&&Te().GetMagicManager().AddHandler(i,n,t)}function Lt(e,t,n){return{name:e,callback:t,onAccess:n}}function Nt(e){return e.startsWith(":")?Te().GetConfig().GetDirectiveName("bind")+e:null}function jt(e){return e.startsWith(".")?e.replace(".",Te().GetConfig().GetDirectiveName("class:")):null}function Bt(e){return e.startsWith("@")?e.replace("@",Te().GetConfig().GetDirectiveName("on:")):null}function Jt(e,t,n){console.log({message:e,context:t||"N/A",contextElement:n||"N/A"})}},374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FetchConcept=void 0;const i=n(992);class r extends i.NativeFetchConcept{constructor(e=""){super(),this.origin_=e,this.handlers_=new Array,this.origin_=(0,i.TidyPath)(this.origin_||window.location.origin)}Get(e,t){let n=this.FindPathHandler_("string"==typeof e?e:e.url);return n&&n({input:e,init:t})||super.Get(e,t)}AddPathHandler(e,t){this.handlers_.push({path:"string"==typeof e?(0,i.PathToRelative)(e,this.origin_):e,handler:t})}RemovePathHandler(e){this.handlers_=this.handlers_.filter((t=>t.handler!==e))}MockResponse({response:e,delay:t,errorText:n}){return new Promise(((i,r)=>{let o=()=>{let t=n&&("string"==typeof n?n:n());t?r(t):i(new Response(e))};"number"==typeof t&&t>0?setTimeout(o,t):o()}))}FindPathHandler_(e){e=(0,i.PathToRelative)(e,this.origin_);let t=this.handlers_.find((t=>"string"==typeof t.path?t.path===e:t.path.test(e)));return t?t.handler:null}}t.FetchConcept=r},837:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function l(e){try{s(i.next(e))}catch(e){o(e)}}function a(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceConcept=void 0;const r=n(992);class o{constructor(e=""){this.origin_=e,this.loadMap_={},this.origin_=(0,r.TidyPath)(this.origin_||window.location.origin)}Get({items:e,concurrent:t,attributes:n}){return this.Get_((Array.isArray(e)?e:[e]).map((e=>"string"==typeof e?e.endsWith(".css")?o.BuildOptions("link",e,n):e.endsWith(".js")?o.BuildOptions("script",e,n):o.BuildOptions("data",e,n):o.BuildOptions(e.type,e.path,n))),!!t)}GetStyle(e,t,n){return this.Get_((Array.isArray(e)?e:[e]).map((e=>o.BuildOptions("link",e,n))),!!t)}GetScript(e,t,n){return this.Get_((Array.isArray(e)?e:[e]).map((e=>o.BuildOptions("script",e,n))),!!t)}GetData(e,t,n){return this.Get_((Array.isArray(e)?e:[e]).map((e=>o.BuildOptions("data",e,void 0,n))),!!t)}Get_(e,t){return new Promise(((n,o)=>{var l;let a=e=>{"link"===e.type&&(e.additionalAttributes=e.additionalAttributes||{},e.additionalAttributes.rel="stylesheet");let t=(0,r.PathToRelative)(e.path,this.origin_);if(!t)return null;if(this.loadMap_.hasOwnProperty(t))return new Promise((e=>{var n,i;(null===(n=this.loadMap_[t])||void 0===n?void 0:n.callbacks)?null===(i=this.loadMap_[t].callbacks)||void 0===i||i.push((()=>e(this.loadMap_[t].data))):e(this.loadMap_[t].data)}));this.loadMap_[t]={callbacks:new Array,data:null};let n=e=>{var n;this.loadMap_[t].data=e,null===(n=this.loadMap_[t].callbacks)||void 0===n||n.forEach((e=>(0,r.JournalTry)(e,"InlineJS.ResourceConcept.SetData"))),this.loadMap_[t].callbacks=null};return new Promise(((i,o)=>{if("data"===e.type)(0,r.GetGlobal)().GetFetchConcept().Get(t,{method:"GET",credentials:"same-origin"}).then((t=>"json"===e.attribute?t.json():t.text())).then((e=>{i(e),n(e)})).catch(o);else{let r=document.createElement(e.type);r.addEventListener("load",(()=>{i(!0),n(!1)})),Object.entries(e.additionalAttributes||{}).forEach((([e,t])=>r.setAttribute(e,t))),r.setAttribute(e.attribute,t),(e.target&&document.querySelector(e.target)||document.body).append(r)}}))};Array.isArray(e)?t?Promise.all(e.map((e=>a(e))).filter((e=>!!e))).then(n).catch(o):(e=>{i(this,void 0,void 0,(function*(){try{let t=new Array;for(let n of e){let e=a(n);e&&t.push(yield e)}n(t)}catch(e){o(e)}}))})(e):null===(l=a(e))||void 0===l||l.then(n).catch(o)}))}static BuildOptions(e,t,n,i){return{type:e,attribute:"data"===e?i?"json":"text":"link"===e?"href":"src",target:"data"===e?null:"link"===e?"head":"body",path:t,additionalAttributes:n}}}t.ResourceConcept=o},542:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AttrDirectiveHandlerCompact=t.AttrDirectiveHandler=void 0;const i=n(992);t.AttrDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)("attr",(({componentId:e,component:t,contextElement:n,expression:r,argKey:o})=>{var l,a;let s=(0,i.EvaluateLater)({componentId:e,contextElement:n,expression:r}),c={};o&&(c[o]=n.getAttribute(o)),null===(a=null===(l=t||(0,i.FindComponentById)(e))||void 0===l?void 0:l.FindElementScope(n))||void 0===a||a.AddAttributeChangeCallback((e=>{let t=n.getAttribute(e);c.hasOwnProperty(e)&&t===c[e]||(c[e]=t,s(void 0,[{name:e,value:t}],{changed:{name:e,value:t}}))}),o||void 0)})),t.AttrDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.AttrDirectiveHandler)}},716:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function l(e){try{s(i.next(e))}catch(e){o(e)}}function a(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveFormMiddleware=t.AddFormMiddleware=t.FormDirectiveHandlerCompact=t.FormDirectiveHandler=void 0;const r=n(992),o="form";let l={};const a=["put","patch","delete"],s="_FormPostToken_";t.FormDirectiveHandler=(0,r.CreateDirectiveHandlerCallback)(o,(({componentId:e,component:t,contextElement:n,expression:c,argKey:d,argOptions:u})=>{var h;if((0,r.BindEvent)({contextElement:n,expression:c,component:t||e,key:o,event:d,defaultEvent:"success",eventWhitelist:["error","submitting","submit","save","load","reset"],options:u,optionBlacklist:["window","document","outside"]}))return;let p=t||(0,r.FindComponentById)(e);if(!p)return(0,r.JournalError)("Failed to resolve component.","InlineJS.FormDirectiveHandler",n);let m="$form";if("field"===d)return(0,r.EvaluateLater)({componentId:e,contextElement:n,expression:c})((t=>{var i;if((0,r.IsObject)(t)){let o=null===(i=(0,r.FindComponentById)(e))||void 0===i?void 0:i.FindElementLocalValue(n,m,!0);o&&!(0,r.GetGlobal)().IsNothing(o)&&Object.entries(t).forEach((([e,t])=>o.addField(e,t)))}}));if(d in l){let t=(0,r.EvaluateLater)({componentId:e,contextElement:n,expression:c});return void(0,r.UseEffect)({componentId:e,contextElement:n,callback:()=>t((t=>{var i;let o=(0,r.FindComponentById)(e),l=null==o?void 0:o.FindElementLocalValue(n,m,!0);l&&(l.bindMiddlewareData(d,t,n),null===(i=o.FindElementScope(n))||void 0===i||i.AddUninitCallback((()=>{var t;let i=null===(t=(0,r.FindComponentById)(e))||void 0===t?void 0:t.FindElementLocalValue(n,m,!0);i&&i.unbindMiddlewareData(n)})))}))})}let v,f,g,b,y=p.GenerateUniqueId("form_proxy_"),_=new Array,C=(0,r.ResolveOptions)({options:{refresh:!1,reload:!1,persistent:!1,reset:!1,success:!1,error:!1,nexttick:!1,novalidate:!1,silent:!1},list:u,unknownCallback:({option:e})=>{l.hasOwnProperty(e=e.split("-").join("."))&&_.push(l[e])}}),E=null,k=(e,t)=>{let n=t.reduce(((e,[t,n])=>e?`${e}&${t}=${n}`:`${t}=${n}`),"");return n?e.includes("?")?`${e}&${n}`:`${e}?${n}`:e},x=()=>{let e=f();return a.includes(e)&&(A._method=e,e="post"),e},I=null,A={};if(n instanceof HTMLFormElement){v=()=>n.action,f=()=>(n.method||"get").toLowerCase(),E=n,b="submit";let e=f();g="get"!==e&&"head"!==e?e=>(e.body=new FormData(n),v()):()=>k(v(),Array.from(new FormData(n).entries()).map((([e,t])=>[e,t.toString()])))}else if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)v=()=>n.getAttribute("data-action")||"",f=()=>(n.getAttribute("data-method")||"get").toLowerCase(),n instanceof HTMLSelectElement?b="change":(b="keydown",I=e=>!e||"enter"===e.key.toLowerCase()),g=()=>A[n.getAttribute("name")||"value"]=n.value;else{let e=n instanceof HTMLAnchorElement;v=()=>e?n.href:n.getAttribute("data-action")||"",f=()=>(n.getAttribute("data-method")||"get").toLowerCase(),b="click",g=v}let G={},w={active:!1,submitted:!1,errors:{}},P=(t,n)=>{var i;w[t]!==n&&(w[t]=n,(0,r.AddChanges)("set",`${y}.${t}`,t,null===(i=(0,r.FindComponentById)(e))||void 0===i?void 0:i.GetBackend().changes))},S=t=>i(void 0,void 0,void 0,(function*(){for(let t of _)try{if(!1===(yield t.Handle((i=t.GetKey(),G.hasOwnProperty(i)?G[i].data:void 0),e,n)))return}catch(e){}var i;t&&t()})),O=(0,r.EvaluateLater)({componentId:e,contextElement:n,expression:c}),F=(e,t)=>{O(void 0,void 0,{response:{ok:e,data:t}})},M=(t,i)=>{var o;t?n.dispatchEvent(new CustomEvent("form.success",{detail:{data:i}})):n.dispatchEvent(new CustomEvent("form.error",{detail:{data:i}})),(!C.success&&!C.error||C.success&&t||C.error&&!t)&&(C.nexttick?null===(o=(0,r.FindComponentById)(e))||void 0===o||o.GetBackend().changes.AddNextTickHandler((()=>F(t,i))):F(t,i))},H=t=>{if(w.active||I&&!I(t))return;let i=new CustomEvent("form.submitting");if(n.dispatchEvent(i),i.defaultPrevented)return;let o={method:x(),credentials:"same-origin"};P("active",!0),P("submitted",!0);let l=g(o);"post"===o.method?(o.body=o.body||new FormData,s in globalThis&&o.body.append("_token",globalThis[s]),Object.entries(A).forEach((([e,t])=>o.body.append(e,t)))):k(l,Object.entries(A)),(0,r.GetGlobal)().GetFetchConcept().Get(l,o).then((e=>e.json())).then((t=>{if(P("active",!1),P("errors",{}),n.dispatchEvent(new CustomEvent("form.submit",{detail:{response:t}})),!t||!(0,r.IsObject)(t))return M(!0,t);(0,r.JournalTry)((()=>{var n,i;if(t.hasOwnProperty("failed")){let e=t.failed;Object.entries((0,r.IsObject)(e)?e:{}).forEach((([e,t])=>{if(w.errors[e]=t,E&&!C.novalidate){let n=E.elements.namedItem(e);n&&(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&(n.setCustomValidity(Array.isArray(t)?t.map((e=>(0,r.ToString)(e))).join("\n"):(0,r.ToString)(t)),n.dispatchEvent(new CustomEvent("form.validity")))}}))}if(C.silent||!t.hasOwnProperty("alert")&&!t.hasOwnProperty("report")||null===(n=(0,r.GetGlobal)().GetConcept("alert"))||void 0===n||n.Notify(t.alert||t.report),M(!1!==t.ok,t.data),!1===t.ok)return;let o=(0,r.GetGlobal)().GetConcept("router"),l=null;if(t.hasOwnProperty("redirect")){let e=t.redirect;(0,r.IsObject)(e)?l=()=>{C.refresh||e.refresh||!o?window.location.href=e.page:o.Goto(e.page,C.reload||e.reload,t.hasOwnProperty("data")?e.data:void 0)}:"string"==typeof e&&(l=()=>{!C.refresh&&o?o.Goto(e,C.reload):window.location.href=e})}else C.refresh?l=()=>window.location.reload():C.reload?l=()=>o?o.Reload():window.location.reload():C.reset&&E&&(E.reset(),null===(i=(0,r.FindComponentById)(e))||void 0===i||i.GetBackend().changes.AddNextTickHandler((()=>null==E?void 0:E.dispatchEvent(new CustomEvent("form.reset")))));l&&l()}),"InlineJS.form.HandleEvent",n)})).catch((e=>{P("active",!1),(0,r.JournalError)(e,"InlineJS.form.HandleEvent",n)}))};null===(h=p.FindElementScope(n))||void 0===h||h.SetLocal(m,(0,r.CreateInplaceProxy)((0,r.BuildGetterProxyOptions)({getter:t=>{var i;return t&&w.hasOwnProperty(t)?(null===(i=(0,r.FindComponentById)(e))||void 0===i||i.GetBackend().changes.AddGetAccess(`${y}.${t}`),w[t]):"element"===t?n:"submit"===t?(e=!0)=>{e?S(H):H()}:"reset"===t?()=>null==E?void 0:E.reset():"bindMiddlewareData"===t?(e,t,n)=>{G[e]={data:t,source:n}}:"unbindMiddlewareData"===t?e=>{"string"!=typeof e?Object.entries(G).forEach((([t,n])=>{n.source===e&&delete G[t]})):delete G[e]}:"addField"===t?(e,t)=>A[e]=t:"removeField"===t?e=>delete A[e]:void 0},lookup:[...Object.keys(w),"element","submit","reset","bindMiddlewareData","unbindMiddlewareData","addField","removeField"]}))),n.addEventListener(b,(e=>{e.preventDefault(),e.stopPropagation(),w.active||S(H)}))})),t.FormDirectiveHandlerCompact=function(){(0,r.AddDirectiveHandler)(t.FormDirectiveHandler)},t.AddFormMiddleware=function(e){l[e.GetKey()]=e},t.RemoveFormMiddleware=function(e){l.hasOwnProperty(e)&&delete l[e]}},356:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntersectionDirectiveHandlerCompact=t.IntersectionDirectiveHandler=void 0;const i=n(992),r="intersection";t.IntersectionDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)(r,(({componentId:e,component:t,contextElement:n,expression:o,argKey:l,argOptions:a})=>{var s;if((0,i.BindEvent)({contextElement:n,expression:o,component:t||e,key:r,event:l,defaultEvent:"intersected",eventWhitelist:["in","out","visibility","visible","hidden"],options:a,optionBlacklist:["window","document","outside","once"]}))return;let c=t||(0,i.FindComponentById)(e);if(!c)return(0,i.JournalError)("Failed to resolve component.","InlineJS.IntersectionDirectiveHandler",n);let d=(0,i.ResolveOptions)({options:{once:!1,in:!1,out:!1,fully:!1,ancestor:-1,threshold:-1},list:a,defaultNumber:-1}),u={root:d.ancestor<0?null:c.FindAncestor(n,d.ancestor),threshold:d.threshold<0?0:d.threshold,spread:!0},h=new i.IntersectionObserver(c.GenerateUniqueId("int_obs_"),u);if(!h)return(0,i.JournalError)("Failed to create observer.","InlineJS.IntersectionDirectiveHandler",n);let p=(o=o.trim())?(0,i.EvaluateLater)({componentId:e,contextElement:n,expression:o}):null,m=!0,v={intersected:!1,visible:"hidden",ratio:0},f=e=>`intersection.${e}`,g={intersected:e=>{n.dispatchEvent(new CustomEvent(f("intersected"),{detail:{value:e}})),n.dispatchEvent(new CustomEvent(f(e?"in":"out")))},visible:e=>{n.dispatchEvent(new CustomEvent(f("visibility"),{detail:{value:e}})),"visible.fully"===e?n.dispatchEvent(new CustomEvent(f("visible"))):"hidden"===e&&n.dispatchEvent(new CustomEvent(f("hidden")))},ratio:e=>{n.dispatchEvent(new CustomEvent(f("ratio"),{detail:{value:e}}))}},b=c.GenerateUniqueId("intsn_proxy_"),y=(t,n)=>{if(v[t]!==n){let r=(0,i.FindComponentById)(e);r&&(0,i.AddChanges)("set",`${b}.${t}`,t,r.GetBackend().changes),g[t](v[t]=n)}},_=()=>{let e={};return Object.entries(v).forEach((([t,n])=>e[t]=n)),e};h.Observe(n,(({id:t,entry:n}={})=>{var r;if(!n||m&&!n.isIntersecting)return;let o=Math.round(1e5*n.intersectionRatio);if(n.isIntersecting){if(d.out&&!d.in||d.in&&d.fully&&o<99e3)return;y("intersected",!0),y("ratio",n.intersectionRatio),y("visible",o>=99e3?"visible.fully":"visible")}else{if(d.in&&!d.out)return;y("visible","hidden"),y("ratio",0),y("intersected",!1)}m=!1,p&&p(void 0,[_()],{state:_()}),d.once&&(null===(r=(0,i.FindComponentById)(e))||void 0===r||r.RemoveIntersectionObserver(t))}));let C=(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:e=>{if(e&&v.hasOwnProperty(e))return v[e]},lookup:[...Object.keys(v)],alert:{componentId:e,id:b}}));null===(s=c.FindElementScope(n))||void 0===s||s.SetLocal("$intersection",C)})),t.IntersectionDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.IntersectionDirectiveHandler)}},994:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardDirectiveHandlerCompact=t.KeyboardDirectiveHandler=void 0;const i=n(992);t.KeyboardDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)("keyboard",(({component:e,componentId:t,contextElement:n,expression:r,argKey:o,argOptions:l})=>{let a=(0,i.ResolveOptions)({options:{delay:-1,once:!1},list:l,defaultNumber:-1}),s=e=>{(0,i.EvaluateLater)({componentId:t,contextElement:n,expression:`(${r}) = (${JSON.stringify(e)})`})()};"inside"===o?function(e,t){let n=!1,i=e=>{e!=n&&((e,t)=>{s(e),a.once&&t()})(n=e,l)},r=()=>i(!0),o=()=>i(!1),l=()=>{e.removeEventListener("focusout",o),e.removeEventListener("focusin",r)};e.addEventListener("focusin",r),e.addEventListener("focusout",o)}(n):"down"===o||"up"===o?function(e,t,n){let i="";e.addEventListener(`key${t}`,(e=>{var t;(t=e.key)!==i&&n(i=t)}))}(n,o,s):"type"===o&&function(e,t,n,i){var r;let o=0;null===(r=null==e?void 0:e.FindElementScope(t))||void 0===r||r.AddUninitCallback((()=>{++o}));let l=!1,a=e=>{e!=l&&i(l=e)};t.addEventListener("keydown",(()=>{let e=++o;a(!0),setTimeout((()=>(e=>{e==o&&a(!1)})(e)),n<0?500:n)}))}(e||(0,i.FindComponentById)(t),n,a.delay,s)})),t.KeyboardDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.KeyboardDirectiveHandler)}},674:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MouseDirectiveHandlerCompact=t.MouseDirectiveHandler=void 0;const i=n(992);t.MouseDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)("mouse",(({componentId:e,component:t,contextElement:n,expression:r,argKey:o,argOptions:l})=>{let a=(0,i.ResolveOptions)({options:{delay:-1,debounce:-1,once:!1},list:l,defaultNumber:-1});if("repeat"===o){let o=(0,i.EvaluateLater)({componentId:e,contextElement:n,expression:r});return function(e,t,n,i){var r;let o=0,l=0,a=()=>{++o,l=0};null===(r=null==e?void 0:e.FindElementScope(t))||void 0===r||r.AddUninitCallback(a);let s=e=>{e==o&&(i(++l),setTimeout((()=>s(e)),n<0?100:n))};t.addEventListener("mousedown",(()=>{let e=++o;i(++l),setTimeout((()=>s(e)),n<0?250:n)})),t.addEventListener("mouseup",a),t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",a),t.addEventListener("mouseover",a),t.addEventListener("mouseout",a)}(t||(0,i.FindComponentById)(e),n,a.delay,(e=>o(void 0,[e],{streak:e})))}let s=t=>{(0,i.EvaluateLater)({componentId:e,contextElement:n,expression:`(${r}) = (${JSON.stringify(t)})`})()};"inside"===o?function(e,t){let n=!1,i=e=>{e!=n&&((e,t)=>{s(e),a.once&&t()})(n=e,l)},r=()=>i(!0),o=()=>i(!1),l=()=>{e.removeEventListener("mouseleave",o),e.removeEventListener("mouseenter",r)};e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",o)}(n):"move"===o&&function(e,t){e.addEventListener("mousemove",(e=>t({client:{x:e.clientX,y:e.clientY},offset:{x:e.offsetX,y:e.offsetY},screen:{x:e.screenX,y:e.screenY}}))),e.addEventListener("mouseleave",(()=>t(null)))}(n,s)})),t.MouseDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.MouseDirectiveHandler)}},838:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayDirectiveHandlerCompact=t.OverlayDirectiveHandler=void 0;const i=n(992);t.OverlayDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)("overlay",(({componentId:e,component:t,contextElement:n,expression:r,argKey:o,argOptions:l})=>{if((0,i.BindEvent)({contextElement:n,expression:r,component:t||e,key:"overlay",event:o,defaultEvent:"visible",eventWhitelist:["visibility","hidden","click"],options:[...l,"window"],optionBlacklist:["document","outside"]}))return;let a=(0,i.EvaluateLater)({componentId:e,contextElement:n,expression:r}),s=!1;(0,i.UseEffect)({componentId:e,contextElement:n,callback:()=>a((t=>{if(!!t!=s){s=!s;let t=(0,i.GetGlobal)().GetMagicManager().FindHandler("overlay");t&&t({componentId:e,contextElement:n}).offsetShowCount(s?1:-1)}}))})})),t.OverlayDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.OverlayDirectiveHandler)}},373:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StateDirectiveHandlerCompact=t.StateDirectiveHandler=void 0;const i=n(992);function r(e,t,n){let o=null==t?void 0:t.FindElementScope(n),l="$state",a="#state";if(null==o?void 0:o.HasLocal(l))return;let s=new Array,c=(null==t?void 0:t.GenerateUniqueId("state_proxy_"))||"",d=new Array,u={invalid:0,dirty:0,changed:0},h=null,p=null==t?void 0:t.FindElementLocalValue(n,a,!0),m=(t,n)=>{var r;(-1==n&&0==u[t]||1==n&&1==u[t])&&((0,i.AddChanges)("set",`${c}.${t}`,t,null===(r=(0,i.FindComponentById)(e))||void 0===r?void 0:r.GetBackend().changes),p&&p.offsetState(t,0==u[t]?-1:1))};(0,i.GetGlobal)().IsNothing(p)&&(p=null);let v=(e,t,n=0)=>{let i=u[e];u[e]+=t,u[e]=u[e]<0?0:n<=0||u[e]<n?u[e]:n,i!=u[e]&&m(e,t)},f=t=>{var n,r;let o=null===(r=null===(n=(0,i.FindComponentById)(e))||void 0===n?void 0:n.FindElementScope(t))||void 0===r?void 0:r.GetLocal(l);return(0,i.GetGlobal)().IsNothing(o)?null:o},g=()=>p?p.getRoot():f(n),b=()=>{var t;return null!==h?(null===(t=(0,i.FindComponentById)(e))||void 0===t||t.GetBackend().changes.AddGetAccess(`${c}.message`),h):d.reduce(((e,t)=>{return[...e,...(n=t(),"string"==typeof n?[n]:n)];var n}),new Array).filter((e=>!!e))},y=n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement,_=(0,i.CreateInplaceProxy)((0,i.BuildGetterProxyOptions)({getter:t=>{var r;return t&&u.hasOwnProperty(t)?(null===(r=(0,i.FindComponentById)(e))||void 0===r||r.GetBackend().changes.AddGetAccess(`${c}.${t}`),u[t]>0):"message"===t?b():"parent"===t?p?f(n.parentElement):null:"root"===t?g():"reset"===t?C:void 0},lookup:[...Object.keys(u),"message","parent","root","reset"]}));if(y||n instanceof HTMLSelectElement){let t=n.value,r=()=>{var r,o;v("dirty",1,1),v("changed",n.value===t?-1:1,1),v("invalid",n.validity.valid?-1:1,1),(r=n.validationMessage)!==h&&(h=r,(0,i.AddChanges)("set",`${c}.message`,"message",null===(o=(0,i.FindComponentById)(e))||void 0===o?void 0:o.GetBackend().changes))};n.addEventListener("change",r),y&&n.addEventListener("input",r),h=n.validationMessage,n.validity.valid||v("invalid",1,1)}else n.firstElementChild&&(null==o||o.SetLocal(a,{getRoot:g,offsetState:v,addErrorCallback:e=>d.push(e),removeErrorCallback:e=>d=d.filter((t=>t!==e)),addResetCallback:e=>s.push(e),removeResetCallback:e=>s=s.filter((t=>t!==e))}),null==o||o.AddTreeChangeCallback((({added:t})=>t.forEach((t=>r(e,null,t))))),[...n.children].forEach((n=>{null==t||t.CreateElementScope(n),r(e,t,n)})));let C=()=>{Object.keys(u).filter((e=>0!=u[e])).forEach((e=>{u[e]=0,m(e,-1)})),s.forEach((e=>e()))};if(y||n instanceof HTMLSelectElement||0!=d.length){if(p)p.addErrorCallback(b),p.addResetCallback(C),null==o||o.AddUninitCallback((()=>{p.removeResetCallback(C),p.removeErrorCallback(b)}));else{let e=null==t?void 0:t.FindElement(n,(e=>e instanceof HTMLFormElement));e&&(e.addEventListener("reset",C),null==o||o.AddUninitCallback((()=>e.removeEventListener("reset",C))))}null==o||o.SetLocal(l,_)}else null==o||o.DeleteLocal(a)}t.StateDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)("state",(({componentId:e,component:t,contextElement:n})=>{r(e,t||(0,i.FindComponentById)(e),n)})),t.StateDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.StateDirectiveHandler)}},358:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TickDirectiveHandlerCompact=t.TickDirectiveHandler=void 0;const i=n(992);t.TickDirectiveHandler=(0,i.CreateDirectiveHandlerCallback)("tick",(({component:e,componentId:t,contextElement:n,expression:r,argOptions:o})=>{let l=(0,i.EvaluateLater)({componentId:t,contextElement:n,expression:r}),a=(0,i.ResolveOptions)({options:{delay:1e3,duration:0,steps:-1,stopped:!1,vsync:!1},list:o,defaultNumber:-1}),s=()=>a.delay<0?1e3:a.delay,c=()=>{a.duration>0&&(a.steps=Math.ceil(a.duration/s()))};c();let d=e||(0,i.FindComponentById)(t),u=null==d?void 0:d.GenerateUniqueId("tick_proxy_"),h={steps:0,running:!a.stopped,checkpoint:0},p=()=>h.steps<a.steps||-1==a.steps,m=(e,{abort:n})=>{(0,i.FindComponentById)(t)&&h.running&&e==h.checkpoint?(f("steps",h.steps+1),p()||(f("running",!1),n&&n()),l()):n&&n()},v=()=>{(0,i.CreateLoop)(0,s(),0,0,a.vsync).While(m.bind(null,++h.checkpoint)),l()},f=(e,n,r=!1)=>{if(h[e]!==n){let o=(0,i.FindComponentById)(t);o&&(0,i.AddChanges)("set",`${u}.${e}`,e,o.GetBackend().changes),h[e]=n,r&&l()}},g={run:()=>{!h.running&&p()&&(f("running",!0),v())},pause:()=>{h.running&&(++h.checkpoint,f("running",!1))},stop:()=>{h.running?(++h.checkpoint,f("steps",0),f("running",!1,!0)):h.steps>0&&f("steps",0,!0)},reset:()=>{f("steps",0),f("running",!0),v()}},b=null==d?void 0:d.FindElementScope(n);null==b||b.AddUninitCallback((()=>{++h.checkpoint,h.steps=0}));let y=(0,i.CreateInplaceProxy)((0,i.BuildProxyOptions)({getter:e=>{var n;return e&&g.hasOwnProperty(e)?g[e]:"steps"===e||"running"===e?(null===(n=(0,i.FindComponentById)(t))||void 0===n||n.GetBackend().changes.AddGetAccess(`${u}.${e}`),h[e]):e&&a.hasOwnProperty(e)?a[e]:void 0},setter:(e,t)=>("duration"===e?(a.duration="number"==typeof t?t:0,c()):"delay"===e?a.delay="number"==typeof t?t:0:"steps"===e&&(a.steps="number"==typeof t?t:0),!0),lookup:[...Object.keys(g),"steps","running",...Object.keys(a)]}));null==b||b.SetLocal("$tick",y),h.running?v():l()})),t.TickDirectiveHandlerCompact=function(){(0,i.AddDirectiveHandler)(t.TickDirectiveHandler)}},198:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FetchMagicHandlerCompact=t.FetchMagicHandler=void 0;const i=n(992),r=new(n(374).FetchConcept),o=function(){let e={install:()=>(0,i.GetGlobal)().SetFetchConcept(r),uninstall:()=>(0,i.GetGlobal)().SetFetchConcept(null),get:(e,t)=>r.Get(e,t),addPathHandler:(e,t)=>r.AddPathHandler(e,t),removePathHandler:e=>r.RemovePathHandler(e),mockResponse:e=>r.MockResponse(e)};return(0,i.CreateReadonlyProxy)(e)}();t.FetchMagicHandler=(0,i.CreateMagicHandlerCallback)("fetch",(()=>o)),t.FetchMagicHandlerCompact=function(){(0,i.AddMagicHandler)(t.FetchMagicHandler)}},534:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FormatMagicHandlerCompact=t.FormatMagicHandler=void 0;const i=n(992);t.FormatMagicHandler=(0,i.CreateMagicHandlerCallback)("format",(({componentId:e,component:t,contextElement:n})=>{let[r,o,l]=(0,i.InitJITProxy)("format",t||(0,i.FindComponentById)(e),n);if(!r||o)return o;let a=(e,t,n)=>(0,i.StreamData)(e,(e=>(0,i.StreamData)(t,(t=>n(e,t))))),s=0,c={nextTick:t=>{let n=++s;return new Promise((r=>{var o;return null===(o=(0,i.FindComponentById)(e))||void 0===o?void 0:o.GetBackend().changes.AddNextTickHandler((()=>{t instanceof Promise?t.then((e=>r(n===s?e:(0,i.GetGlobal)().CreateNothing()))):r(n===s?t:(0,i.GetGlobal)().CreateNothing())}))}))},comma:e=>(0,i.StreamData)(e,(e=>{let[t,n=""]=(0,i.ToString)(e).split(".");return t=t.replace(/\B(?=(\d{3})+(?!\d))/g,","),n?`${t}.${n}`:t})),prefix:(e,t)=>a(e,t,((e,t)=>t+e)),suffix:(e,t)=>a(e,t,((e,t)=>e+t)),affix:(e,t,n)=>a(e,t,((e,t)=>a(t+e,n,((e,t)=>e+t)))),round:(e,t)=>(0,i.StreamData)(e,(e=>{let n=parseFloat((0,i.ToString)(e));return n||0===n?(Math.round(100*n)/100).toFixed(t||0).toString():n})),map:(e,t)=>(0,i.StreamData)(e,(e=>{if(Array.isArray(e))return Array.isArray(t)?e.filter(((e,n)=>t.includes(n))):e.at("string"==typeof t?parseInt(t):t);if((0,i.IsObject)(e)){if(!Array.isArray(t))return e[t.toString()];let n={};return Object.entries(e).forEach((([e,i])=>{t.includes(e)&&(n[e]=i)})),n}return e}))};return l[r]=(0,i.CreateReadonlyProxy)(c)})),t.FormatMagicHandlerCompact=function(){(0,i.AddMagicHandler)(t.FormatMagicHandler)}},484:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetMagicHandlerCompact=t.GetMagicHandler=void 0;const i=n(992);let r=new Array;function o(e){let t=r.find((t=>t.contextElement===e));return t?t.checkpoint:-1}t.GetMagicHandler=(0,i.CreateMagicHandlerCallback)("get",(({componentId:e,component:t,contextElement:n})=>{let l=function(e,t){var n;let i=r.find((e=>e.contextElement===t));return i?++i.checkpoint:(r.push({contextElement:t,checkpoint:0}),null===(n=null==e?void 0:e.FindElementScope(t))||void 0===n||n.AddUninitCallback((()=>{r.splice(r.findIndex((e=>e.contextElement===t)),1)})),0)}(t||(0,i.FindComponentById)(e),n);return(e,t)=>l!=o(n)?Promise.reject():null===e?null:new Promise(((r,a)=>{(0,i.GetGlobal)().GetFetchConcept().Get(e,{method:"GET",credentials:"same-origin"}).then((e=>t?e.json():e.text())).then((e=>{l==o(n)&&r(e)})).catch(a)}))})),t.GetMagicHandlerCompact=function(){(0,i.AddMagicHandler)(t.GetMagicHandler)}},822:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayMagicHandlerCompact=t.OverlayMagicHandler=void 0;const i=n(992);let r={element:document.createElement("div"),zIndex:999,showCount:0,visible:!1,overflow:!1},o={position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.63)",backdropFilter:"blur(4px)",zIndex:""};function l(){o.zIndex=r.zIndex.toString(),Object.entries(o).forEach((([e,t])=>{e in r.element.style&&(r.element.style[e]=t)}))}function a(){var e;r.showCount=r.showCount<0?0:r.showCount,(e=r.showCount>0)!=r.visible&&(r.visible=e,r.overflow=document.body.clientHeight<document.body.scrollHeight,r.element.style.width=e?o.width:"0",window.dispatchEvent(new CustomEvent("overlay.visibility",{detail:{visible:e}})),window.dispatchEvent(new CustomEvent("overlay."+(e?"visible":"hidden"))))}const s=function(){l(),r.element.style.width="0",document.body.appendChild(r.element),r.element.addEventListener("click",(e=>{window.dispatchEvent(new CustomEvent("overlay.click",{detail:{native:e,bubbled:e.target!==r.element}}))}));let e={setStyle:(e,t)=>{o[e]=t,l()},applyStyles:l,offsetShowCount:e=>{r.showCount+=e,a()}};return(0,i.CreateInplaceProxy)((0,i.BuildProxyOptions)({getter:t=>t&&r.hasOwnProperty(t)?r[t]:t&&e.hasOwnProperty(t)?e[t]:"styles"===t?o:void 0,setter:(e,t)=>("zIndex"===e?(r.zIndex="number"==typeof t?t:parseInt(t)||0,o.zIndex=r.zIndex.toString(),r.element.style.zIndex=o.zIndex):"showCount"===e?(r.showCount="number"==typeof t?t:parseInt(t)||0,a()):"styles"===e&&(0,i.IsObject)(t)&&(Object.keys(o).forEach((e=>{e in r.element.style&&r.element.style.removeProperty(e)})),o=t,l()),!0),lookup:[...Object.keys(r),...Object.keys(e),"styles"]}))}();t.OverlayMagicHandler=(0,i.CreateMagicHandlerCallback)("overlay",(()=>s)),t.OverlayMagicHandlerCompact=function(){(0,i.AddMagicHandler)(t.OverlayMagicHandler)}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(992),t=n(837),i=n(542),r=n(356),o=n(358),l=n(716),a=n(373),s=n(838),c=n(674),d=n(994),u=n(534),h=n(484),p=n(198),m=n(822);(0,e.WaitForGlobal)().then((()=>{(0,e.GetGlobal)().SetConcept("resource",new t.ResourceConcept),(0,i.AttrDirectiveHandlerCompact)(),(0,r.IntersectionDirectiveHandlerCompact)(),(0,o.TickDirectiveHandlerCompact)(),(0,l.FormDirectiveHandlerCompact)(),(0,a.StateDirectiveHandlerCompact)(),(0,s.OverlayDirectiveHandlerCompact)(),(0,c.MouseDirectiveHandlerCompact)(),(0,d.KeyboardDirectiveHandlerCompact)(),(0,u.FormatMagicHandlerCompact)(),(0,h.GetMagicHandlerCompact)(),(0,p.FetchMagicHandlerCompact)(),(0,m.OverlayMagicHandlerCompact)()}))})()})();